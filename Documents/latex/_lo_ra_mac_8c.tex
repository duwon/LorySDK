\hypertarget{_lo_ra_mac_8c}{}\section{Lora\+Lib/\+Mac/\+Lo\+Ra\+Mac.c 파일 참조}
\label{_lo_ra_mac_8c}\index{Lora\+Lib/\+Mac/\+Lo\+Ra\+Mac.\+c@{Lora\+Lib/\+Mac/\+Lo\+Ra\+Mac.\+c}}


Lo\+Ra M\+AC layer implementation  


{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}utilities.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}time\+Server.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Lo\+Ra\+Mac.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}region/\+Region.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Lo\+Ra\+Mac\+Crypto.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}debug.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Lo\+Ra\+Mac\+Test.\+h\char`\"{}}\newline
Lo\+Ra\+Mac.\+c에 대한 include 의존 그래프
% FIG 0
\subsection*{매크로}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_lo_ra_mac_8c_a54769799fcc79d1d3fd1f19f123cc57b}{L\+O\+R\+A\+M\+A\+C\+\_\+\+P\+H\+Y\+\_\+\+M\+A\+X\+P\+A\+Y\+L\+O\+AD}}~255
\item 
\#define \mbox{\hyperlink{_lo_ra_mac_8c_a4ac517018d0390785daf8d90bf99df8f}{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH}}~128
\item 
\#define \mbox{\hyperlink{_lo_ra_mac_8c_ae2ccbfeefb0390b3cafca4da463d245c}{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+F\+O\+P\+T\+S\+\_\+\+L\+E\+N\+G\+TH}}~15
\item 
\#define \mbox{\hyperlink{_lo_ra_mac_8c_a1d58cbd560840cdab3e4427797e88c3a}{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+1\+\_\+\+H\+O\+UR}}~100
\item 
\#define \mbox{\hyperlink{_lo_ra_mac_8c_a70461da0dc970b3de51718ab397a81db}{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+10\+\_\+\+H\+O\+U\+RS}}~1000
\item 
\#define \mbox{\hyperlink{_lo_ra_mac_8c_ada6c3c87744e22f1c053caba7c40d26c}{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+24\+\_\+\+H\+O\+U\+RS}}~10000
\end{DoxyCompactItemize}
\subsection*{열거형 타입}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490}{e\+Lo\+Ra\+Mac\+State}} \{ \newline
\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a3af5105c630ff1cfa443789cfa2f318c}{L\+O\+R\+A\+M\+A\+C\+\_\+\+I\+D\+LE}} = 0x00000000, 
\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}{L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+R\+U\+N\+N\+I\+NG}} = 0x00000001, 
\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a51fd14464af45ead2dda2a90760e4bc4}{L\+O\+R\+A\+M\+A\+C\+\_\+\+RX}} = 0x00000002, 
\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a99ee636d0a66bf7f2a5644b5947dce2f}{L\+O\+R\+A\+M\+A\+C\+\_\+\+A\+C\+K\+\_\+\+R\+EQ}} = 0x00000004, 
\newline
\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490ac3b5306588342cdeffe6367350d875c3}{L\+O\+R\+A\+M\+A\+C\+\_\+\+A\+C\+K\+\_\+\+R\+E\+T\+RY}} = 0x00000008, 
\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490aea3d825c5789497c1dd7515b26a8e8f8}{L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+D\+E\+L\+A\+Y\+ED}} = 0x00000010, 
\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490ad649702e2b40e41dbed3ff5b2e3c21c5}{L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+C\+O\+N\+F\+IG}} = 0x00000020, 
\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a7c7d70244f468d92565a9e078d0790bf}{L\+O\+R\+A\+M\+A\+C\+\_\+\+R\+X\+\_\+\+A\+B\+O\+RT}} = 0x00000040
 \}
\end{DoxyCompactItemize}
\subsection*{함수}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_ac87ba7b0231ab8e90b130849e3dee4be}{On\+Radio\+Tx\+Done}} (void)
\begin{DoxyCompactList}\small\item\em Function to be executed on Radio Tx Done event \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_a420f8e89407bab48414b1058d8071c97}{Prepare\+Rx\+Done\+Abort}} (void)
\begin{DoxyCompactList}\small\item\em This function prepares the M\+AC to abort the execution of function On\+Radio\+Rx\+Done in case of a reception error. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_a34d9307ff02304a070ade799731ae0ed}{On\+Radio\+Rx\+Done}} (uint8\+\_\+t $\ast$payload, uint16\+\_\+t size, int16\+\_\+t rssi, int8\+\_\+t snr)
\begin{DoxyCompactList}\small\item\em Function to be executed on Radio Rx Done event \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_a31161d39c6adb93e52f1a0402dd55416}{On\+Radio\+Tx\+Timeout}} (void)
\begin{DoxyCompactList}\small\item\em Function executed on Radio Tx Timeout event \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_a414d6e1b6ffc2d8b5dfe2621a9c35ca5}{On\+Radio\+Rx\+Error}} (void)
\begin{DoxyCompactList}\small\item\em Function executed on Radio Rx error event \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_a4aa0011eefde1209939b3736fb62fbd1}{On\+Radio\+Rx\+Timeout}} (void)
\begin{DoxyCompactList}\small\item\em Function executed on Radio Rx Timeout event \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_a3f66ff4ffb45c3be2a603fec651da617}{On\+Mac\+State\+Check\+Timer\+Event}} (void)
\begin{DoxyCompactList}\small\item\em Function executed on Resend Frame timer event. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_aff2188867ec43982ec7701c4815bc0ba}{On\+Tx\+Delayed\+Timer\+Event}} (void)
\begin{DoxyCompactList}\small\item\em Function executed on duty cycle delayed Tx timer event \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_aee5c5399a6f41188ba87be8239bae8a9}{On\+Rx\+Window1\+Timer\+Event}} (void)
\begin{DoxyCompactList}\small\item\em Function executed on first Rx window timer event \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_a280d52c79c5de2428ef3f1e361043b23}{On\+Rx\+Window2\+Timer\+Event}} (void)
\begin{DoxyCompactList}\small\item\em Function executed on second Rx window timer event \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_aa36f254fbd91a58953cad5a84d651db3}{Check\+To\+Disable\+Ack\+Timeout}} (bool node\+Ack\+Requested, \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga29dc2e097802faaf8fbd0e18ff99695f}{Device\+Class\+\_\+t}} dev\+Class, bool ack\+Received, uint8\+\_\+t ack\+Timeout\+Retries\+Counter, uint8\+\_\+t ack\+Timeout\+Retries)
\begin{DoxyCompactList}\small\item\em Check if the On\+Ack\+Timeout\+Timer has do be disabled. If so, the function disables it. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_a519a3e861bd16b2720a427308c6addc6}{On\+Ack\+Timeout\+Timer\+Event}} (void)
\begin{DoxyCompactList}\small\item\em Function executed on Ack\+Timeout timer event \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_a665f9a0f2130f97e3a3cc3ba8c14c208}{Rx\+Window\+Setup}} (bool rx\+Continuous, uint32\+\_\+t max\+Rx\+Window)
\begin{DoxyCompactList}\small\item\em Initializes and opens the reception window \end{DoxyCompactList}\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_a15148f975932c7dbc2ed3effb1803e9e}{Is\+Sticky\+Mac\+Command\+Pending}} (void)
\begin{DoxyCompactList}\small\item\em Verifies if sticky M\+AC commands are pending. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_ab0c0f938f7421b03f6890047f20df489}{Set\+Mlme\+Schedule\+Uplink\+Indication}} (void)
\begin{DoxyCompactList}\small\item\em Configures the events to trigger an M\+L\+M\+E-\/\+Indication with a M\+L\+ME type of M\+L\+M\+E\+\_\+\+S\+C\+H\+E\+D\+U\+L\+E\+\_\+\+U\+P\+L\+I\+NK. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_ab27d901e29d6f16957f783c94781ef70}{Add\+Mac\+Command}} (uint8\+\_\+t cmd, uint8\+\_\+t p1, uint8\+\_\+t p2)
\begin{DoxyCompactList}\small\item\em Adds a new M\+AC command to be sent. \end{DoxyCompactList}\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a728bf951414ad5fdec0889f761f05962}{Parse\+Mac\+Commands\+To\+Repeat}} (uint8\+\_\+t $\ast$cmd\+Buf\+In, uint8\+\_\+t length, uint8\+\_\+t $\ast$cmd\+Buf\+Out)
\begin{DoxyCompactList}\small\item\em Parses the M\+AC commands which must be repeated. \end{DoxyCompactList}\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_ab496fc8c52b4322c7735a8a38c815c89}{Validate\+Payload\+Length}} (uint8\+\_\+t lenN, int8\+\_\+t datarate, uint8\+\_\+t f\+Opts\+Len)
\begin{DoxyCompactList}\small\item\em Validates if the payload fits into the frame, taking the datarate into account. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_afa7e82de5358cd2d2605c888cb1860a3}{Process\+Mac\+Commands}} (uint8\+\_\+t $\ast$payload, uint8\+\_\+t mac\+Index, uint8\+\_\+t commands\+Size, uint8\+\_\+t snr)
\begin{DoxyCompactList}\small\item\em Decodes M\+AC commands in the f\+Opts field and in the payload \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a1d5d30b5cbe0349bab89375480c377bf}{Send}} (\mbox{\hyperlink{group___l_o_r_a_m_a_c_gaff5f7004a7a48d53d858e26834b53efa}{Lo\+Ra\+Mac\+Header\+\_\+t}} $\ast$mac\+Hdr, uint8\+\_\+t f\+Port, void $\ast$f\+Buffer, uint16\+\_\+t f\+Buffer\+Size)
\begin{DoxyCompactList}\small\item\em Lo\+Ra\+M\+AC layer generic send frame \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a1c2e41a970de949b0b59a8177cb8ef29}{Prepare\+Frame}} (\mbox{\hyperlink{group___l_o_r_a_m_a_c_gaff5f7004a7a48d53d858e26834b53efa}{Lo\+Ra\+Mac\+Header\+\_\+t}} $\ast$mac\+Hdr, \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga12b0f3e7e6edd26cfdb9d10a1d873ab7}{Lo\+Ra\+Mac\+Frame\+Ctrl\+\_\+t}} $\ast$f\+Ctrl, uint8\+\_\+t f\+Port, void $\ast$f\+Buffer, uint16\+\_\+t f\+Buffer\+Size)
\begin{DoxyCompactList}\small\item\em Lo\+Ra\+M\+AC layer frame buffer initialization \end{DoxyCompactList}\item 
static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_afac9f47df560a2c63ebe868fcf531716}{Schedule\+Tx}} (bool allow\+Delayed\+Tx)
\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_ab13ebc898e6d4ecbb3deb43bf12e22cf}{Calculate\+Back\+Off}} (uint8\+\_\+t channel)
\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a2a974677f0401e2575148082667331de}{Send\+Frame\+On\+Channel}} (uint8\+\_\+t channel)
\begin{DoxyCompactList}\small\item\em Lo\+Ra\+M\+AC layer prepared frame buffer transmission with channel specification \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a6a476e328faedf4544aa63adf40f931e}{Set\+Tx\+Continuous\+Wave}} (uint16\+\_\+t timeout)
\begin{DoxyCompactList}\small\item\em Sets the radio in continuous transmission mode \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a1974034d3a6ef2a0c38f4f853cfb62fb}{Set\+Tx\+Continuous\+Wave1}} (uint16\+\_\+t timeout, uint32\+\_\+t frequency, uint8\+\_\+t power)
\begin{DoxyCompactList}\small\item\em Sets the radio in continuous transmission mode \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_a43cd9df3787bdfb6062206215745e473}{Reset\+Mac\+Parameters}} (void)
\begin{DoxyCompactList}\small\item\em Resets M\+AC specific parameters to default \end{DoxyCompactList}\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_a1450f450bbea448d9a5235f86aa367ca}{Is\+F\+Port\+Allowed}} (uint8\+\_\+t f\+Port)
\begin{DoxyCompactList}\small\item\em Resets M\+AC specific parameters to default \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{_lo_ra_mac_8c_aeadfc508b9129926685664bc456db4f6}{Open\+Continuous\+Rx2\+Window}} (void)
\begin{DoxyCompactList}\small\item\em Opens up a continuous RX 2 window. This is used for class c devices. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga7ca445cf825e45999810b3991273eba5}{Lo\+Ra\+Mac\+Initialization}} (\mbox{\hyperlink{group___l_o_r_a_m_a_c_gafc0443f59f49d8597c0accb5e6074c44}{Lo\+Ra\+Mac\+Primitives\+\_\+t}} $\ast$primitives, \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga2899a8ebbefe08452ddf89e14159a160}{Lo\+Ra\+Mac\+Callback\+\_\+t}} $\ast$callbacks, \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga80c48efda9ae02e14b58160d34a798dd}{Lo\+Ra\+Mac\+Region\+\_\+t}} region)
\begin{DoxyCompactList}\small\item\em Lo\+Ra\+M\+AC layer initialization \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga8b0aeaf75f9404ce01da9b202252c231}{Lo\+Ra\+Mac\+Query\+Tx\+Possible}} (uint8\+\_\+t size, \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga3219fea2f3c3355f80d2ed29db613683}{Lo\+Ra\+Mac\+Tx\+Info\+\_\+t}} $\ast$tx\+Info)
\begin{DoxyCompactList}\small\item\em Queries the Lo\+Ra\+M\+AC if it is possible to send the next frame with a given payload size. The Lo\+Ra\+M\+AC takes scheduled M\+AC commands into account and reports, when the frame can be send or not. \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga3e208a4f73213aa801eeb9d9da7b71dd}{Lo\+Ra\+Mac\+Mib\+Get\+Request\+Confirm}} (\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga9269d5ae88dd157a58e9d60f680d63f0}{Mib\+Request\+Confirm\+\_\+t}} $\ast$mib\+Get)
\begin{DoxyCompactList}\small\item\em Lo\+Ra\+M\+AC M\+I\+B-\/\+Get \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga7a4ee0ced221591206b09630d4a70844}{Lo\+Ra\+Mac\+Mib\+Set\+Request\+Confirm}} (\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga9269d5ae88dd157a58e9d60f680d63f0}{Mib\+Request\+Confirm\+\_\+t}} $\ast$mib\+Set)
\begin{DoxyCompactList}\small\item\em Lo\+Ra\+M\+AC M\+I\+B-\/\+Set \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gad74920538f07f34e773ca5de9ec89370}{Lo\+Ra\+Mac\+Channel\+Add}} (uint8\+\_\+t id, \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1360ca6f82c6d125ea43a9dad9b56184}{Channel\+Params\+\_\+t}} params)
\begin{DoxyCompactList}\small\item\em Lo\+Ra\+M\+AC channel add service \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gafad6c929a33557ac2fd4000bcacd9453}{Lo\+Ra\+Mac\+Channel\+Remove}} (uint8\+\_\+t id)
\begin{DoxyCompactList}\small\item\em Lo\+Ra\+M\+AC channel remove service \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga89622bf6a1705558ba7b76dbb2d59c2f}{Lo\+Ra\+Mac\+Multicast\+Channel\+Link}} (\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga02d2523505cac70954c043074087ea65}{Multicast\+Params\+\_\+t}} $\ast$channel\+Param)
\begin{DoxyCompactList}\small\item\em Lo\+Ra\+M\+AC multicast channel link service \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1542a215938fcff1d665ae48b449335e}{Lo\+Ra\+Mac\+Multicast\+Channel\+Unlink}} (\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga02d2523505cac70954c043074087ea65}{Multicast\+Params\+\_\+t}} $\ast$channel\+Param)
\begin{DoxyCompactList}\small\item\em Lo\+Ra\+M\+AC multicast channel unlink service \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga097113f30feecc17c780940ff74af33e}{Lo\+Ra\+Mac\+Mlme\+Request}} (\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga5a32f5920a7a3d04435c142be7f38b19}{Mlme\+Req\+\_\+t}} $\ast$mlme\+Request)
\begin{DoxyCompactList}\small\item\em Lo\+Ra\+M\+AC M\+L\+M\+E-\/\+Request \end{DoxyCompactList}\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga79768f8a3c22aaff84d4dfcc77ad508c}{Lo\+Ra\+Mac\+Mcps\+Request}} (\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga038e0fe5eecc1fc4e8165eace8e2e683}{Mcps\+Req\+\_\+t}} $\ast$mcps\+Request)
\begin{DoxyCompactList}\small\item\em Lo\+Ra\+M\+AC M\+C\+P\+S-\/\+Request \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___l_o_r_a_m_a_c_t_e_s_t_ga3e8dc79232b2c86d12d8b4191324283d}{Lo\+Ra\+Mac\+Test\+Rx\+Windows\+On}} (bool enable)
\begin{DoxyCompactList}\small\item\em Enabled or disables the reception windows \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___l_o_r_a_m_a_c_t_e_s_t_ga191314e00a8a27f426427473ba6821a7}{Lo\+Ra\+Mac\+Test\+Set\+Mic}} (uint16\+\_\+t tx\+Packet\+Counter)
\begin{DoxyCompactList}\small\item\em Enables the M\+IC field test \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___l_o_r_a_m_a_c_t_e_s_t_gacee5e0492e548af9e1ec5a995e460865}{Lo\+Ra\+Mac\+Test\+Set\+Duty\+Cycle\+On}} (bool enable)
\begin{DoxyCompactList}\small\item\em Enabled or disables the duty cycle \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___l_o_r_a_m_a_c_t_e_s_t_ga8cf3cc21ea237c5620536cea2750463e}{Lo\+Ra\+Mac\+Test\+Set\+Channel}} (uint8\+\_\+t channel)
\begin{DoxyCompactList}\small\item\em Sets the channel index \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{변수}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga80c48efda9ae02e14b58160d34a798dd}{Lo\+Ra\+Mac\+Region\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{Lo\+Ra\+Mac\+Region}}
\item 
static uint8\+\_\+t $\ast$ \mbox{\hyperlink{_lo_ra_mac_8c_a59f455ebe7f601e837265f8f2fc7927e}{Lo\+Ra\+Mac\+Dev\+Eui}}
\item 
static uint8\+\_\+t $\ast$ \mbox{\hyperlink{_lo_ra_mac_8c_ae312edd6844ed16fe6bc8b57349476e0}{Lo\+Ra\+Mac\+App\+Eui}}
\item 
static uint8\+\_\+t $\ast$ \mbox{\hyperlink{_lo_ra_mac_8c_af8e40b7ed2e2a7d631a5849e7c08cbce}{Lo\+Ra\+Mac\+App\+Key}}
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a9816dc9026964ce255ef940f5db374e2}{Lo\+Ra\+Mac\+Nwk\+S\+Key}} \mbox{[}$\,$\mbox{]}
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_ad5e7927ea18fa50f7e31b4b77a51b7ac}{Lo\+Ra\+Mac\+App\+S\+Key}} \mbox{[}$\,$\mbox{]}
\item 
static uint16\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_aed31163d2ca60ba37febab0f2f53eb16}{Lo\+Ra\+Mac\+Dev\+Nonce}}
\item 
static uint32\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a7ca09f5a9430aecb3c21727f4aee5bf0}{Lo\+Ra\+Mac\+Net\+ID}}
\item 
static uint32\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{Lo\+Ra\+Mac\+Dev\+Addr}}
\item 
static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga02d2523505cac70954c043074087ea65}{Multicast\+Params\+\_\+t}} $\ast$ \mbox{\hyperlink{_lo_ra_mac_8c_aca81cdf8cb24b9a7e02f40d0b9565013}{Multicast\+Channels}} = N\+U\+LL
\item 
static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga29dc2e097802faaf8fbd0e18ff99695f}{Device\+Class\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{Lo\+Ra\+Mac\+Device\+Class}}
\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_ad5c7c76904042bd86508425be3b91a05}{Public\+Network}}
\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_a037bdbc41e8b3deeaab3684cf4b23f66}{Repeater\+Support}}
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{Lo\+Ra\+Mac\+Buffer}} \mbox{[}\mbox{\hyperlink{_lo_ra_mac_8c_a54769799fcc79d1d3fd1f19f123cc57b}{L\+O\+R\+A\+M\+A\+C\+\_\+\+P\+H\+Y\+\_\+\+M\+A\+X\+P\+A\+Y\+L\+O\+AD}}\mbox{]}
\item 
static uint16\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{Lo\+Ra\+Mac\+Buffer\+Pkt\+Len}} = 0
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{Lo\+Ra\+Mac\+Tx\+Payload\+Len}} = 0
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{Lo\+Ra\+Mac\+Rx\+Payload}} \mbox{[}\mbox{\hyperlink{_lo_ra_mac_8c_a54769799fcc79d1d3fd1f19f123cc57b}{L\+O\+R\+A\+M\+A\+C\+\_\+\+P\+H\+Y\+\_\+\+M\+A\+X\+P\+A\+Y\+L\+O\+AD}}\mbox{]}
\item 
static uint32\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{Up\+Link\+Counter}} = 0
\item 
static uint32\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a7a566925baf83b1b3da9209dfa4bb79a}{Down\+Link\+Counter}} = 0
\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_a65360317f68eee4d85b01ed379037fc9}{Is\+Up\+Link\+Counter\+Fixed}} = false
\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_a60695a58f371fb7e366c4059ecbf563a}{Is\+Rx\+Windows\+Enabled}} = true
\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_a17b05239ef8b6078a499010ede20ec54}{Is\+Lo\+Ra\+Mac\+Network\+Joined}} = false
\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_aa617d5fb9230c5f87fff20a5466863b4}{Adr\+Ctrl\+On}} = false
\item 
static uint32\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a24f0356a3491bf07be9ac99ffa33896a}{Adr\+Ack\+Counter}} = 0
\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{Node\+Ack\+Requested}} = false
\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_ab2844ac436592f1158ef418473f0fe85}{Srv\+Ack\+Requested}} = false
\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_a2231642d3200b2ff5f7dba09ab9a04cc}{Mac\+Commands\+In\+Next\+Tx}} = false
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{Mac\+Commands\+Buffer\+Index}} = 0
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a44f97c375266b0b4b2e9d5f8fc01c43f}{Mac\+Commands\+Buffer\+To\+Repeat\+Index}} = 0
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{Mac\+Commands\+Buffer}} \mbox{[}\mbox{\hyperlink{_lo_ra_mac_8c_a4ac517018d0390785daf8d90bf99df8f}{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH}}\mbox{]}
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_abebef1d62dd02162c5f9dd50ba478682}{Mac\+Commands\+Buffer\+To\+Repeat}} \mbox{[}\mbox{\hyperlink{_lo_ra_mac_8c_a4ac517018d0390785daf8d90bf99df8f}{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH}}\mbox{]}
\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_gad9c979008eadcd47b4d0f90bdae38b44}{Lo\+Ra\+Mac\+Params\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{Lo\+Ra\+Mac\+Params}}
\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_gad9c979008eadcd47b4d0f90bdae38b44}{Lo\+Ra\+Mac\+Params\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_ade912e866cc955f089bb441a0f7d50b6}{Lo\+Ra\+Mac\+Params\+Defaults}}
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_adac3fa8dc924333e009083733e3e089d}{Channels\+Nb\+Rep\+Counter}} = 0
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_af9c30f05777197d7d35dbc91353c3202}{Max\+D\+Cycle}} = 0
\item 
static uint16\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_afe9c54c21b80f4749d4532625ba3663a}{Aggregated\+D\+Cycle}}
\item 
static \mbox{\hyperlink{utilities_8h_a4215ca43d3e953099ea758ce428599d0}{Timer\+Time\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a63fce22a5f0870ce0cb81b36f4a1316c}{Aggregated\+Last\+Tx\+Done\+Time}}
\item 
static \mbox{\hyperlink{utilities_8h_a4215ca43d3e953099ea758ce428599d0}{Timer\+Time\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_ae0a5d717a1921f9ee79175f30c1743e9}{Aggregated\+Time\+Off}}
\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_af662c54719ba22aa5580de1fc74de2dc}{Duty\+Cycle\+On}}
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}}
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_af488d815cc2bb2d3074ee96c317e15f5}{Last\+Tx\+Channel}}
\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_a4088d0ca2ff21fd5cdc110e14816dd53}{Last\+Tx\+Is\+Join\+Request}}
\item 
static \mbox{\hyperlink{utilities_8h_a4215ca43d3e953099ea758ce428599d0}{Timer\+Time\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a9f1317151d5bee85c310b5aa2d38725a}{Lo\+Ra\+Mac\+Initialization\+Time}} = 0
\item 
uint32\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{Lo\+Ra\+Mac\+State}} = \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a3af5105c630ff1cfa443789cfa2f318c}{L\+O\+R\+A\+M\+A\+C\+\_\+\+I\+D\+LE}}
\item 
static \mbox{\hyperlink{time_server_8h_ae706369dabb8aa6c6075f25119b052a5}{Timer\+Event\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{Mac\+State\+Check\+Timer}}
\item 
static \mbox{\hyperlink{group___l_o_r_a_m_a_c_gafc0443f59f49d8597c0accb5e6074c44}{Lo\+Ra\+Mac\+Primitives\+\_\+t}} $\ast$ \mbox{\hyperlink{_lo_ra_mac_8c_a18bac241dfa18d510ea2e53f0c740bd3}{Lo\+Ra\+Mac\+Primitives}}
\item 
static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga2899a8ebbefe08452ddf89e14159a160}{Lo\+Ra\+Mac\+Callback\+\_\+t}} $\ast$ \mbox{\hyperlink{_lo_ra_mac_8c_a186b26684514ac88ef7306c45f96dbe3}{Lo\+Ra\+Mac\+Callbacks}}
\item 
static \mbox{\hyperlink{struct_radio_events__t}{Radio\+Events\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_ab2d43d0043628b27fcec8e64b0e86086}{Radio\+Events}}
\item 
static \mbox{\hyperlink{time_server_8h_ae706369dabb8aa6c6075f25119b052a5}{Timer\+Event\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_aa28e0f35d9a6698802f27ea76ad955ea}{Tx\+Delayed\+Timer}}
\item 
static \mbox{\hyperlink{time_server_8h_ae706369dabb8aa6c6075f25119b052a5}{Timer\+Event\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a22b50acc163059d07ebaea70180be11e}{Rx\+Window\+Timer1}}
\item 
static \mbox{\hyperlink{time_server_8h_ae706369dabb8aa6c6075f25119b052a5}{Timer\+Event\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_ad7a9d17000e9b3575a2ec1ae5c45d145}{Rx\+Window\+Timer2}}
\item 
static uint32\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a90fcc76489ac561999ed35075ccbea8e}{Rx\+Window1\+Delay}}
\item 
static uint32\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a52008ffee9185d56a2dc9dc3c390ed22}{Rx\+Window2\+Delay}}
\item 
static \mbox{\hyperlink{group___r_e_g_i_o_n_ga375c038078dfcfc7ef14280021db719e}{Rx\+Config\+Params\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}{Rx\+Window1\+Config}}
\item 
static \mbox{\hyperlink{group___r_e_g_i_o_n_ga375c038078dfcfc7ef14280021db719e}{Rx\+Config\+Params\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{Rx\+Window2\+Config}}
\item 
static \mbox{\hyperlink{time_server_8h_ae706369dabb8aa6c6075f25119b052a5}{Timer\+Event\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_afab06ef771ba34680a8b1f36cd3e3d77}{Ack\+Timeout\+Timer}}
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a3d8e8bba7cacae102725b355fb60e039}{Ack\+Timeout\+Retries}} = 1
\item 
static uint8\+\_\+t \mbox{\hyperlink{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}{Ack\+Timeout\+Retries\+Counter}} = 1
\item 
static bool \mbox{\hyperlink{_lo_ra_mac_8c_a2d561614b5282ba8910b6b75a7f786f7}{Ack\+Timeout\+Retry}} = false
\item 
\mbox{\hyperlink{utilities_8h_a4215ca43d3e953099ea758ce428599d0}{Timer\+Time\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_aa17a8607485db100d315e74853dd217e}{Tx\+Time\+On\+Air}} = 0
\item 
static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga202591b6553d63fae89bd42787496616}{Mcps\+Indication\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{Mcps\+Indication}}
\item 
static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga925536babf8abe83918a19f5ae88bd44}{Mcps\+Confirm\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{Mcps\+Confirm}}
\item 
static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga3003d863a5b49c5f3371ffa5cabb1a0b}{Mlme\+Indication\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a666e4b5667243c4dcf2ebb931246619d}{Mlme\+Indication}}
\item 
static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga73d9d9e11e282a6c258c4d22865fe824}{Mlme\+Confirm\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{Mlme\+Confirm}}
\item 
static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga082bd3322087fa2f42c902a0b360ff4f}{Lo\+Ra\+Mac\+Rx\+Slot\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_a0a258bf8cfad5219bfd579257e523fc1}{Rx\+Slot}}
\item 
\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga4044e22ced14e9517d7a21663c577c30}{Lo\+Ra\+Mac\+Flags\+\_\+t}} \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{Lo\+Ra\+Mac\+Flags}}
\end{DoxyCompactItemize}


\subsection{상세한 설명}
Lo\+Ra M\+AC layer implementation 

\begin{DoxyCopyright}{Copyright}
Revised B\+SD License, see section L\+I\+C\+E\+N\+SE.
\end{DoxyCopyright}

\begin{DoxyCode}
  \_\_\_\_\_\_                              \_
 / \_\_\_\_\_)             \_              | |
( (\_\_\_\_  \_\_\_\_\_ \_\_\_\_ \_| |\_ \_\_\_\_\_  \_\_\_\_| |\_\_
 \(\backslash\)\_\_\_\_ \(\backslash\)| \_\_\_ |    (\_   \_) \_\_\_ |/ \_\_\_)  \_ \(\backslash\)
 \_\_\_\_\_) ) \_\_\_\_| | | || |\_| \_\_\_\_( (\_\_\_| | | |
(\_\_\_\_\_\_/|\_\_\_\_\_)\_|\_|\_| \(\backslash\)\_\_)\_\_\_\_\_)\(\backslash\)\_\_\_\_)\_| |\_|
(C)2013-2017 Semtech

 \_\_\_ \_\_\_\_\_ \_   \_\_\_ \_  \_\_\_\_\_ \_\_\_  \_\_\_  \_\_\_ \_\_\_
/ \_\_|\_   \_/\_\(\backslash\) / \_\_| |/ / \_\_/ \_ \(\backslash\)| \_ \(\backslash\)/ \_\_| \_\_|
\(\backslash\)\_\_ \(\backslash\) | |/ \_ \(\backslash\) (\_\_| \textcolor{stringliteral}{' <| \_| (\_) |   / (\_\_| \_|}
\textcolor{stringliteral}{|\_\_\_/ |\_/\_/ \(\backslash\)\_\(\backslash\)\_\_\_|\_|\(\backslash\)\_\(\backslash\)\_| \(\backslash\)\_\_\_/|\_|\_\(\backslash\)\(\backslash\)\_\_\_|\_\_\_|}
\textcolor{stringliteral}{embedded.connectivity.solutions===============}
\end{DoxyCode}


\begin{DoxyAuthor}{작성자}
Miguel Luis ( Semtech )

Gregory Cristian ( Semtech )

Daniel Jaeckle ( S\+T\+A\+C\+K\+F\+O\+R\+CE ) 
\end{DoxyAuthor}


\subsection{매크로 문서화}
\mbox{\Hypertarget{_lo_ra_mac_8c_a70461da0dc970b3de51718ab397a81db}\label{_lo_ra_mac_8c_a70461da0dc970b3de51718ab397a81db}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+10\+\_\+\+H\+O\+U\+RS@{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+10\+\_\+\+H\+O\+U\+RS}}
\index{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+10\+\_\+\+H\+O\+U\+RS@{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+10\+\_\+\+H\+O\+U\+RS}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+10\+\_\+\+H\+O\+U\+RS}{BACKOFF\_DC\_10\_HOURS}}
{\footnotesize\ttfamily \#define B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+10\+\_\+\+H\+O\+U\+RS~1000}

Lo\+Ra\+Mac duty cycle for the back-\/off procedure during the next 10 hours. 

Lo\+Ra\+Mac.\+c 파일의 73 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a1d58cbd560840cdab3e4427797e88c3a}\label{_lo_ra_mac_8c_a1d58cbd560840cdab3e4427797e88c3a}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+1\+\_\+\+H\+O\+UR@{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+1\+\_\+\+H\+O\+UR}}
\index{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+1\+\_\+\+H\+O\+UR@{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+1\+\_\+\+H\+O\+UR}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+1\+\_\+\+H\+O\+UR}{BACKOFF\_DC\_1\_HOUR}}
{\footnotesize\ttfamily \#define B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+1\+\_\+\+H\+O\+UR~100}

Lo\+Ra\+Mac duty cycle for the back-\/off procedure during the first hour. 

Lo\+Ra\+Mac.\+c 파일의 68 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ada6c3c87744e22f1c053caba7c40d26c}\label{_lo_ra_mac_8c_ada6c3c87744e22f1c053caba7c40d26c}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+24\+\_\+\+H\+O\+U\+RS@{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+24\+\_\+\+H\+O\+U\+RS}}
\index{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+24\+\_\+\+H\+O\+U\+RS@{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+24\+\_\+\+H\+O\+U\+RS}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+24\+\_\+\+H\+O\+U\+RS}{BACKOFF\_DC\_24\_HOURS}}
{\footnotesize\ttfamily \#define B\+A\+C\+K\+O\+F\+F\+\_\+\+D\+C\+\_\+24\+\_\+\+H\+O\+U\+RS~10000}

Lo\+Ra\+Mac duty cycle for the back-\/off procedure during the next 24 hours. 

Lo\+Ra\+Mac.\+c 파일의 78 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ae2ccbfeefb0390b3cafca4da463d245c}\label{_lo_ra_mac_8c_ae2ccbfeefb0390b3cafca4da463d245c}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+F\+O\+P\+T\+S\+\_\+\+L\+E\+N\+G\+TH@{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+F\+O\+P\+T\+S\+\_\+\+L\+E\+N\+G\+TH}}
\index{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+F\+O\+P\+T\+S\+\_\+\+L\+E\+N\+G\+TH@{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+F\+O\+P\+T\+S\+\_\+\+L\+E\+N\+G\+TH}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+F\+O\+P\+T\+S\+\_\+\+L\+E\+N\+G\+TH}{LORA\_MAC\_COMMAND\_MAX\_FOPTS\_LENGTH}}
{\footnotesize\ttfamily \#define L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+F\+O\+P\+T\+S\+\_\+\+L\+E\+N\+G\+TH~15}

Maximum length of the f\+Opts field 

Lo\+Ra\+Mac.\+c 파일의 58 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a4ac517018d0390785daf8d90bf99df8f}\label{_lo_ra_mac_8c_a4ac517018d0390785daf8d90bf99df8f}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH@{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH}}
\index{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH@{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH}{LORA\_MAC\_COMMAND\_MAX\_LENGTH}}
{\footnotesize\ttfamily \#define L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH~128}

Maximum M\+AC commands buffer size 

Lo\+Ra\+Mac.\+c 파일의 53 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a54769799fcc79d1d3fd1f19f123cc57b}\label{_lo_ra_mac_8c_a54769799fcc79d1d3fd1f19f123cc57b}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!L\+O\+R\+A\+M\+A\+C\+\_\+\+P\+H\+Y\+\_\+\+M\+A\+X\+P\+A\+Y\+L\+O\+AD@{L\+O\+R\+A\+M\+A\+C\+\_\+\+P\+H\+Y\+\_\+\+M\+A\+X\+P\+A\+Y\+L\+O\+AD}}
\index{L\+O\+R\+A\+M\+A\+C\+\_\+\+P\+H\+Y\+\_\+\+M\+A\+X\+P\+A\+Y\+L\+O\+AD@{L\+O\+R\+A\+M\+A\+C\+\_\+\+P\+H\+Y\+\_\+\+M\+A\+X\+P\+A\+Y\+L\+O\+AD}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{L\+O\+R\+A\+M\+A\+C\+\_\+\+P\+H\+Y\+\_\+\+M\+A\+X\+P\+A\+Y\+L\+O\+AD}{LORAMAC\_PHY\_MAXPAYLOAD}}
{\footnotesize\ttfamily \#define L\+O\+R\+A\+M\+A\+C\+\_\+\+P\+H\+Y\+\_\+\+M\+A\+X\+P\+A\+Y\+L\+O\+AD~255}

Maximum P\+HY layer payload size 

Lo\+Ra\+Mac.\+c 파일의 48 번째 라인에서 정의되었습니다.



\subsection{열거형 타입 문서화}
\mbox{\Hypertarget{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490}\label{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!e\+Lo\+Ra\+Mac\+State@{e\+Lo\+Ra\+Mac\+State}}
\index{e\+Lo\+Ra\+Mac\+State@{e\+Lo\+Ra\+Mac\+State}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{e\+Lo\+Ra\+Mac\+State}{eLoRaMacState}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490}{e\+Lo\+Ra\+Mac\+State}}}

Lo\+Ra\+Mac internal states \begin{DoxyEnumFields}{열거형 멤버}
\raisebox{\heightof{T}}[0pt][0pt]{\index{L\+O\+R\+A\+M\+A\+C\+\_\+\+I\+D\+LE@{L\+O\+R\+A\+M\+A\+C\+\_\+\+I\+D\+LE}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!L\+O\+R\+A\+M\+A\+C\+\_\+\+I\+D\+LE@{L\+O\+R\+A\+M\+A\+C\+\_\+\+I\+D\+LE}}}\mbox{\Hypertarget{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a3af5105c630ff1cfa443789cfa2f318c}\label{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a3af5105c630ff1cfa443789cfa2f318c}} 
L\+O\+R\+A\+M\+A\+C\+\_\+\+I\+D\+LE&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+R\+U\+N\+N\+I\+NG@{L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+R\+U\+N\+N\+I\+NG}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+R\+U\+N\+N\+I\+NG@{L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+R\+U\+N\+N\+I\+NG}}}\mbox{\Hypertarget{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}\label{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}} 
L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+R\+U\+N\+N\+I\+NG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{L\+O\+R\+A\+M\+A\+C\+\_\+\+RX@{L\+O\+R\+A\+M\+A\+C\+\_\+\+RX}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!L\+O\+R\+A\+M\+A\+C\+\_\+\+RX@{L\+O\+R\+A\+M\+A\+C\+\_\+\+RX}}}\mbox{\Hypertarget{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a51fd14464af45ead2dda2a90760e4bc4}\label{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a51fd14464af45ead2dda2a90760e4bc4}} 
L\+O\+R\+A\+M\+A\+C\+\_\+\+RX&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{L\+O\+R\+A\+M\+A\+C\+\_\+\+A\+C\+K\+\_\+\+R\+EQ@{L\+O\+R\+A\+M\+A\+C\+\_\+\+A\+C\+K\+\_\+\+R\+EQ}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!L\+O\+R\+A\+M\+A\+C\+\_\+\+A\+C\+K\+\_\+\+R\+EQ@{L\+O\+R\+A\+M\+A\+C\+\_\+\+A\+C\+K\+\_\+\+R\+EQ}}}\mbox{\Hypertarget{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a99ee636d0a66bf7f2a5644b5947dce2f}\label{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a99ee636d0a66bf7f2a5644b5947dce2f}} 
L\+O\+R\+A\+M\+A\+C\+\_\+\+A\+C\+K\+\_\+\+R\+EQ&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{L\+O\+R\+A\+M\+A\+C\+\_\+\+A\+C\+K\+\_\+\+R\+E\+T\+RY@{L\+O\+R\+A\+M\+A\+C\+\_\+\+A\+C\+K\+\_\+\+R\+E\+T\+RY}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!L\+O\+R\+A\+M\+A\+C\+\_\+\+A\+C\+K\+\_\+\+R\+E\+T\+RY@{L\+O\+R\+A\+M\+A\+C\+\_\+\+A\+C\+K\+\_\+\+R\+E\+T\+RY}}}\mbox{\Hypertarget{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490ac3b5306588342cdeffe6367350d875c3}\label{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490ac3b5306588342cdeffe6367350d875c3}} 
L\+O\+R\+A\+M\+A\+C\+\_\+\+A\+C\+K\+\_\+\+R\+E\+T\+RY&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+D\+E\+L\+A\+Y\+ED@{L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+D\+E\+L\+A\+Y\+ED}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+D\+E\+L\+A\+Y\+ED@{L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+D\+E\+L\+A\+Y\+ED}}}\mbox{\Hypertarget{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490aea3d825c5789497c1dd7515b26a8e8f8}\label{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490aea3d825c5789497c1dd7515b26a8e8f8}} 
L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+D\+E\+L\+A\+Y\+ED&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+C\+O\+N\+F\+IG@{L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+C\+O\+N\+F\+IG}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+C\+O\+N\+F\+IG@{L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+C\+O\+N\+F\+IG}}}\mbox{\Hypertarget{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490ad649702e2b40e41dbed3ff5b2e3c21c5}\label{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490ad649702e2b40e41dbed3ff5b2e3c21c5}} 
L\+O\+R\+A\+M\+A\+C\+\_\+\+T\+X\+\_\+\+C\+O\+N\+F\+IG&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{L\+O\+R\+A\+M\+A\+C\+\_\+\+R\+X\+\_\+\+A\+B\+O\+RT@{L\+O\+R\+A\+M\+A\+C\+\_\+\+R\+X\+\_\+\+A\+B\+O\+RT}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!L\+O\+R\+A\+M\+A\+C\+\_\+\+R\+X\+\_\+\+A\+B\+O\+RT@{L\+O\+R\+A\+M\+A\+C\+\_\+\+R\+X\+\_\+\+A\+B\+O\+RT}}}\mbox{\Hypertarget{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a7c7d70244f468d92565a9e078d0790bf}\label{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a7c7d70244f468d92565a9e078d0790bf}} 
L\+O\+R\+A\+M\+A\+C\+\_\+\+R\+X\+\_\+\+A\+B\+O\+RT&\\
\hline

\end{DoxyEnumFields}


Lo\+Ra\+Mac.\+c 파일의 302 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
303 \{
304     \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a3af5105c630ff1cfa443789cfa2f318c}{LORAMAC\_IDLE}}          = 0x00000000,
305     \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}{LORAMAC\_TX\_RUNNING}}    = 0x00000001,
306     \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a51fd14464af45ead2dda2a90760e4bc4}{LORAMAC\_RX}}            = 0x00000002,
307     \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a99ee636d0a66bf7f2a5644b5947dce2f}{LORAMAC\_ACK\_REQ}}       = 0x00000004,
308     \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490ac3b5306588342cdeffe6367350d875c3}{LORAMAC\_ACK\_RETRY}}     = 0x00000008,
309     \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490aea3d825c5789497c1dd7515b26a8e8f8}{LORAMAC\_TX\_DELAYED}}    = 0x00000010,
310     \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490ad649702e2b40e41dbed3ff5b2e3c21c5}{LORAMAC\_TX\_CONFIG}}     = 0x00000020,
311     \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a7c7d70244f468d92565a9e078d0790bf}{LORAMAC\_RX\_ABORT}}      = 0x00000040,
312 \};
\end{DoxyCode}


\subsection{함수 문서화}
\mbox{\Hypertarget{_lo_ra_mac_8c_ab27d901e29d6f16957f783c94781ef70}\label{_lo_ra_mac_8c_ab27d901e29d6f16957f783c94781ef70}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Add\+Mac\+Command@{Add\+Mac\+Command}}
\index{Add\+Mac\+Command@{Add\+Mac\+Command}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Add\+Mac\+Command()}{AddMacCommand()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} Add\+Mac\+Command (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{cmd,  }\item[{uint8\+\_\+t}]{p1,  }\item[{uint8\+\_\+t}]{p2 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Adds a new M\+AC command to be sent. 

M\+AC layer internal function


\begin{DoxyParams}[1]{매개변수}
\mbox{\tt in}  & {\em cmd} & M\+AC command to be added \mbox{[}M\+O\+T\+E\+\_\+\+M\+A\+C\+\_\+\+L\+I\+N\+K\+\_\+\+C\+H\+E\+C\+K\+\_\+\+R\+EQ, M\+O\+T\+E\+\_\+\+M\+A\+C\+\_\+\+L\+I\+N\+K\+\_\+\+A\+D\+R\+\_\+\+A\+NS, M\+O\+T\+E\+\_\+\+M\+A\+C\+\_\+\+D\+U\+T\+Y\+\_\+\+C\+Y\+C\+L\+E\+\_\+\+A\+NS, M\+O\+T\+E\+\_\+\+M\+A\+C\+\_\+\+R\+X2\+\_\+\+P\+A\+R\+A\+M\+\_\+\+S\+E\+T\+\_\+\+A\+NS, M\+O\+T\+E\+\_\+\+M\+A\+C\+\_\+\+D\+E\+V\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+A\+NS M\+O\+T\+E\+\_\+\+M\+A\+C\+\_\+\+N\+E\+W\+\_\+\+C\+H\+A\+N\+N\+E\+L\+\_\+\+A\+NS\mbox{]} \\
\hline
\mbox{\tt in}  & {\em p1} & 1st parameter ( optional depends on the command ) \\
\hline
\mbox{\tt in}  & {\em p2} & 2nd parameter ( optional depends on the command )\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{반환값}
{\em status} & Function status \mbox{[}0\+: OK, 1\+: Unknown command, 2\+: Buffer full\mbox{]} \\
\hline
\end{DoxyRetVals}


Lo\+Ra\+Mac.\+c 파일의 1623 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1624 \{
1625     \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{LoRaMacStatus\_t}} status = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a66b12f569207eacd97ee1c1d6c4cee6d}{LORAMAC\_STATUS\_BUSY}};
1626     \textcolor{comment}{// The maximum buffer length must take MAC commands to re-send into account.}
1627     uint8\_t bufLen = \mbox{\hyperlink{_lo_ra_mac_8c_a4ac517018d0390785daf8d90bf99df8f}{LORA\_MAC\_COMMAND\_MAX\_LENGTH}} - 
      \mbox{\hyperlink{_lo_ra_mac_8c_a44f97c375266b0b4b2e9d5f8fc01c43f}{MacCommandsBufferToRepeatIndex}};
1628 
1629     \textcolor{keywordflow}{switch}( cmd )
1630     \{
1631         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a035270648ea6d6ff24b23a953d8f969b}{MOTE\_MAC\_LINK\_CHECK\_REQ}}:
1632             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} < bufLen )
1633             \{
1634                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = cmd;
1635                 \textcolor{comment}{// No payload for this command}
1636                 status = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
1637             \}
1638             \textcolor{keywordflow}{break};
1639         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a7e789c1aa1dfcd3ca03935dd65cf572c}{MOTE\_MAC\_LINK\_ADR\_ANS}}:
1640             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} < ( bufLen - 1 ) )
1641             \{
1642                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = cmd;
1643                 \textcolor{comment}{// Margin}
1644                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = p1;
1645                 status = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
1646             \}
1647             \textcolor{keywordflow}{break};
1648         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a258e400aeae362afff0d14b7f6153bd4}{MOTE\_MAC\_DUTY\_CYCLE\_ANS}}:
1649             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} < bufLen )
1650             \{
1651                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = cmd;
1652                 \textcolor{comment}{// No payload for this answer}
1653                 status = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
1654             \}
1655             \textcolor{keywordflow}{break};
1656         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a155ae506492f1ddb173b99b52da4092a}{MOTE\_MAC\_RX\_PARAM\_SETUP\_ANS}}:
1657             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} < ( bufLen - 1 ) )
1658             \{
1659                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = cmd;
1660                 \textcolor{comment}{// Status: Datarate ACK, Channel ACK}
1661                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = p1;
1662                 \textcolor{comment}{// This is a sticky MAC command answer. Setup indication}
1663                 \mbox{\hyperlink{_lo_ra_mac_8c_ab0c0f938f7421b03f6890047f20df489}{SetMlmeScheduleUplinkIndication}}( );
1664                 status = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
1665             \}
1666             \textcolor{keywordflow}{break};
1667         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73ae3d02a70f26e3f3daf8a84408e962425}{MOTE\_MAC\_DEV\_STATUS\_ANS}}:
1668             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} < ( bufLen - 2 ) )
1669             \{
1670                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = cmd;
1671                 \textcolor{comment}{// 1st byte Battery}
1672                 \textcolor{comment}{// 2nd byte Margin}
1673                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = p1;
1674                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = p2;
1675                 status = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
1676             \}
1677             \textcolor{keywordflow}{break};
1678         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a83cdaea222c3968f69fe1c23c29a4385}{MOTE\_MAC\_NEW\_CHANNEL\_ANS}}:
1679             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} < ( bufLen - 1 ) )
1680             \{
1681                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = cmd;
1682                 \textcolor{comment}{// Status: Datarate range OK, Channel frequency OK}
1683                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = p1;
1684                 status = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
1685             \}
1686             \textcolor{keywordflow}{break};
1687         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73abd4c19102721cfb18b76136732ac2de8}{MOTE\_MAC\_RX\_TIMING\_SETUP\_ANS}}:
1688             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} < bufLen )
1689             \{
1690                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = cmd;
1691                 \textcolor{comment}{// No payload for this answer}
1692                 \textcolor{comment}{// This is a sticky MAC command answer. Setup indication}
1693                 \mbox{\hyperlink{_lo_ra_mac_8c_ab0c0f938f7421b03f6890047f20df489}{SetMlmeScheduleUplinkIndication}}( );
1694                 status = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
1695             \}
1696             \textcolor{keywordflow}{break};
1697         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a462cebd0ba7165044eeabf44c00b1f4c}{MOTE\_MAC\_TX\_PARAM\_SETUP\_ANS}}:
1698             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} < bufLen )
1699             \{
1700                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = cmd;
1701                 \textcolor{comment}{// No payload for this answer}
1702                 status = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
1703             \}
1704             \textcolor{keywordflow}{break};
1705         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a6dfc8ca9222ce73c834a0907992cce13}{MOTE\_MAC\_DL\_CHANNEL\_ANS}}:
1706             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} < bufLen )
1707             \{
1708                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = cmd;
1709                 \textcolor{comment}{// Status: Uplink frequency exists, Channel frequency OK}
1710                 \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}++] = p1;
1711 
1712                 \textcolor{comment}{// This is a sticky MAC command answer. Setup indication}
1713                 \mbox{\hyperlink{_lo_ra_mac_8c_ab0c0f938f7421b03f6890047f20df489}{SetMlmeScheduleUplinkIndication}}( );
1714 
1715                 status = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
1716             \}
1717             \textcolor{keywordflow}{break};
1718         \textcolor{keywordflow}{default}:
1719             \textcolor{keywordflow}{return} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661aff502a87db22d6a9a4919e4b54c7c1cf}{LORAMAC\_STATUS\_SERVICE\_UNKNOWN}};
1720     \}
1721     \textcolor{keywordflow}{if}( status == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}} )
1722     \{
1723         \mbox{\hyperlink{_lo_ra_mac_8c_a2231642d3200b2ff5f7dba09ab9a04cc}{MacCommandsInNextTx}} = \textcolor{keyword}{true};
1724     \}
1725     \textcolor{keywordflow}{return} status;
1726 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 1
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 2
\mbox{\Hypertarget{_lo_ra_mac_8c_ab13ebc898e6d4ecbb3deb43bf12e22cf}\label{_lo_ra_mac_8c_ab13ebc898e6d4ecbb3deb43bf12e22cf}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Calculate\+Back\+Off@{Calculate\+Back\+Off}}
\index{Calculate\+Back\+Off@{Calculate\+Back\+Off}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Calculate\+Back\+Off()}{CalculateBackOff()}}
{\footnotesize\ttfamily static void Calculate\+Back\+Off (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{channel }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Lo\+Ra\+Mac.\+c 파일의 2073 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2074 \{
2075     \mbox{\hyperlink{structs_calc_back_off_params}{CalcBackOffParams\_t}} calcBackOff;
2076 
2077     calcBackOff.\mbox{\hyperlink{structs_calc_back_off_params_ac2f6caa0f3b02d2ac5056c3ee7c22652}{Joined}} = \mbox{\hyperlink{_lo_ra_mac_8c_a17b05239ef8b6078a499010ede20ec54}{IsLoRaMacNetworkJoined}};
2078     calcBackOff.\mbox{\hyperlink{structs_calc_back_off_params_a4d755868e0e80089462286c3ba6a6f18}{DutyCycleEnabled}} = \mbox{\hyperlink{_lo_ra_mac_8c_af662c54719ba22aa5580de1fc74de2dc}{DutyCycleOn}};
2079     calcBackOff.\mbox{\hyperlink{structs_calc_back_off_params_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}} = channel;
2080     calcBackOff.\mbox{\hyperlink{structs_calc_back_off_params_a2ece30988e7a5bac284623173173c71a}{ElapsedTime}} = \mbox{\hyperlink{time_server_8c_a9ca7e27f3d6474daff63f2e093a2e91e}{TimerGetElapsedTime}}( 
      \mbox{\hyperlink{_lo_ra_mac_8c_a9f1317151d5bee85c310b5aa2d38725a}{LoRaMacInitializationTime}} );
2081     calcBackOff.\mbox{\hyperlink{structs_calc_back_off_params_aa17a8607485db100d315e74853dd217e}{TxTimeOnAir}} = \mbox{\hyperlink{_lo_ra_mac_8c_aa17a8607485db100d315e74853dd217e}{TxTimeOnAir}};
2082     calcBackOff.\mbox{\hyperlink{structs_calc_back_off_params_a4088d0ca2ff21fd5cdc110e14816dd53}{LastTxIsJoinRequest}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4088d0ca2ff21fd5cdc110e14816dd53}{LastTxIsJoinRequest}};
2083 
2084     \textcolor{comment}{// Update regional back-off}
2085     \mbox{\hyperlink{group___r_e_g_i_o_n_ga07cfd135a3e8f85e15a5424c07f71d67}{RegionCalcBackOff}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &calcBackOff );
2086 
2087     \textcolor{comment}{// Update aggregated time-off. This must be an assignment and no incremental}
2088     \textcolor{comment}{// update as we do only calculate the time-off based on the last transmission}
2089     \mbox{\hyperlink{_lo_ra_mac_8c_ae0a5d717a1921f9ee79175f30c1743e9}{AggregatedTimeOff}} = ( \mbox{\hyperlink{_lo_ra_mac_8c_aa17a8607485db100d315e74853dd217e}{TxTimeOnAir}} * 
      \mbox{\hyperlink{_lo_ra_mac_8c_afe9c54c21b80f4749d4532625ba3663a}{AggregatedDCycle}} - \mbox{\hyperlink{_lo_ra_mac_8c_aa17a8607485db100d315e74853dd217e}{TxTimeOnAir}} );
2090 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 3
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 4
\mbox{\Hypertarget{_lo_ra_mac_8c_aa36f254fbd91a58953cad5a84d651db3}\label{_lo_ra_mac_8c_aa36f254fbd91a58953cad5a84d651db3}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Check\+To\+Disable\+Ack\+Timeout@{Check\+To\+Disable\+Ack\+Timeout}}
\index{Check\+To\+Disable\+Ack\+Timeout@{Check\+To\+Disable\+Ack\+Timeout}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Check\+To\+Disable\+Ack\+Timeout()}{CheckToDisableAckTimeout()}}
{\footnotesize\ttfamily static void Check\+To\+Disable\+Ack\+Timeout (\begin{DoxyParamCaption}\item[{bool}]{node\+Ack\+Requested,  }\item[{\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga29dc2e097802faaf8fbd0e18ff99695f}{Device\+Class\+\_\+t}}}]{dev\+Class,  }\item[{bool}]{ack\+Received,  }\item[{uint8\+\_\+t}]{ack\+Timeout\+Retries\+Counter,  }\item[{uint8\+\_\+t}]{ack\+Timeout\+Retries }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Check if the On\+Ack\+Timeout\+Timer has do be disabled. If so, the function disables it. 


\begin{DoxyParams}{매개변수}
{\em \mbox{[}\+I\+N\mbox{]}} & node\+Ack\+Requested Set to true, if the node has requested an A\+CK \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & class The device class \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & ack\+Received Set to true, if the node has received an A\+CK \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & ack\+Timeout\+Retries\+Counter Retries counter for confirmed uplinks \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & ack\+Timeout\+Retries Maximum retries for confirmed uplinks \\
\hline
\end{DoxyParams}


Lo\+Ra\+Mac.\+c 파일의 1514 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1516 \{
1517     \textcolor{comment}{// There are three cases where we need to stop the AckTimeoutTimer:}
1518     \textcolor{keywordflow}{if}( nodeAckRequested == \textcolor{keyword}{false} )
1519     \{
1520         \textcolor{keywordflow}{if}( devClass == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1521         \{\textcolor{comment}{// FIRST CASE}
1522             \textcolor{comment}{// We have performed an unconfirmed uplink in class c mode}
1523             \textcolor{comment}{// and have received a downlink in RX1 or RX2.}
1524             \mbox{\hyperlink{time_server_8c_a8ae899c4e8a9abf49d825d6959aa6bcb}{TimerStop}}( &\mbox{\hyperlink{_lo_ra_mac_8c_afab06ef771ba34680a8b1f36cd3e3d77}{AckTimeoutTimer}} );
1525         \}
1526     \}
1527     \textcolor{keywordflow}{else}
1528     \{
1529         \textcolor{keywordflow}{if}( ackReceived == 1 )
1530         \{\textcolor{comment}{// SECOND CASE}
1531             \textcolor{comment}{// We have performed a confirmed uplink and have received a}
1532             \textcolor{comment}{// downlink with a valid ACK.}
1533             \mbox{\hyperlink{time_server_8c_a8ae899c4e8a9abf49d825d6959aa6bcb}{TimerStop}}( &\mbox{\hyperlink{_lo_ra_mac_8c_afab06ef771ba34680a8b1f36cd3e3d77}{AckTimeoutTimer}} );
1534         \}
1535         \textcolor{keywordflow}{else}
1536         \{\textcolor{comment}{// THIRD CASE}
1537             \textcolor{keywordflow}{if}( ackTimeoutRetriesCounter > ackTimeoutRetries )
1538             \{
1539                 \textcolor{comment}{// We have performed a confirmed uplink and have not}
1540                 \textcolor{comment}{// received a downlink with a valid ACK. In this case}
1541                 \textcolor{comment}{// we need to verify if the maximum retries have been}
1542                 \textcolor{comment}{// elapsed. If so, stop the timer.}
1543                 \mbox{\hyperlink{time_server_8c_a8ae899c4e8a9abf49d825d6959aa6bcb}{TimerStop}}( &\mbox{\hyperlink{_lo_ra_mac_8c_afab06ef771ba34680a8b1f36cd3e3d77}{AckTimeoutTimer}} );
1544             \}
1545         \}
1546     \}
1547 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 5
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 6
\mbox{\Hypertarget{_lo_ra_mac_8c_a1450f450bbea448d9a5235f86aa367ca}\label{_lo_ra_mac_8c_a1450f450bbea448d9a5235f86aa367ca}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Is\+F\+Port\+Allowed@{Is\+F\+Port\+Allowed}}
\index{Is\+F\+Port\+Allowed@{Is\+F\+Port\+Allowed}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Is\+F\+Port\+Allowed()}{IsFPortAllowed()}}
{\footnotesize\ttfamily static bool Is\+F\+Port\+Allowed (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{f\+Port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Resets M\+AC specific parameters to default 


\begin{DoxyParams}{매개변수}
{\em \mbox{[}\+I\+N\mbox{]}} & f\+Port The f\+Port\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{반환값}
{\em \mbox{[}false} & f\+Port not allowed, true\+: f\+Port allowed\mbox{]} \\
\hline
\end{DoxyRetVals}


Lo\+Ra\+Mac.\+c 파일의 2144 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2145 \{
2146     \textcolor{keywordflow}{if}( fPort > 224 )
2147     \{
2148         \textcolor{keywordflow}{return} \textcolor{keyword}{false};
2149     \}
2150     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
2151 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 7
\mbox{\Hypertarget{_lo_ra_mac_8c_a15148f975932c7dbc2ed3effb1803e9e}\label{_lo_ra_mac_8c_a15148f975932c7dbc2ed3effb1803e9e}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Is\+Sticky\+Mac\+Command\+Pending@{Is\+Sticky\+Mac\+Command\+Pending}}
\index{Is\+Sticky\+Mac\+Command\+Pending@{Is\+Sticky\+Mac\+Command\+Pending}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Is\+Sticky\+Mac\+Command\+Pending()}{IsStickyMacCommandPending()}}
{\footnotesize\ttfamily static bool Is\+Sticky\+Mac\+Command\+Pending (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Verifies if sticky M\+AC commands are pending. 


\begin{DoxyRetVals}{반환값}
{\em \mbox{[}true} & sticky M\+AC commands pending, false\+: No M\+AC commands pending\mbox{]} \\
\hline
\end{DoxyRetVals}


Lo\+Ra\+Mac.\+c 파일의 1607 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1608 \{
1609     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a44f97c375266b0b4b2e9d5f8fc01c43f}{MacCommandsBufferToRepeatIndex}} > 0 )
1610     \{
1611         \textcolor{comment}{// Sticky MAC commands pending}
1612         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1613     \}
1614     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1615 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 8
\mbox{\Hypertarget{_lo_ra_mac_8c_a519a3e861bd16b2720a427308c6addc6}\label{_lo_ra_mac_8c_a519a3e861bd16b2720a427308c6addc6}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!On\+Ack\+Timeout\+Timer\+Event@{On\+Ack\+Timeout\+Timer\+Event}}
\index{On\+Ack\+Timeout\+Timer\+Event@{On\+Ack\+Timeout\+Timer\+Event}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{On\+Ack\+Timeout\+Timer\+Event()}{OnAckTimeoutTimerEvent()}}
{\footnotesize\ttfamily static void On\+Ack\+Timeout\+Timer\+Event (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Function executed on Ack\+Timeout timer event 



Lo\+Ra\+Mac.\+c 파일의 1549 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1550 \{
1551     \mbox{\hyperlink{time_server_8c_a8ae899c4e8a9abf49d825d6959aa6bcb}{TimerStop}}( &\mbox{\hyperlink{_lo_ra_mac_8c_afab06ef771ba34680a8b1f36cd3e3d77}{AckTimeoutTimer}} );
1552 
1553     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} == \textcolor{keyword}{true} )
1554     \{
1555         \mbox{\hyperlink{_lo_ra_mac_8c_a2d561614b5282ba8910b6b75a7f786f7}{AckTimeoutRetry}} = \textcolor{keyword}{true};
1556         \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} &= ~\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a99ee636d0a66bf7f2a5644b5947dce2f}{LORAMAC\_ACK\_REQ}};
1557     \}
1558     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1559     \{
1560         \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} = 1;
1561     \}
1562 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 9
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 10
\mbox{\Hypertarget{_lo_ra_mac_8c_a3f66ff4ffb45c3be2a603fec651da617}\label{_lo_ra_mac_8c_a3f66ff4ffb45c3be2a603fec651da617}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!On\+Mac\+State\+Check\+Timer\+Event@{On\+Mac\+State\+Check\+Timer\+Event}}
\index{On\+Mac\+State\+Check\+Timer\+Event@{On\+Mac\+State\+Check\+Timer\+Event}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{On\+Mac\+State\+Check\+Timer\+Event()}{OnMacStateCheckTimerEvent()}}
{\footnotesize\ttfamily static void On\+Mac\+State\+Check\+Timer\+Event (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Function executed on Resend Frame timer event. 



Lo\+Ra\+Mac.\+c 파일의 1255 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1256 \{
1257     \mbox{\hyperlink{structs_get_phy_params}{GetPhyParams\_t}} getPhy;
1258     \mbox{\hyperlink{unionu_phy_param}{PhyParam\_t}} phyParam;
1259     \textcolor{keywordtype}{bool} txTimeout = \textcolor{keyword}{false};
1260 
1261     \mbox{\hyperlink{time_server_8c_a8ae899c4e8a9abf49d825d6959aa6bcb}{TimerStop}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}} );
1262 
1263     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} == 1 )
1264     \{
1265         \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} & \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a7c7d70244f468d92565a9e078d0790bf}{LORAMAC\_RX\_ABORT}} ) == 
      \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a7c7d70244f468d92565a9e078d0790bf}{LORAMAC\_RX\_ABORT}} )
1266         \{
1267             \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} &= ~\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a7c7d70244f468d92565a9e078d0790bf}{LORAMAC\_RX\_ABORT}};
1268             \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} &= ~\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}{LORAMAC\_TX\_RUNNING}};
1269         \}
1270 
1271         \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a3743e193dca88e3913e44e993a209ebf}{MlmeReq}} == 1 ) || ( ( 
      \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_adee8f234933a066317a08431f5db61b0}{McpsReq}} == 1 ) ) )
1272         \{
1273             \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} == 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a0c2eb197e4102e139b43c01e806fa538}{LORAMAC\_EVENT\_INFO\_STATUS\_TX\_TIMEOUT}} ) ||
1274                 ( \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} == 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a0c2eb197e4102e139b43c01e806fa538}{LORAMAC\_EVENT\_INFO\_STATUS\_TX\_TIMEOUT}} ) )
1275             \{
1276                 \textcolor{comment}{// Stop transmit cycle due to tx timeout.}
1277                 \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} &= ~\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}{LORAMAC\_TX\_RUNNING}};
1278                 \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} = 0;
1279                 \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_a87c781229ed6a79169564bbed6581f29}{NbRetries}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}{AckTimeoutRetriesCounter}};
1280                 \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ac59e1bd1c9450c7d136c7f475be89ded}{AckReceived}} = \textcolor{keyword}{false};
1281                 \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_aa17a8607485db100d315e74853dd217e}{TxTimeOnAir}} = 0;
1282                 txTimeout = \textcolor{keyword}{true};
1283             \}
1284         \}
1285 
1286         \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} == \textcolor{keyword}{false} ) && ( txTimeout == \textcolor{keyword}{false} ) )
1287         \{
1288             \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a3743e193dca88e3913e44e993a209ebf}{MlmeReq}} == 1 ) || ( ( 
      \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_adee8f234933a066317a08431f5db61b0}{McpsReq}} == 1 ) ) )
1289             \{
1290                 \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a3743e193dca88e3913e44e993a209ebf}{MlmeReq}} == 1 ) && ( 
      \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_a05e619573c522884eada37bde4e3d1f3}{MlmeRequest}} == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga320f4c08fe99747b08463689be624f7ba475ad5dea1c4c13b93b31095c665e92e}{MLME\_JOIN}} ) )
1291                 \{\textcolor{comment}{// Procedure for the join request}
1292                     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} == 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201aa5e3d1c382c8473a1095b56067aea3f4}{LORAMAC\_EVENT\_INFO\_STATUS\_OK}} )
1293                     \{\textcolor{comment}{// Node joined successfully}
1294                         \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}} = 0;
1295                         \mbox{\hyperlink{_lo_ra_mac_8c_adac3fa8dc924333e009083733e3e089d}{ChannelsNbRepCounter}} = 0;
1296                     \}
1297                     \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} &= ~\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}{LORAMAC\_TX\_RUNNING}};
1298                 \}
1299                 \textcolor{keywordflow}{else}
1300                 \{\textcolor{comment}{// Procedure for all other frames}
1301                     \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_adac3fa8dc924333e009083733e3e089d}{ChannelsNbRepCounter}} >= 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a50c64c3d572cd688816904f8bf2252c7}{ChannelsNbRep}} ) || ( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.
      \mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a81d24e4d487adef6c6d4f4ca0963319e}{McpsInd}} == 1 ) )
1302                     \{
1303                         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a81d24e4d487adef6c6d4f4ca0963319e}{McpsInd}} == 0 )
1304                         \{   \textcolor{comment}{// Maximum repetitions without downlink. Reset MacCommandsBufferIndex. Increase
       ADR Ack counter.}
1305                             \textcolor{comment}{// Only process the case when the MAC did not receive a downlink.}
1306                             \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} = 0;
1307                             \mbox{\hyperlink{_lo_ra_mac_8c_a24f0356a3491bf07be9ac99ffa33896a}{AdrAckCounter}}++;
1308                         \}
1309 
1310                         \mbox{\hyperlink{_lo_ra_mac_8c_adac3fa8dc924333e009083733e3e089d}{ChannelsNbRepCounter}} = 0;
1311 
1312                         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a65360317f68eee4d85b01ed379037fc9}{IsUpLinkCounterFixed}} == \textcolor{keyword}{false} )
1313                         \{
1314                             \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}}++;
1315                         \}
1316 
1317                         \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} &= ~\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}{LORAMAC\_TX\_RUNNING}};
1318                     \}
1319                     \textcolor{keywordflow}{else}
1320                     \{
1321                         \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} = 0;
1322                         \textcolor{comment}{// Sends the same frame again}
1323                         \mbox{\hyperlink{_lo_ra_mac_8c_aff2188867ec43982ec7701c4815bc0ba}{OnTxDelayedTimerEvent}}( );
1324                     \}
1325                 \}
1326             \}
1327         \}
1328 
1329         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a81d24e4d487adef6c6d4f4ca0963319e}{McpsInd}} == 1 )
1330         \{\textcolor{comment}{// Procedure if we received a frame}
1331             \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ac59e1bd1c9450c7d136c7f475be89ded}{AckReceived}} == \textcolor{keyword}{true} ) || ( 
      \mbox{\hyperlink{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}{AckTimeoutRetriesCounter}} > \mbox{\hyperlink{_lo_ra_mac_8c_a3d8e8bba7cacae102725b355fb60e039}{AckTimeoutRetries}} ) )
1332             \{
1333                 \mbox{\hyperlink{_lo_ra_mac_8c_a2d561614b5282ba8910b6b75a7f786f7}{AckTimeoutRetry}} = \textcolor{keyword}{false};
1334                 \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} = \textcolor{keyword}{false};
1335                 \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a65360317f68eee4d85b01ed379037fc9}{IsUpLinkCounterFixed}} == \textcolor{keyword}{false} )
1336                 \{
1337                     \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}}++;
1338                 \}
1339                 \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_a87c781229ed6a79169564bbed6581f29}{NbRetries}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}{AckTimeoutRetriesCounter}};
1340 
1341                 \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} &= ~\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}{LORAMAC\_TX\_RUNNING}};
1342             \}
1343         \}
1344 
1345         \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_a2d561614b5282ba8910b6b75a7f786f7}{AckTimeoutRetry}} == \textcolor{keyword}{true} ) && ( ( \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} & 
      \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490aea3d825c5789497c1dd7515b26a8e8f8}{LORAMAC\_TX\_DELAYED}} ) == 0 ) )
1346         \{\textcolor{comment}{// Retransmissions procedure for confirmed uplinks}
1347             \mbox{\hyperlink{_lo_ra_mac_8c_a2d561614b5282ba8910b6b75a7f786f7}{AckTimeoutRetry}} = \textcolor{keyword}{false};
1348             \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}{AckTimeoutRetriesCounter}} < 
      \mbox{\hyperlink{_lo_ra_mac_8c_a3d8e8bba7cacae102725b355fb60e039}{AckTimeoutRetries}} ) && ( \mbox{\hyperlink{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}{AckTimeoutRetriesCounter}} <= 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga47bc6aeb5be0ba39387e2049e342fa7e}{MAX\_ACK\_RETRIES}} ) )
1349             \{
1350                 \mbox{\hyperlink{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}{AckTimeoutRetriesCounter}}++;
1351 
1352                 \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}{AckTimeoutRetriesCounter}} % 2 ) == 1 )
1353                 \{
1354                     getPhy.\mbox{\hyperlink{structs_get_phy_params_abdcb168ffd6913b85e2f635d7a475f2d}{Attribute}} = \mbox{\hyperlink{group___r_e_g_i_o_n_gga51cbe8f5433d914fe9cf81b451de2c2dac002e7e492cf30dbf9c544b062f5cc8a}{PHY\_NEXT\_LOWER\_TX\_DR}};
1355                     getPhy.\mbox{\hyperlink{structs_get_phy_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}};
1356                     getPhy.\mbox{\hyperlink{structs_get_phy_params_ae2f6080f3aa0e9485c55513ca56bb24d}{Datarate}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}};
1357                     phyParam = \mbox{\hyperlink{group___r_e_g_i_o_n_gafbd084611ba512035a6cbe7f3aa5857b}{RegionGetPhyParam}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &getPhy );
1358                     \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}} = phyParam.
      \mbox{\hyperlink{unionu_phy_param_a8e0dcce3428a8051614e852b8836d0d1}{Value}};
1359                 \}
1360                 \textcolor{comment}{// Try to send the frame again. Allow delayed frame transmissions}
1361                 \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_afac9f47df560a2c63ebe868fcf531716}{ScheduleTx}}( \textcolor{keyword}{true} ) == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}} )
1362                 \{
1363                     \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} = 0;
1364                 \}
1365                 \textcolor{keywordflow}{else}
1366                 \{
1367                     \textcolor{comment}{// The DR is not applicable for the payload size}
1368                     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a6e7b21fbf0358f3438f2de0fc3fdd866}{LORAMAC\_EVENT\_INFO\_STATUS\_TX\_DR\_PAYLOAD\_SIZE\_ERROR}};
1369 
1370                     \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} = 0;
1371                     \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} &= ~\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}{LORAMAC\_TX\_RUNNING}};
1372                     \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} = \textcolor{keyword}{false};
1373                     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ac59e1bd1c9450c7d136c7f475be89ded}{AckReceived}} = \textcolor{keyword}{false};
1374                     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_a87c781229ed6a79169564bbed6581f29}{NbRetries}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}{AckTimeoutRetriesCounter}};
1375                     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_a780280c12645b2666878162aab5d8cad}{Datarate}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}};
1376                     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a65360317f68eee4d85b01ed379037fc9}{IsUpLinkCounterFixed}} == \textcolor{keyword}{false} )
1377                     \{
1378                         \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}}++;
1379                     \}
1380                 \}
1381             \}
1382             \textcolor{keywordflow}{else}
1383             \{
1384                 \mbox{\hyperlink{group___r_e_g_i_o_n_ga54b1b27a8431cd146b4dc33a894ee6db}{RegionInitDefaults}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, 
      \mbox{\hyperlink{group___r_e_g_i_o_n_gga11ecad794560a3d3961bdf1c9a27d3b2aed3218cb3c4ebbb74a1b48e4f8ac8599}{INIT\_TYPE\_RESTORE}} );
1385 
1386                 \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} &= ~\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}{LORAMAC\_TX\_RUNNING}};
1387 
1388                 \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} = 0;
1389                 \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} = \textcolor{keyword}{false};
1390                 \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ac59e1bd1c9450c7d136c7f475be89ded}{AckReceived}} = \textcolor{keyword}{false};
1391                 \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_a87c781229ed6a79169564bbed6581f29}{NbRetries}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}{AckTimeoutRetriesCounter}};
1392                 \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a65360317f68eee4d85b01ed379037fc9}{IsUpLinkCounterFixed}} == \textcolor{keyword}{false} )
1393                 \{
1394                     \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}}++;
1395                 \}
1396             \}
1397         \}
1398     \}
1399     \textcolor{comment}{// Handle reception for Class B and Class C}
1400     \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} & \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a51fd14464af45ead2dda2a90760e4bc4}{LORAMAC\_RX}} ) == \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a51fd14464af45ead2dda2a90760e4bc4}{LORAMAC\_RX}} )
1401     \{
1402         \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} &= ~\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a51fd14464af45ead2dda2a90760e4bc4}{LORAMAC\_RX}};
1403     \}
1404     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} == \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a3af5105c630ff1cfa443789cfa2f318c}{LORAMAC\_IDLE}} )
1405     \{
1406         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_adee8f234933a066317a08431f5db61b0}{McpsReq}} == 1 )
1407         \{
1408             \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_adee8f234933a066317a08431f5db61b0}{McpsReq}} = 0;
1409             \mbox{\hyperlink{_lo_ra_mac_8c_a18bac241dfa18d510ea2e53f0c740bd3}{LoRaMacPrimitives}}->\mbox{\hyperlink{structs_lo_ra_mac_primitives_a2b7cb648bbe609f5fb6fe4e3d0bcda41}{MacMcpsConfirm}}( &
      \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}} );
1410         \}
1411 
1412         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a3743e193dca88e3913e44e993a209ebf}{MlmeReq}} == 1 )
1413         \{
1414             \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a3743e193dca88e3913e44e993a209ebf}{MlmeReq}} = 0;
1415             \mbox{\hyperlink{_lo_ra_mac_8c_a18bac241dfa18d510ea2e53f0c740bd3}{LoRaMacPrimitives}}->\mbox{\hyperlink{structs_lo_ra_mac_primitives_ade47d176982e0843084c5932445898a2}{MacMlmeConfirm}}( &
      \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}} );
1416         \}
1417 
1418         \textcolor{comment}{// Verify if sticky MAC commands are pending or not}
1419         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a15148f975932c7dbc2ed3effb1803e9e}{IsStickyMacCommandPending}}( ) == \textcolor{keyword}{true} )
1420         \{\textcolor{comment}{// Setup MLME indication}
1421             \mbox{\hyperlink{_lo_ra_mac_8c_ab0c0f938f7421b03f6890047f20df489}{SetMlmeScheduleUplinkIndication}}( );
1422         \}
1423 
1424         \textcolor{comment}{// Procedure done. Reset variables.}
1425         \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} = 0;
1426     \}
1427     \textcolor{keywordflow}{else}
1428     \{
1429         \textcolor{comment}{// Operation not finished restart timer}
1430         \mbox{\hyperlink{time_server_8c_ad56c30124de6deefb3e32bbee2a4ba46}{TimerSetValue}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}}, 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga3468d8935b09a7191e43fecdd9a15c67}{MAC\_STATE\_CHECK\_TIMEOUT}} );
1431         \mbox{\hyperlink{time_server_8c_acd2c1f05aa1976f3bbedd389c8710a78}{TimerStart}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}} );
1432     \}
1433 
1434     \textcolor{comment}{// Handle MCPS indication}
1435     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a81d24e4d487adef6c6d4f4ca0963319e}{McpsInd}} == 1 )
1436     \{
1437         \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a81d24e4d487adef6c6d4f4ca0963319e}{McpsInd}} = 0;
1438         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1439         \{\textcolor{comment}{// Activate RX2 window for Class C}
1440             \mbox{\hyperlink{_lo_ra_mac_8c_aeadfc508b9129926685664bc456db4f6}{OpenContinuousRx2Window}}( );
1441         \}
1442         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a45141607ee2f47da2432d5d2a8045e69}{McpsIndSkip}} == 0 )
1443         \{
1444             \mbox{\hyperlink{_lo_ra_mac_8c_a18bac241dfa18d510ea2e53f0c740bd3}{LoRaMacPrimitives}}->\mbox{\hyperlink{structs_lo_ra_mac_primitives_a89cb88517df5ff62828e4cf29454d9e5}{MacMcpsIndication}}( &
      \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}} );
1445         \}
1446         \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a45141607ee2f47da2432d5d2a8045e69}{McpsIndSkip}} = 0;
1447     \}
1448 
1449     \textcolor{comment}{// Handle MLME indication}
1450     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a201c052466c33d1e875325f0d0025e90}{MlmeInd}} == 1 )
1451     \{
1452         \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a201c052466c33d1e875325f0d0025e90}{MlmeInd}} = 0;
1453         \mbox{\hyperlink{_lo_ra_mac_8c_a18bac241dfa18d510ea2e53f0c740bd3}{LoRaMacPrimitives}}->\mbox{\hyperlink{structs_lo_ra_mac_primitives_a353881c42ec9e21f3112dd548a3da87a}{MacMlmeIndication}}( &
      \mbox{\hyperlink{_lo_ra_mac_8c_a666e4b5667243c4dcf2ebb931246619d}{MlmeIndication}} );
1454     \}
1455 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 11
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 12
\mbox{\Hypertarget{_lo_ra_mac_8c_a34d9307ff02304a070ade799731ae0ed}\label{_lo_ra_mac_8c_a34d9307ff02304a070ade799731ae0ed}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!On\+Radio\+Rx\+Done@{On\+Radio\+Rx\+Done}}
\index{On\+Radio\+Rx\+Done@{On\+Radio\+Rx\+Done}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{On\+Radio\+Rx\+Done()}{OnRadioRxDone()}}
{\footnotesize\ttfamily static void On\+Radio\+Rx\+Done (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{payload,  }\item[{uint16\+\_\+t}]{size,  }\item[{int16\+\_\+t}]{rssi,  }\item[{int8\+\_\+t}]{snr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Function to be executed on Radio Rx Done event 



Lo\+Ra\+Mac.\+c 파일의 748 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
749 \{
750     \mbox{\hyperlink{unionu_lo_ra_mac_header}{LoRaMacHeader\_t}} macHdr;
751     \mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl}{LoRaMacFrameCtrl\_t}} fCtrl;
752     \mbox{\hyperlink{structs_apply_c_f_list_params}{ApplyCFListParams\_t}} applyCFList;
753     \mbox{\hyperlink{structs_get_phy_params}{GetPhyParams\_t}} getPhy;
754     \mbox{\hyperlink{unionu_phy_param}{PhyParam\_t}} phyParam;
755 
756     uint8\_t pktHeaderLen = 0;
757     uint32\_t address = 0;
758     uint8\_t appPayloadStartIndex = 0;
759     uint8\_t port = 0xFF;
760     uint8\_t frameLen = 0;
761     uint32\_t mic = 0;
762     uint32\_t micRx = 0;
763 
764     uint16\_t sequenceCounter = 0;
765     uint16\_t sequenceCounterPrev = 0;
766     uint16\_t sequenceCounterDiff = 0;
767     uint32\_t downLinkCounter = 0;
768 
769     \mbox{\hyperlink{structs_multicast_params}{MulticastParams\_t}} *curMulticastParams = NULL;
770     uint8\_t *nwkSKey = \mbox{\hyperlink{_lo_ra_mac_8c_a9816dc9026964ce255ef940f5db374e2}{LoRaMacNwkSKey}};
771     uint8\_t *appSKey = \mbox{\hyperlink{_lo_ra_mac_8c_ad5e7927ea18fa50f7e31b4b77a51b7ac}{LoRaMacAppSKey}};
772 
773     uint8\_t multicast = 0;
774 
775     \textcolor{keywordtype}{bool} isMicOk = \textcolor{keyword}{false};
776 
777     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ac59e1bd1c9450c7d136c7f475be89ded}{AckReceived}} = \textcolor{keyword}{false};
778     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ae00742a7fb9199399f4e4d79e42fda78}{Rssi}} = rssi;
779     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_af053995b03762dc0e0cd4d11f7d06d05}{Snr}} = snr;
780     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a0a258bf8cfad5219bfd579257e523fc1}{RxSlot}} = \mbox{\hyperlink{_lo_ra_mac_8c_a0a258bf8cfad5219bfd579257e523fc1}{RxSlot}};
781     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a4b93121f04819fbab96346736fa720a9}{Port}} = 0;
782     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_acbaf0d718e63c5e2ed50a29cdcca27e0}{Multicast}} = 0;
783     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a123aed553ea78b5967618c22147a7f4c}{FramePending}} = 0;
784     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a095175dabcb7cd83bddf2bea50371121}{Buffer}} = NULL;
785     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_abf449ca64f34dbb66a7c5bf70fd55753}{BufferSize}} = 0;
786     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_afa6d3de110fa10174203ce26682585c9}{RxData}} = \textcolor{keyword}{false};
787     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ac59e1bd1c9450c7d136c7f475be89ded}{AckReceived}} = \textcolor{keyword}{false};
788     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} = 0;
789     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_af45477156b4a2e186b2bfa2afb3a4efc}{McpsIndication}} = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga7b080a046606f23fe030d0aa6d2a0e30a340afc087e96410da04d07fb0470f84a}{MCPS\_UNCONFIRMED}};
790 
791     \mbox{\hyperlink{sx1276mb1las_8c_acf9fe61a72c16fa29a0dc449d23e3820}{Radio}}.\mbox{\hyperlink{struct_radio__s_a5792613816e79c465be4169c0bc020cb}{Sleep}}( );
792     \mbox{\hyperlink{time_server_8c_a8ae899c4e8a9abf49d825d6959aa6bcb}{TimerStop}}( &\mbox{\hyperlink{_lo_ra_mac_8c_ad7a9d17000e9b3575a2ec1ae5c45d145}{RxWindowTimer2}} );
793 
794     macHdr.\mbox{\hyperlink{unionu_lo_ra_mac_header_a88f4d00bdab99ae6f48c7ae0bc468bb4}{Value}} = payload[pktHeaderLen++];
795 
796     \textcolor{keywordflow}{switch}( macHdr.\mbox{\hyperlink{unionu_lo_ra_mac_header_a2be537c628f62bdb049e4ecd5bec8e6a}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_header_1_1s_hdr_bits_a1b16521f6356e21b690406a9aa7ce147}{MType}} )
797     \{
798         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga5e02f214e1a4b8578c415045367c0a11a47ee6b14ec9dfe5ae33773749c30c103}{FRAME\_TYPE\_JOIN\_ACCEPT}}:
799             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a17b05239ef8b6078a499010ede20ec54}{IsLoRaMacNetworkJoined}} == \textcolor{keyword}{true} )
800             \{
801                 \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a613ed77c0e8416a512224fffdbfdf6c1}{LORAMAC\_EVENT\_INFO\_STATUS\_ERROR}};
802                 \mbox{\hyperlink{_lo_ra_mac_8c_a420f8e89407bab48414b1058d8071c97}{PrepareRxDoneAbort}}( );
803                 \textcolor{keywordflow}{return};
804             \}
805             \mbox{\hyperlink{group___l_o_r_a_m_a_c___c_r_y_p_t_o_gac2379cd7cbeb6febaa2a7be5d9f04b5c}{LoRaMacJoinDecrypt}}( payload + 1, size - 1, 
      \mbox{\hyperlink{_lo_ra_mac_8c_af8e40b7ed2e2a7d631a5849e7c08cbce}{LoRaMacAppKey}}, \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}} + 1 );
806 
807             \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[0] = macHdr.\mbox{\hyperlink{unionu_lo_ra_mac_header_a88f4d00bdab99ae6f48c7ae0bc468bb4}{Value}};
808 
809             \mbox{\hyperlink{group___l_o_r_a_m_a_c___c_r_y_p_t_o_gac9216af326316c9e7f207d4e73aed199}{LoRaMacJoinComputeMic}}( \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}, size - 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1727f288e9a871f1474ce61f942a08f3}{LORAMAC\_MFR\_LEN}}, \mbox{\hyperlink{_lo_ra_mac_8c_af8e40b7ed2e2a7d631a5849e7c08cbce}{LoRaMacAppKey}}, &mic );
810 
811             micRx |= ( uint32\_t )\mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[size - 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1727f288e9a871f1474ce61f942a08f3}{LORAMAC\_MFR\_LEN}}];
812             micRx |= ( ( uint32\_t )\mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[size - 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1727f288e9a871f1474ce61f942a08f3}{LORAMAC\_MFR\_LEN}} + 1] << 8 );
813             micRx |= ( ( uint32\_t )\mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[size - 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1727f288e9a871f1474ce61f942a08f3}{LORAMAC\_MFR\_LEN}} + 2] << 16 );
814             micRx |= ( ( uint32\_t )\mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[size - 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1727f288e9a871f1474ce61f942a08f3}{LORAMAC\_MFR\_LEN}} + 3] << 24 );
815 
816             \textcolor{keywordflow}{if}( micRx == mic )
817             \{
818                 \mbox{\hyperlink{group___l_o_r_a_m_a_c___c_r_y_p_t_o_gad6fc2ace27fa388ec860fc2e5ae1f544}{LoRaMacJoinComputeSKeys}}( \mbox{\hyperlink{_lo_ra_mac_8c_af8e40b7ed2e2a7d631a5849e7c08cbce}{LoRaMacAppKey}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}} + 1, \mbox{\hyperlink{_lo_ra_mac_8c_aed31163d2ca60ba37febab0f2f53eb16}{LoRaMacDevNonce}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a9816dc9026964ce255ef940f5db374e2}{LoRaMacNwkSKey}}, \mbox{\hyperlink{_lo_ra_mac_8c_ad5e7927ea18fa50f7e31b4b77a51b7ac}{LoRaMacAppSKey}} );
819 
820                 \mbox{\hyperlink{_lo_ra_mac_8c_a7ca09f5a9430aecb3c21727f4aee5bf0}{LoRaMacNetID}} = ( uint32\_t )\mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[4];
821                 \mbox{\hyperlink{_lo_ra_mac_8c_a7ca09f5a9430aecb3c21727f4aee5bf0}{LoRaMacNetID}} |= ( ( uint32\_t )\mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[5] << 8 );
822                 \mbox{\hyperlink{_lo_ra_mac_8c_a7ca09f5a9430aecb3c21727f4aee5bf0}{LoRaMacNetID}} |= ( ( uint32\_t )\mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[6] << 16 );
823 
824                 \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{LoRaMacDevAddr}} = ( uint32\_t )\mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[7];
825                 \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{LoRaMacDevAddr}} |= ( ( uint32\_t )\mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[8] << 8 );
826                 \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{LoRaMacDevAddr}} |= ( ( uint32\_t )\mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[9] << 16 );
827                 \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{LoRaMacDevAddr}} |= ( ( uint32\_t )\mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[10] << 24 );
828 
829                 \textcolor{comment}{// DLSettings}
830                 \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a7de51959047aa36190c0a59485397244}{Rx1DrOffset}} = ( 
      \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[11] >> 4 ) & 0x07;
831                 \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_aa0fbe93ff398020c65d2431af19368e8}{Rx2Channel}}.\mbox{\hyperlink{structs_rx2_channel_params_a780280c12645b2666878162aab5d8cad}{Datarate}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[11] & 0x0F;
832 
833                 \textcolor{comment}{// RxDelay}
834                 \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a426f0e1108ebe3ba1b05c2853c0b0c3a}{ReceiveDelay1}} = ( 
      \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[12] & 0x0F );
835                 \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a426f0e1108ebe3ba1b05c2853c0b0c3a}{ReceiveDelay1}} == 0 )
836                 \{
837                     \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a426f0e1108ebe3ba1b05c2853c0b0c3a}{ReceiveDelay1}} = 1;
838                 \}
839                 \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a426f0e1108ebe3ba1b05c2853c0b0c3a}{ReceiveDelay1}} *= 1000;
840                 \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a67fbe3fba2eb31f8879ea22674dd50d8}{ReceiveDelay2}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a426f0e1108ebe3ba1b05c2853c0b0c3a}{ReceiveDelay1}} + 1000;
841 
842                 \textcolor{comment}{// Apply CF list}
843                 applyCFList.\mbox{\hyperlink{structs_apply_c_f_list_params_a3dfbfe76c8f3bd25765750487b815147}{Payload}} = &\mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}[13];
844                 \textcolor{comment}{// Size of the regular payload is 12. Plus 1 byte MHDR and 4 bytes MIC}
845                 applyCFList.\mbox{\hyperlink{structs_apply_c_f_list_params_ace31de7598e85e87624c4e7d8e5d112c}{Size}} = size - 17;
846 
847                 \mbox{\hyperlink{group___r_e_g_i_o_n_gae3fdd82182ebb0704adb2a017d30e1f2}{RegionApplyCFList}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &applyCFList );
848 
849                 \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201aa5e3d1c382c8473a1095b56067aea3f4}{LORAMAC\_EVENT\_INFO\_STATUS\_OK}};
850                 \mbox{\hyperlink{_lo_ra_mac_8c_a17b05239ef8b6078a499010ede20ec54}{IsLoRaMacNetworkJoined}} = \textcolor{keyword}{true};
851             \}
852             \textcolor{keywordflow}{else}
853             \{
854                 \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201af42941643347e10f0e5a01c324bf6170}{LORAMAC\_EVENT\_INFO\_STATUS\_JOIN\_FAIL}};
855             \}
856             \textcolor{keywordflow}{break};
857         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga5e02f214e1a4b8578c415045367c0a11ad9249e47768f5551f2733532da9f3712}{FRAME\_TYPE\_DATA\_CONFIRMED\_DOWN}}:
858         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga5e02f214e1a4b8578c415045367c0a11a0309638c699fe7748561e2bac00bd689}{FRAME\_TYPE\_DATA\_UNCONFIRMED\_DOWN}}:
859             \{
860                 \textcolor{comment}{// Check if the received payload size is valid}
861                 getPhy.\mbox{\hyperlink{structs_get_phy_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a63074ce7d23ff98956f5d6f4054f235f}{DownlinkDwellTime}};
862                 getPhy.\mbox{\hyperlink{structs_get_phy_params_ae2f6080f3aa0e9485c55513ca56bb24d}{Datarate}} = \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.
      \mbox{\hyperlink{structs_mcps_indication_a61e9e29ca015230436fe420bf88989e9}{RxDatarate}};
863                 getPhy.\mbox{\hyperlink{structs_get_phy_params_abdcb168ffd6913b85e2f635d7a475f2d}{Attribute}} = \mbox{\hyperlink{group___r_e_g_i_o_n_gga51cbe8f5433d914fe9cf81b451de2c2dad671e2651e42de26927910282c6b2781}{PHY\_MAX\_PAYLOAD}};
864 
865                 \textcolor{comment}{// Get the maximum payload length}
866                 \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a037bdbc41e8b3deeaab3684cf4b23f66}{RepeaterSupport}} == \textcolor{keyword}{true} )
867                 \{
868                     getPhy.\mbox{\hyperlink{structs_get_phy_params_abdcb168ffd6913b85e2f635d7a475f2d}{Attribute}} = \mbox{\hyperlink{group___r_e_g_i_o_n_gga51cbe8f5433d914fe9cf81b451de2c2da8a3b9e5ad2604232fd1f8781658452f3}{PHY\_MAX\_PAYLOAD\_REPEATER}};
869                 \}
870                 phyParam = \mbox{\hyperlink{group___r_e_g_i_o_n_gafbd084611ba512035a6cbe7f3aa5857b}{RegionGetPhyParam}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &getPhy );
871                 \textcolor{keywordflow}{if}( \mbox{\hyperlink{utilities_8h_afa99ec4acc4ecb2dc3c2d05da15d0e3f}{MAX}}( 0, ( int16\_t )( ( int16\_t )size - ( int16\_t )
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga9623296c345a3636f460ecdb8b1bbd9d}{LORA\_MAC\_FRMPAYLOAD\_OVERHEAD}} ) ) > phyParam.\mbox{\hyperlink{unionu_phy_param_a8e0dcce3428a8051614e852b8836d0d1}{Value}} )
872                 \{
873                     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a613ed77c0e8416a512224fffdbfdf6c1}{LORAMAC\_EVENT\_INFO\_STATUS\_ERROR}};
874                     \mbox{\hyperlink{_lo_ra_mac_8c_a420f8e89407bab48414b1058d8071c97}{PrepareRxDoneAbort}}( );
875                     \textcolor{keywordflow}{return};
876                 \}
877 
878                 address = payload[pktHeaderLen++];
879                 address |= ( (uint32\_t)payload[pktHeaderLen++] << 8 );
880                 address |= ( (uint32\_t)payload[pktHeaderLen++] << 16 );
881                 address |= ( (uint32\_t)payload[pktHeaderLen++] << 24 );
882 
883                 \textcolor{keywordflow}{if}( address != \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{LoRaMacDevAddr}} )
884                 \{
885                     curMulticastParams = \mbox{\hyperlink{_lo_ra_mac_8c_aca81cdf8cb24b9a7e02f40d0b9565013}{MulticastChannels}};
886                     \textcolor{keywordflow}{while}( curMulticastParams != NULL )
887                     \{
888                         \textcolor{keywordflow}{if}( address == curMulticastParams->\mbox{\hyperlink{structs_multicast_params_aca1b23fd721c8d8dc70a8227e336b6e8}{Address}} )
889                         \{
890                             multicast = 1;
891                             nwkSKey = curMulticastParams->\mbox{\hyperlink{structs_multicast_params_adb8f473333a3f15032a04a78260f8ead}{NwkSKey}};
892                             appSKey = curMulticastParams->\mbox{\hyperlink{structs_multicast_params_a44d7cdeb3d44f4e7f8a0cefc938aaa5c}{AppSKey}};
893                             downLinkCounter = curMulticastParams->
      \mbox{\hyperlink{structs_multicast_params_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}};
894                             \textcolor{keywordflow}{break};
895                         \}
896                         curMulticastParams = curMulticastParams->\mbox{\hyperlink{structs_multicast_params_ac9765374ff15c55462baa90d1331b3b4}{Next}};
897                     \}
898                     \textcolor{keywordflow}{if}( multicast == 0 )
899                     \{
900                         \textcolor{comment}{// We are not the destination of this frame.}
901                         \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201af141bb217ba31a2dc7d3cc128a13de10}{LORAMAC\_EVENT\_INFO\_STATUS\_ADDRESS\_FAIL}};
902                         \mbox{\hyperlink{_lo_ra_mac_8c_a420f8e89407bab48414b1058d8071c97}{PrepareRxDoneAbort}}( );
903                         \textcolor{keywordflow}{return};
904                     \}
905                 \}
906                 \textcolor{keywordflow}{else}
907                 \{
908                     multicast = 0;
909                     nwkSKey = \mbox{\hyperlink{_lo_ra_mac_8c_a9816dc9026964ce255ef940f5db374e2}{LoRaMacNwkSKey}};
910                     appSKey = \mbox{\hyperlink{_lo_ra_mac_8c_ad5e7927ea18fa50f7e31b4b77a51b7ac}{LoRaMacAppSKey}};
911                     downLinkCounter = \mbox{\hyperlink{_lo_ra_mac_8c_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}};
912                 \}
913 
914                 fCtrl.\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_a88f4d00bdab99ae6f48c7ae0bc468bb4}{Value}} = payload[pktHeaderLen++];
915 
916                 sequenceCounter = ( uint16\_t )payload[pktHeaderLen++];
917                 sequenceCounter |= ( uint16\_t )payload[pktHeaderLen++] << 8;
918 
919                 appPayloadStartIndex = 8 + fCtrl.\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_aca65acebde222837502f6cf8e2aeeac8}{FOptsLen}};
920 
921                 micRx |= ( uint32\_t )payload[size - \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1727f288e9a871f1474ce61f942a08f3}{LORAMAC\_MFR\_LEN}}];
922                 micRx |= ( ( uint32\_t )payload[size - \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1727f288e9a871f1474ce61f942a08f3}{LORAMAC\_MFR\_LEN}} + 1] << 8 );
923                 micRx |= ( ( uint32\_t )payload[size - \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1727f288e9a871f1474ce61f942a08f3}{LORAMAC\_MFR\_LEN}} + 2] << 16 );
924                 micRx |= ( ( uint32\_t )payload[size - \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1727f288e9a871f1474ce61f942a08f3}{LORAMAC\_MFR\_LEN}} + 3] << 24 );
925 
926                 sequenceCounterPrev = ( uint16\_t )downLinkCounter;
927                 sequenceCounterDiff = ( sequenceCounter - sequenceCounterPrev );
928 
929                 \textcolor{keywordflow}{if}( sequenceCounterDiff < ( 1 << 15 ) )
930                 \{
931                     downLinkCounter += sequenceCounterDiff;
932                     \mbox{\hyperlink{group___l_o_r_a_m_a_c___c_r_y_p_t_o_ga6ee265070494b83255e7fdc4dff985da}{LoRaMacComputeMic}}( payload, size - 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1727f288e9a871f1474ce61f942a08f3}{LORAMAC\_MFR\_LEN}}, nwkSKey, address, \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga801525db3ba12b250029f026403524b7}{DOWN\_LINK}}, downLinkCounter, &mic );
933                     \textcolor{keywordflow}{if}( micRx == mic )
934                     \{
935                         isMicOk = \textcolor{keyword}{true};
936                     \}
937                 \}
938                 \textcolor{keywordflow}{else}
939                 \{
940                     \textcolor{comment}{// check for sequence roll-over}
941                     uint32\_t  downLinkCounterTmp = downLinkCounter + 0x10000 + ( int16\_t )
      sequenceCounterDiff;
942                     \mbox{\hyperlink{group___l_o_r_a_m_a_c___c_r_y_p_t_o_ga6ee265070494b83255e7fdc4dff985da}{LoRaMacComputeMic}}( payload, size - 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1727f288e9a871f1474ce61f942a08f3}{LORAMAC\_MFR\_LEN}}, nwkSKey, address, \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga801525db3ba12b250029f026403524b7}{DOWN\_LINK}}, downLinkCounterTmp, &mic );
943                     \textcolor{keywordflow}{if}( micRx == mic )
944                     \{
945                         isMicOk = \textcolor{keyword}{true};
946                         downLinkCounter = downLinkCounterTmp;
947                     \}
948                 \}
949 
950                 \textcolor{comment}{// Check for a the maximum allowed counter difference}
951                 getPhy.\mbox{\hyperlink{structs_get_phy_params_abdcb168ffd6913b85e2f635d7a475f2d}{Attribute}} = \mbox{\hyperlink{group___r_e_g_i_o_n_gga51cbe8f5433d914fe9cf81b451de2c2da01c12b14686172b4a3c4d095deef4248}{PHY\_MAX\_FCNT\_GAP}};
952                 phyParam = \mbox{\hyperlink{group___r_e_g_i_o_n_gafbd084611ba512035a6cbe7f3aa5857b}{RegionGetPhyParam}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &getPhy );
953                 \textcolor{keywordflow}{if}( sequenceCounterDiff >= phyParam.\mbox{\hyperlink{unionu_phy_param_a8e0dcce3428a8051614e852b8836d0d1}{Value}} )
954                 \{
955                     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a4a75f7744209239bb80e6af142d0249d}{LORAMAC\_EVENT\_INFO\_STATUS\_DOWNLINK\_TOO\_MANY\_FRAMES\_LOSS}}
      ;
956                     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} = downLinkCounter;
957                     \mbox{\hyperlink{_lo_ra_mac_8c_a420f8e89407bab48414b1058d8071c97}{PrepareRxDoneAbort}}( );
958                     \textcolor{keywordflow}{return};
959                 \}
960 
961                 \textcolor{keywordflow}{if}( isMicOk == \textcolor{keyword}{true} )
962                 \{
963                     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201aa5e3d1c382c8473a1095b56067aea3f4}{LORAMAC\_EVENT\_INFO\_STATUS\_OK}};
964                     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_acbaf0d718e63c5e2ed50a29cdcca27e0}{Multicast}} = multicast;
965                     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a123aed553ea78b5967618c22147a7f4c}{FramePending}} = fCtrl.
      \mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_a2d5d8f602343aff45f870d4c38ffa0df}{FPending}};
966                     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a095175dabcb7cd83bddf2bea50371121}{Buffer}} = NULL;
967                     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_abf449ca64f34dbb66a7c5bf70fd55753}{BufferSize}} = 0;
968                     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} = downLinkCounter;
969 
970                     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201aa5e3d1c382c8473a1095b56067aea3f4}{LORAMAC\_EVENT\_INFO\_STATUS\_OK}};
971 
972                     \mbox{\hyperlink{_lo_ra_mac_8c_a24f0356a3491bf07be9ac99ffa33896a}{AdrAckCounter}} = 0;
973                     \mbox{\hyperlink{_lo_ra_mac_8c_a44f97c375266b0b4b2e9d5f8fc01c43f}{MacCommandsBufferToRepeatIndex}} = 0;
974 
975                     \textcolor{comment}{// Update 32 bits downlink counter}
976                     \textcolor{keywordflow}{if}( multicast == 1 )
977                     \{
978                         \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_af45477156b4a2e186b2bfa2afb3a4efc}{McpsIndication}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga7b080a046606f23fe030d0aa6d2a0e30aba17be1162725df5e78e03b3aeff83fa}{MCPS\_MULTICAST}};
979 
980                         \textcolor{keywordflow}{if}( ( curMulticastParams->\mbox{\hyperlink{structs_multicast_params_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} == downLinkCounter ) &&
981                             ( curMulticastParams->\mbox{\hyperlink{structs_multicast_params_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} != 0 ) )
982                         \{
983                             \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201aaae47a8316ae996d506323e0e6613b9b}{LORAMAC\_EVENT\_INFO\_STATUS\_DOWNLINK\_REPEATED}};
984                             \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} = downLinkCounter;
985                             \mbox{\hyperlink{_lo_ra_mac_8c_a420f8e89407bab48414b1058d8071c97}{PrepareRxDoneAbort}}( );
986                             \textcolor{keywordflow}{return};
987                         \}
988                         curMulticastParams->\mbox{\hyperlink{structs_multicast_params_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} = downLinkCounter;
989                     \}
990                     \textcolor{keywordflow}{else}
991                     \{
992                         \textcolor{keywordflow}{if}( macHdr.\mbox{\hyperlink{unionu_lo_ra_mac_header_a2be537c628f62bdb049e4ecd5bec8e6a}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_header_1_1s_hdr_bits_a1b16521f6356e21b690406a9aa7ce147}{MType}} == 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga5e02f214e1a4b8578c415045367c0a11ad9249e47768f5551f2733532da9f3712}{FRAME\_TYPE\_DATA\_CONFIRMED\_DOWN}} )
993                         \{
994                             \mbox{\hyperlink{_lo_ra_mac_8c_ab2844ac436592f1158ef418473f0fe85}{SrvAckRequested}} = \textcolor{keyword}{true};
995                             \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_af45477156b4a2e186b2bfa2afb3a4efc}{McpsIndication}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga7b080a046606f23fe030d0aa6d2a0e30a5eb18aef0f2abda0d56add7e868b8546}{MCPS\_CONFIRMED}};
996 
997                             \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} == downLinkCounter ) &&
998                                 ( \mbox{\hyperlink{_lo_ra_mac_8c_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} != 0 ) )
999                             \{
1000                                 \textcolor{comment}{// Duplicated confirmed downlink. Skip indication.}
1001                                 \textcolor{comment}{// In this case, the MAC layer shall accept the MAC commands}
1002                                 \textcolor{comment}{// which are included in the downlink retransmission.}
1003                                 \textcolor{comment}{// It should not provide the same frame to the application}
1004                                 \textcolor{comment}{// layer again. The MAC layer accepts the acknowledgement.}
1005                                 \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a45141607ee2f47da2432d5d2a8045e69}{McpsIndSkip}} = 1;
1006                             \}
1007                         \}
1008                         \textcolor{keywordflow}{else}
1009                         \{
1010                             \mbox{\hyperlink{_lo_ra_mac_8c_ab2844ac436592f1158ef418473f0fe85}{SrvAckRequested}} = \textcolor{keyword}{false};
1011                             \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_af45477156b4a2e186b2bfa2afb3a4efc}{McpsIndication}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga7b080a046606f23fe030d0aa6d2a0e30a340afc087e96410da04d07fb0470f84a}{MCPS\_UNCONFIRMED}};
1012 
1013                             \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} == downLinkCounter ) &&
1014                                 ( \mbox{\hyperlink{_lo_ra_mac_8c_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} != 0 ) )
1015                             \{
1016                                 \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201aaae47a8316ae996d506323e0e6613b9b}{LORAMAC\_EVENT\_INFO\_STATUS\_DOWNLINK\_REPEATED}};
1017                                 \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} = 
      downLinkCounter;
1018                                 \mbox{\hyperlink{_lo_ra_mac_8c_a420f8e89407bab48414b1058d8071c97}{PrepareRxDoneAbort}}( );
1019                                 \textcolor{keywordflow}{return};
1020                             \}
1021                         \}
1022                         \mbox{\hyperlink{_lo_ra_mac_8c_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} = downLinkCounter;
1023                     \}
1024 
1025                     \textcolor{comment}{// This must be done before parsing the payload and the MAC commands.}
1026                     \textcolor{comment}{// We need to reset the MacCommandsBufferIndex here, since we need}
1027                     \textcolor{comment}{// to take retransmissions and repetitions into account. Error cases}
1028                     \textcolor{comment}{// will be handled in function OnMacStateCheckTimerEvent.}
1029                     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ab5da7b8ef4530ebd1fb2005f950a2b0b}{McpsRequest}} == 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga7b080a046606f23fe030d0aa6d2a0e30a5eb18aef0f2abda0d56add7e868b8546}{MCPS\_CONFIRMED}} )
1030                     \{
1031                         \textcolor{keywordflow}{if}( fCtrl.\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_a7a652a0a459bea0bd46edc2b83c3eacc}{Ack}} == 1 )
1032                         \{\textcolor{comment}{// Reset MacCommandsBufferIndex when we have received an ACK.}
1033                             \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} = 0;
1034                             \textcolor{comment}{// Update acknowledgement information}
1035                             \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ac59e1bd1c9450c7d136c7f475be89ded}{AckReceived}} = fCtrl.
      \mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_a7a652a0a459bea0bd46edc2b83c3eacc}{Ack}};
1036                             \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ac59e1bd1c9450c7d136c7f475be89ded}{AckReceived}} = fCtrl.
      \mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_a7a652a0a459bea0bd46edc2b83c3eacc}{Ack}};
1037                         \}
1038                     \}
1039                     \textcolor{keywordflow}{else}
1040                     \{\textcolor{comment}{// Reset the variable if we have received any valid frame.}
1041                         \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} = 0;
1042                     \}
1043 
1044                     \textcolor{comment}{// Process payload and MAC commands}
1045                     \textcolor{keywordflow}{if}( ( ( size - 4 ) - appPayloadStartIndex ) > 0 )
1046                     \{
1047                         port = payload[appPayloadStartIndex++];
1048                         frameLen = ( size - 4 ) - appPayloadStartIndex;
1049 
1050                         \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a4b93121f04819fbab96346736fa720a9}{Port}} = port;
1051 
1052                         \textcolor{keywordflow}{if}( port == 0 )
1053                         \{
1054                             \textcolor{comment}{// Only allow frames which do not have fOpts}
1055                             \textcolor{keywordflow}{if}( fCtrl.\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_aca65acebde222837502f6cf8e2aeeac8}{FOptsLen}} == 0 )
1056                             \{
1057                                 \mbox{\hyperlink{group___l_o_r_a_m_a_c___c_r_y_p_t_o_ga41f9ba19f61b195420914ed58c8b94c7}{LoRaMacPayloadDecrypt}}( payload + appPayloadStartIndex,
1058                                                        frameLen,
1059                                                        nwkSKey,
1060                                                        address,
1061                                                        \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga801525db3ba12b250029f026403524b7}{DOWN\_LINK}},
1062                                                        downLinkCounter,
1063                                                        \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}} );
1064 
1065                                 \textcolor{comment}{// Decode frame payload MAC commands}
1066                                 \mbox{\hyperlink{_lo_ra_mac_8c_afa7e82de5358cd2d2605c888cb1860a3}{ProcessMacCommands}}( 
      \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}, 0, frameLen, snr );
1067                             \}
1068                             \textcolor{keywordflow}{else}
1069                             \{
1070                                 \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a45141607ee2f47da2432d5d2a8045e69}{McpsIndSkip}} = 1;
1071                                 \textcolor{comment}{// This is not a valid frame. Drop it and reset the ACK bits}
1072                                 \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ac59e1bd1c9450c7d136c7f475be89ded}{AckReceived}} = \textcolor{keyword}{false};
1073                                 \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ac59e1bd1c9450c7d136c7f475be89ded}{AckReceived}} = \textcolor{keyword}{false};
1074                             \}
1075                         \}
1076                         \textcolor{keywordflow}{else}
1077                         \{
1078                             \textcolor{keywordflow}{if}( fCtrl.\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_aca65acebde222837502f6cf8e2aeeac8}{FOptsLen}} > 0 )
1079                             \{
1080                                 \textcolor{comment}{// Decode Options field MAC commands. Omit the fPort.}
1081                                 \mbox{\hyperlink{_lo_ra_mac_8c_afa7e82de5358cd2d2605c888cb1860a3}{ProcessMacCommands}}( payload, 8, appPayloadStartIndex - 1,
       snr );
1082                             \}
1083 
1084                             \mbox{\hyperlink{group___l_o_r_a_m_a_c___c_r_y_p_t_o_ga41f9ba19f61b195420914ed58c8b94c7}{LoRaMacPayloadDecrypt}}( payload + appPayloadStartIndex,
1085                                                    frameLen,
1086                                                    appSKey,
1087                                                    address,
1088                                                    \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga801525db3ba12b250029f026403524b7}{DOWN\_LINK}},
1089                                                    downLinkCounter,
1090                                                    \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}} );
1091 
1092                             \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a095175dabcb7cd83bddf2bea50371121}{Buffer}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}};
1093                             \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_abf449ca64f34dbb66a7c5bf70fd55753}{BufferSize}} = frameLen;
1094                             \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_afa6d3de110fa10174203ce26682585c9}{RxData}} = \textcolor{keyword}{true};
1095                         \}
1096                     \}
1097                     \textcolor{keywordflow}{else}
1098                     \{
1099                         \textcolor{keywordflow}{if}( fCtrl.\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_aca65acebde222837502f6cf8e2aeeac8}{FOptsLen}} > 0 )
1100                         \{
1101                             \textcolor{comment}{// Decode Options field MAC commands}
1102                             \mbox{\hyperlink{_lo_ra_mac_8c_afa7e82de5358cd2d2605c888cb1860a3}{ProcessMacCommands}}( payload, 8, appPayloadStartIndex, snr );
1103                         \}
1104                     \}
1105 
1106                     \textcolor{comment}{// Provide always an indication, skip the callback to the user application,}
1107                     \textcolor{comment}{// in case of a confirmed downlink retransmission.}
1108                     \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a81d24e4d487adef6c6d4f4ca0963319e}{McpsInd}} = 1;
1109                 \}
1110                 \textcolor{keywordflow}{else}
1111                 \{
1112                     \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a43bdb9277722c567c81539fd175a7a63}{LORAMAC\_EVENT\_INFO\_STATUS\_MIC\_FAIL}};
1113 
1114                     \mbox{\hyperlink{_lo_ra_mac_8c_a420f8e89407bab48414b1058d8071c97}{PrepareRxDoneAbort}}( );
1115                     \textcolor{keywordflow}{return};
1116                 \}
1117             \}
1118             \textcolor{keywordflow}{break};
1119         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga5e02f214e1a4b8578c415045367c0a11a68dbf0499a1912728cc6a6d1ab328b37}{FRAME\_TYPE\_PROPRIETARY}}:
1120             \{
1121                 \mbox{\hyperlink{utilities_8c_abfbe672c7136122f16c9214bc4ba8d21}{memcpy1}}( \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}}, &payload[pktHeaderLen], size );
1122 
1123                 \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_af45477156b4a2e186b2bfa2afb3a4efc}{McpsIndication}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga7b080a046606f23fe030d0aa6d2a0e30a29a54ded2edefe9179a33a14e3ceaca5}{MCPS\_PROPRIETARY}};
1124                 \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201aa5e3d1c382c8473a1095b56067aea3f4}{LORAMAC\_EVENT\_INFO\_STATUS\_OK}};
1125                 \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a095175dabcb7cd83bddf2bea50371121}{Buffer}} = \mbox{\hyperlink{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}{LoRaMacRxPayload}};
1126                 \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_abf449ca64f34dbb66a7c5bf70fd55753}{BufferSize}} = size - pktHeaderLen;
1127 
1128                 \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a81d24e4d487adef6c6d4f4ca0963319e}{McpsInd}} = 1;
1129                 \textcolor{keywordflow}{break};
1130             \}
1131         \textcolor{keywordflow}{default}:
1132             \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a613ed77c0e8416a512224fffdbfdf6c1}{LORAMAC\_EVENT\_INFO\_STATUS\_ERROR}};
1133             \mbox{\hyperlink{_lo_ra_mac_8c_a420f8e89407bab48414b1058d8071c97}{PrepareRxDoneAbort}}( );
1134             \textcolor{keywordflow}{break};
1135     \}
1136 
1137     \textcolor{comment}{// Verify if we need to disable the AckTimeoutTimer}
1138     \mbox{\hyperlink{_lo_ra_mac_8c_aa36f254fbd91a58953cad5a84d651db3}{CheckToDisableAckTimeout}}( \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}}, \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ac59e1bd1c9450c7d136c7f475be89ded}{AckReceived}},
1139                                 \mbox{\hyperlink{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}{AckTimeoutRetriesCounter}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a3d8e8bba7cacae102725b355fb60e039}{AckTimeoutRetries}} );
1140 
1141     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_afab06ef771ba34680a8b1f36cd3e3d77}{AckTimeoutTimer}}.\mbox{\hyperlink{struct_timer_event__s_af5cb1246be24f89c7a5f720af0c92559}{IsRunning}} == \textcolor{keyword}{false} )
1142     \{\textcolor{comment}{// Procedure is completed when the AckTimeoutTimer is not running anymore}
1143         \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} = 1;
1144 
1145         \textcolor{comment}{// Trig OnMacCheckTimerEvent call as soon as possible}
1146         \mbox{\hyperlink{time_server_8c_ad56c30124de6deefb3e32bbee2a4ba46}{TimerSetValue}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}}, 1 );
1147         \mbox{\hyperlink{time_server_8c_acd2c1f05aa1976f3bbedd389c8710a78}{TimerStart}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}} );
1148     \}
1149 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 13
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 14
\mbox{\Hypertarget{_lo_ra_mac_8c_a414d6e1b6ffc2d8b5dfe2621a9c35ca5}\label{_lo_ra_mac_8c_a414d6e1b6ffc2d8b5dfe2621a9c35ca5}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!On\+Radio\+Rx\+Error@{On\+Radio\+Rx\+Error}}
\index{On\+Radio\+Rx\+Error@{On\+Radio\+Rx\+Error}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{On\+Radio\+Rx\+Error()}{OnRadioRxError()}}
{\footnotesize\ttfamily static void On\+Radio\+Rx\+Error (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Function executed on Radio Rx error event 



Lo\+Ra\+Mac.\+c 파일의 1167 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1168 \{
1169     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} != \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1170     \{
1171         \mbox{\hyperlink{sx1276mb1las_8c_acf9fe61a72c16fa29a0dc449d23e3820}{Radio}}.\mbox{\hyperlink{struct_radio__s_a5792613816e79c465be4169c0bc020cb}{Sleep}}( );
1172     \}
1173 
1174     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a0a258bf8cfad5219bfd579257e523fc1}{RxSlot}} == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga933a5a2f7d57b1a5cb22f061e30558fea5fa7051b96e31f50660867ec02cb6624}{RX\_SLOT\_WIN\_1}} )
1175     \{
1176         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} == \textcolor{keyword}{true} )
1177         \{
1178             \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a7bea16ca3ce17932dd5ee3558fdd0ed1}{LORAMAC\_EVENT\_INFO\_STATUS\_RX1\_ERROR}};
1179         \}
1180         \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a7bea16ca3ce17932dd5ee3558fdd0ed1}{LORAMAC\_EVENT\_INFO\_STATUS\_RX1\_ERROR}};
1181 
1182         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} != \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1183         \{
1184             \textcolor{keywordflow}{if}( \mbox{\hyperlink{time_server_8c_a9ca7e27f3d6474daff63f2e093a2e91e}{TimerGetElapsedTime}}( \mbox{\hyperlink{_lo_ra_mac_8c_a63fce22a5f0870ce0cb81b36f4a1316c}{AggregatedLastTxDoneTime}} ) 
      >= \mbox{\hyperlink{_lo_ra_mac_8c_a52008ffee9185d56a2dc9dc3c390ed22}{RxWindow2Delay}} )
1185             \{
1186                 \mbox{\hyperlink{time_server_8c_a8ae899c4e8a9abf49d825d6959aa6bcb}{TimerStop}}( &\mbox{\hyperlink{_lo_ra_mac_8c_ad7a9d17000e9b3575a2ec1ae5c45d145}{RxWindowTimer2}} );
1187                 \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} = 1;
1188             \}
1189         \}
1190     \}
1191     \textcolor{keywordflow}{else}
1192     \{
1193         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} == \textcolor{keyword}{true} )
1194         \{
1195             \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201afe9be38729233485ea6edd190eaa8716}{LORAMAC\_EVENT\_INFO\_STATUS\_RX2\_ERROR}};
1196         \}
1197         \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201afe9be38729233485ea6edd190eaa8716}{LORAMAC\_EVENT\_INFO\_STATUS\_RX2\_ERROR}};
1198 
1199         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} != \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1200         \{
1201             \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} = 1;
1202         \}
1203     \}
1204 
1205     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1206     \{
1207         \mbox{\hyperlink{_lo_ra_mac_8c_aeadfc508b9129926685664bc456db4f6}{OpenContinuousRx2Window}}( );
1208     \}
1209 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 15
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 16
\mbox{\Hypertarget{_lo_ra_mac_8c_a4aa0011eefde1209939b3736fb62fbd1}\label{_lo_ra_mac_8c_a4aa0011eefde1209939b3736fb62fbd1}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!On\+Radio\+Rx\+Timeout@{On\+Radio\+Rx\+Timeout}}
\index{On\+Radio\+Rx\+Timeout@{On\+Radio\+Rx\+Timeout}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{On\+Radio\+Rx\+Timeout()}{OnRadioRxTimeout()}}
{\footnotesize\ttfamily static void On\+Radio\+Rx\+Timeout (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Function executed on Radio Rx Timeout event 



Lo\+Ra\+Mac.\+c 파일의 1211 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1212 \{
1213     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} != \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1214     \{
1215         \mbox{\hyperlink{sx1276mb1las_8c_acf9fe61a72c16fa29a0dc449d23e3820}{Radio}}.\mbox{\hyperlink{struct_radio__s_a5792613816e79c465be4169c0bc020cb}{Sleep}}( );
1216     \}
1217 
1218     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a0a258bf8cfad5219bfd579257e523fc1}{RxSlot}} == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga933a5a2f7d57b1a5cb22f061e30558fea5fa7051b96e31f50660867ec02cb6624}{RX\_SLOT\_WIN\_1}} )
1219     \{
1220         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} == \textcolor{keyword}{true} )
1221         \{
1222             \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201ab79a8aa20783ae5825ab8488d66a77cc}{LORAMAC\_EVENT\_INFO\_STATUS\_RX1\_TIMEOUT}};
1223         \}
1224         \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201ab79a8aa20783ae5825ab8488d66a77cc}{LORAMAC\_EVENT\_INFO\_STATUS\_RX1\_TIMEOUT}};
1225 
1226         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} != \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1227         \{
1228             \textcolor{keywordflow}{if}( \mbox{\hyperlink{time_server_8c_a9ca7e27f3d6474daff63f2e093a2e91e}{TimerGetElapsedTime}}( \mbox{\hyperlink{_lo_ra_mac_8c_a63fce22a5f0870ce0cb81b36f4a1316c}{AggregatedLastTxDoneTime}} ) 
      >= \mbox{\hyperlink{_lo_ra_mac_8c_a52008ffee9185d56a2dc9dc3c390ed22}{RxWindow2Delay}} )
1229             \{
1230                 \mbox{\hyperlink{time_server_8c_a8ae899c4e8a9abf49d825d6959aa6bcb}{TimerStop}}( &\mbox{\hyperlink{_lo_ra_mac_8c_ad7a9d17000e9b3575a2ec1ae5c45d145}{RxWindowTimer2}} );
1231                 \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} = 1;
1232             \}
1233         \}
1234     \}
1235     \textcolor{keywordflow}{else}
1236     \{
1237         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} == \textcolor{keyword}{true} )
1238         \{
1239             \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a743858a21ae7cb162abc9acaa62cd4df}{LORAMAC\_EVENT\_INFO\_STATUS\_RX2\_TIMEOUT}};
1240         \}
1241         \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a743858a21ae7cb162abc9acaa62cd4df}{LORAMAC\_EVENT\_INFO\_STATUS\_RX2\_TIMEOUT}};
1242 
1243         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} != \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1244         \{
1245             \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} = 1;
1246         \}
1247     \}
1248 
1249     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1250     \{
1251         \mbox{\hyperlink{_lo_ra_mac_8c_aeadfc508b9129926685664bc456db4f6}{OpenContinuousRx2Window}}( );
1252     \}
1253 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 17
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 18
\mbox{\Hypertarget{_lo_ra_mac_8c_ac87ba7b0231ab8e90b130849e3dee4be}\label{_lo_ra_mac_8c_ac87ba7b0231ab8e90b130849e3dee4be}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!On\+Radio\+Tx\+Done@{On\+Radio\+Tx\+Done}}
\index{On\+Radio\+Tx\+Done@{On\+Radio\+Tx\+Done}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{On\+Radio\+Tx\+Done()}{OnRadioTxDone()}}
{\footnotesize\ttfamily static void On\+Radio\+Tx\+Done (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Function to be executed on Radio Tx Done event 



Lo\+Ra\+Mac.\+c 파일의 658 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
659 \{
660     \mbox{\hyperlink{structs_get_phy_params}{GetPhyParams\_t}} getPhy;
661     \mbox{\hyperlink{unionu_phy_param}{PhyParam\_t}} phyParam;
662     \mbox{\hyperlink{structs_set_band_tx_done_params}{SetBandTxDoneParams\_t}} txDone;
663     \mbox{\hyperlink{utilities_8h_a4215ca43d3e953099ea758ce428599d0}{TimerTime\_t}} curTime = \mbox{\hyperlink{time_server_8c_a2b801c1a13b71247424701f9a034f7ca}{TimerGetCurrentTime}}( );
664 
665     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} != \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
666     \{
667         \mbox{\hyperlink{sx1276mb1las_8c_acf9fe61a72c16fa29a0dc449d23e3820}{Radio}}.\mbox{\hyperlink{struct_radio__s_a5792613816e79c465be4169c0bc020cb}{Sleep}}( );
668     \}
669     \textcolor{keywordflow}{else}
670     \{
671         \mbox{\hyperlink{_lo_ra_mac_8c_aeadfc508b9129926685664bc456db4f6}{OpenContinuousRx2Window}}( );
672     \}
673 
674     \textcolor{comment}{// Setup timers}
675     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a60695a58f371fb7e366c4059ecbf563a}{IsRxWindowsEnabled}} == \textcolor{keyword}{true} )
676     \{
677         \mbox{\hyperlink{time_server_8c_ad56c30124de6deefb3e32bbee2a4ba46}{TimerSetValue}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a22b50acc163059d07ebaea70180be11e}{RxWindowTimer1}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a90fcc76489ac561999ed35075ccbea8e}{RxWindow1Delay}} );
678         \mbox{\hyperlink{time_server_8c_acd2c1f05aa1976f3bbedd389c8710a78}{TimerStart}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a22b50acc163059d07ebaea70180be11e}{RxWindowTimer1}} );
679         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} != \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
680         \{
681             \mbox{\hyperlink{time_server_8c_ad56c30124de6deefb3e32bbee2a4ba46}{TimerSetValue}}( &\mbox{\hyperlink{_lo_ra_mac_8c_ad7a9d17000e9b3575a2ec1ae5c45d145}{RxWindowTimer2}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a52008ffee9185d56a2dc9dc3c390ed22}{RxWindow2Delay}} );
682             \mbox{\hyperlink{time_server_8c_acd2c1f05aa1976f3bbedd389c8710a78}{TimerStart}}( &\mbox{\hyperlink{_lo_ra_mac_8c_ad7a9d17000e9b3575a2ec1ae5c45d145}{RxWindowTimer2}} );
683         \}
684         \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} ) || ( 
      \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} == \textcolor{keyword}{true} ) )
685         \{
686             getPhy.\mbox{\hyperlink{structs_get_phy_params_abdcb168ffd6913b85e2f635d7a475f2d}{Attribute}} = \mbox{\hyperlink{group___r_e_g_i_o_n_gga51cbe8f5433d914fe9cf81b451de2c2da8485b24e94d037ba487ab6ecfaf162e8}{PHY\_ACK\_TIMEOUT}};
687             phyParam = \mbox{\hyperlink{group___r_e_g_i_o_n_gafbd084611ba512035a6cbe7f3aa5857b}{RegionGetPhyParam}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &getPhy );
688             \mbox{\hyperlink{time_server_8c_ad56c30124de6deefb3e32bbee2a4ba46}{TimerSetValue}}( &\mbox{\hyperlink{_lo_ra_mac_8c_afab06ef771ba34680a8b1f36cd3e3d77}{AckTimeoutTimer}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a52008ffee9185d56a2dc9dc3c390ed22}{RxWindow2Delay}} + phyParam.\mbox{\hyperlink{unionu_phy_param_a8e0dcce3428a8051614e852b8836d0d1}{Value}} );
689             \mbox{\hyperlink{time_server_8c_acd2c1f05aa1976f3bbedd389c8710a78}{TimerStart}}( &\mbox{\hyperlink{_lo_ra_mac_8c_afab06ef771ba34680a8b1f36cd3e3d77}{AckTimeoutTimer}} );
690         \}
691     \}
692     \textcolor{keywordflow}{else}
693     \{
694         \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201aa5e3d1c382c8473a1095b56067aea3f4}{LORAMAC\_EVENT\_INFO\_STATUS\_OK}};
695         \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a743858a21ae7cb162abc9acaa62cd4df}{LORAMAC\_EVENT\_INFO\_STATUS\_RX2\_TIMEOUT}};
696 
697         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_a88f4d00bdab99ae6f48c7ae0bc468bb4}{Value}} == 0 )
698         \{
699             \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_adee8f234933a066317a08431f5db61b0}{McpsReq}} = 1;
700         \}
701         \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} = 1;
702     \}
703 
704     \textcolor{comment}{// Verify if the last uplink was a join request}
705     \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a3743e193dca88e3913e44e993a209ebf}{MlmeReq}} == 1 ) && ( 
      \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_a05e619573c522884eada37bde4e3d1f3}{MlmeRequest}} == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga320f4c08fe99747b08463689be624f7ba475ad5dea1c4c13b93b31095c665e92e}{MLME\_JOIN}} ) )
706     \{
707         \mbox{\hyperlink{_lo_ra_mac_8c_a4088d0ca2ff21fd5cdc110e14816dd53}{LastTxIsJoinRequest}} = \textcolor{keyword}{true};
708     \}
709     \textcolor{keywordflow}{else}
710     \{
711         \mbox{\hyperlink{_lo_ra_mac_8c_a4088d0ca2ff21fd5cdc110e14816dd53}{LastTxIsJoinRequest}} = \textcolor{keyword}{false};
712     \}
713 
714     \textcolor{comment}{// Store last Tx channel}
715     \mbox{\hyperlink{_lo_ra_mac_8c_af488d815cc2bb2d3074ee96c317e15f5}{LastTxChannel}} = \mbox{\hyperlink{_lo_ra_mac_8c_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}};
716     \textcolor{comment}{// Update last tx done time for the current channel}
717     txDone.\mbox{\hyperlink{structs_set_band_tx_done_params_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}} = \mbox{\hyperlink{_lo_ra_mac_8c_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}};
718     txDone.\mbox{\hyperlink{structs_set_band_tx_done_params_ac2f6caa0f3b02d2ac5056c3ee7c22652}{Joined}} = \mbox{\hyperlink{_lo_ra_mac_8c_a17b05239ef8b6078a499010ede20ec54}{IsLoRaMacNetworkJoined}};
719     txDone.\mbox{\hyperlink{structs_set_band_tx_done_params_a7316dfb002c4e0015fceeb727020fe5c}{LastTxDoneTime}} = curTime;
720     \mbox{\hyperlink{group___r_e_g_i_o_n_gabdd176dcf0b7e7900377b4c1e183613d}{RegionSetBandTxDone}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &txDone );
721     \textcolor{comment}{// Update Aggregated last tx done time}
722     \mbox{\hyperlink{_lo_ra_mac_8c_a63fce22a5f0870ce0cb81b36f4a1316c}{AggregatedLastTxDoneTime}} = curTime;
723 
724     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} == \textcolor{keyword}{false} )
725     \{
726         \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201aa5e3d1c382c8473a1095b56067aea3f4}{LORAMAC\_EVENT\_INFO\_STATUS\_OK}};
727         \mbox{\hyperlink{_lo_ra_mac_8c_adac3fa8dc924333e009083733e3e089d}{ChannelsNbRepCounter}}++;
728     \}
729 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 19
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 20
\mbox{\Hypertarget{_lo_ra_mac_8c_a31161d39c6adb93e52f1a0402dd55416}\label{_lo_ra_mac_8c_a31161d39c6adb93e52f1a0402dd55416}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!On\+Radio\+Tx\+Timeout@{On\+Radio\+Tx\+Timeout}}
\index{On\+Radio\+Tx\+Timeout@{On\+Radio\+Tx\+Timeout}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{On\+Radio\+Tx\+Timeout()}{OnRadioTxTimeout()}}
{\footnotesize\ttfamily static void On\+Radio\+Tx\+Timeout (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Function executed on Radio Tx Timeout event 



Lo\+Ra\+Mac.\+c 파일의 1151 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1152 \{
1153     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} != \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1154     \{
1155         \mbox{\hyperlink{sx1276mb1las_8c_acf9fe61a72c16fa29a0dc449d23e3820}{Radio}}.\mbox{\hyperlink{struct_radio__s_a5792613816e79c465be4169c0bc020cb}{Sleep}}( );
1156     \}
1157     \textcolor{keywordflow}{else}
1158     \{
1159         \mbox{\hyperlink{_lo_ra_mac_8c_aeadfc508b9129926685664bc456db4f6}{OpenContinuousRx2Window}}( );
1160     \}
1161 
1162     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a0c2eb197e4102e139b43c01e806fa538}{LORAMAC\_EVENT\_INFO\_STATUS\_TX\_TIMEOUT}}
      ;
1163     \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a0c2eb197e4102e139b43c01e806fa538}{LORAMAC\_EVENT\_INFO\_STATUS\_TX\_TIMEOUT}}
      ;
1164     \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} = 1;
1165 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 21
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 22
\mbox{\Hypertarget{_lo_ra_mac_8c_aee5c5399a6f41188ba87be8239bae8a9}\label{_lo_ra_mac_8c_aee5c5399a6f41188ba87be8239bae8a9}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!On\+Rx\+Window1\+Timer\+Event@{On\+Rx\+Window1\+Timer\+Event}}
\index{On\+Rx\+Window1\+Timer\+Event@{On\+Rx\+Window1\+Timer\+Event}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{On\+Rx\+Window1\+Timer\+Event()}{OnRxWindow1TimerEvent()}}
{\footnotesize\ttfamily static void On\+Rx\+Window1\+Timer\+Event (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Function executed on first Rx window timer event 



Lo\+Ra\+Mac.\+c 파일의 1466 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1467 \{
1468     \mbox{\hyperlink{time_server_8c_a8ae899c4e8a9abf49d825d6959aa6bcb}{TimerStop}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a22b50acc163059d07ebaea70180be11e}{RxWindowTimer1}} );
1469     \mbox{\hyperlink{_lo_ra_mac_8c_a0a258bf8cfad5219bfd579257e523fc1}{RxSlot}} = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga933a5a2f7d57b1a5cb22f061e30558fea5fa7051b96e31f50660867ec02cb6624}{RX\_SLOT\_WIN\_1}};
1470 
1471     \mbox{\hyperlink{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}{RxWindow1Config}}.\mbox{\hyperlink{structs_rx_config_params_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}} = \mbox{\hyperlink{_lo_ra_mac_8c_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}};
1472     \mbox{\hyperlink{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}{RxWindow1Config}}.\mbox{\hyperlink{structs_rx_config_params_ad920e18a48423b1eb1fe40d1b2b082d4}{DrOffset}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a7de51959047aa36190c0a59485397244}{Rx1DrOffset}};
1473     \mbox{\hyperlink{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}{RxWindow1Config}}.\mbox{\hyperlink{structs_rx_config_params_a63074ce7d23ff98956f5d6f4054f235f}{DownlinkDwellTime}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a63074ce7d23ff98956f5d6f4054f235f}{DownlinkDwellTime}};
1474     \mbox{\hyperlink{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}{RxWindow1Config}}.\mbox{\hyperlink{structs_rx_config_params_a037bdbc41e8b3deeaab3684cf4b23f66}{RepeaterSupport}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a037bdbc41e8b3deeaab3684cf4b23f66}{RepeaterSupport}};
1475     \mbox{\hyperlink{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}{RxWindow1Config}}.\mbox{\hyperlink{structs_rx_config_params_ad155d9bae95f09d927ca588dc4f4734a}{RxContinuous}} = \textcolor{keyword}{false};
1476     \mbox{\hyperlink{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}{RxWindow1Config}}.\mbox{\hyperlink{structs_rx_config_params_a0a258bf8cfad5219bfd579257e523fc1}{RxSlot}} = \mbox{\hyperlink{_lo_ra_mac_8c_a0a258bf8cfad5219bfd579257e523fc1}{RxSlot}};
1477 
1478     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1479     \{
1480         \mbox{\hyperlink{sx1276mb1las_8c_acf9fe61a72c16fa29a0dc449d23e3820}{Radio}}.\mbox{\hyperlink{struct_radio__s_ad1d3253de93d8fd1eee59da2a1c794ec}{Standby}}( );
1481     \}
1482 
1483     \mbox{\hyperlink{group___r_e_g_i_o_n_gaf89984d30239d6597190409068031465}{RegionRxConfig}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &\mbox{\hyperlink{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}{RxWindow1Config}}, ( int8\_t* )&
      \mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.\mbox{\hyperlink{structs_mcps_indication_a61e9e29ca015230436fe420bf88989e9}{RxDatarate}} );
1484     \mbox{\hyperlink{_lo_ra_mac_8c_a665f9a0f2130f97e3a3cc3ba8c14c208}{RxWindowSetup}}( \mbox{\hyperlink{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}{RxWindow1Config}}.\mbox{\hyperlink{structs_rx_config_params_ad155d9bae95f09d927ca588dc4f4734a}{RxContinuous}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_ace391217d534408b8f2af268a4ef0945}{MaxRxWindow}} );
1485 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 23
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 24
\mbox{\Hypertarget{_lo_ra_mac_8c_a280d52c79c5de2428ef3f1e361043b23}\label{_lo_ra_mac_8c_a280d52c79c5de2428ef3f1e361043b23}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!On\+Rx\+Window2\+Timer\+Event@{On\+Rx\+Window2\+Timer\+Event}}
\index{On\+Rx\+Window2\+Timer\+Event@{On\+Rx\+Window2\+Timer\+Event}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{On\+Rx\+Window2\+Timer\+Event()}{OnRxWindow2TimerEvent()}}
{\footnotesize\ttfamily static void On\+Rx\+Window2\+Timer\+Event (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Function executed on second Rx window timer event 



Lo\+Ra\+Mac.\+c 파일의 1487 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1488 \{
1489     \mbox{\hyperlink{time_server_8c_a8ae899c4e8a9abf49d825d6959aa6bcb}{TimerStop}}( &\mbox{\hyperlink{_lo_ra_mac_8c_ad7a9d17000e9b3575a2ec1ae5c45d145}{RxWindowTimer2}} );
1490 
1491     \mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{RxWindow2Config}}.\mbox{\hyperlink{structs_rx_config_params_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}} = \mbox{\hyperlink{_lo_ra_mac_8c_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}};
1492     \mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{RxWindow2Config}}.\mbox{\hyperlink{structs_rx_config_params_ade3d190636488dad9a89b19446b7acf1}{Frequency}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_aa0fbe93ff398020c65d2431af19368e8}{Rx2Channel}}.\mbox{\hyperlink{structs_rx2_channel_params_ade3d190636488dad9a89b19446b7acf1}{Frequency}};
1493     \mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{RxWindow2Config}}.\mbox{\hyperlink{structs_rx_config_params_a63074ce7d23ff98956f5d6f4054f235f}{DownlinkDwellTime}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a63074ce7d23ff98956f5d6f4054f235f}{DownlinkDwellTime}};
1494     \mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{RxWindow2Config}}.\mbox{\hyperlink{structs_rx_config_params_a037bdbc41e8b3deeaab3684cf4b23f66}{RepeaterSupport}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a037bdbc41e8b3deeaab3684cf4b23f66}{RepeaterSupport}};
1495     \mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{RxWindow2Config}}.\mbox{\hyperlink{structs_rx_config_params_a0a258bf8cfad5219bfd579257e523fc1}{RxSlot}} = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga933a5a2f7d57b1a5cb22f061e30558feace540b9f9215441fc67199b013a4fab9}{RX\_SLOT\_WIN\_2}};
1496 
1497     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}{LoRaMacDeviceClass}} != \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga133e92597739340bac439d1b0916dcb6abfee35359a39adbacbc3f13eddc76cd0}{CLASS\_C}} )
1498     \{
1499         \mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{RxWindow2Config}}.\mbox{\hyperlink{structs_rx_config_params_ad155d9bae95f09d927ca588dc4f4734a}{RxContinuous}} = \textcolor{keyword}{false};
1500     \}
1501     \textcolor{keywordflow}{else}
1502     \{
1503         \textcolor{comment}{// Setup continuous listening for class c}
1504         \mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{RxWindow2Config}}.\mbox{\hyperlink{structs_rx_config_params_ad155d9bae95f09d927ca588dc4f4734a}{RxContinuous}} = \textcolor{keyword}{true};
1505     \}
1506 
1507     \textcolor{keywordflow}{if}( \mbox{\hyperlink{group___r_e_g_i_o_n_gaf89984d30239d6597190409068031465}{RegionRxConfig}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &
      \mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{RxWindow2Config}}, ( int8\_t* )&\mbox{\hyperlink{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}{McpsIndication}}.
      \mbox{\hyperlink{structs_mcps_indication_a61e9e29ca015230436fe420bf88989e9}{RxDatarate}} ) == \textcolor{keyword}{true} )
1508     \{
1509         \mbox{\hyperlink{_lo_ra_mac_8c_a665f9a0f2130f97e3a3cc3ba8c14c208}{RxWindowSetup}}( \mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{RxWindow2Config}}.\mbox{\hyperlink{structs_rx_config_params_ad155d9bae95f09d927ca588dc4f4734a}{RxContinuous}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_ace391217d534408b8f2af268a4ef0945}{MaxRxWindow}} );
1510         \mbox{\hyperlink{_lo_ra_mac_8c_a0a258bf8cfad5219bfd579257e523fc1}{RxSlot}} = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga933a5a2f7d57b1a5cb22f061e30558feace540b9f9215441fc67199b013a4fab9}{RX\_SLOT\_WIN\_2}};
1511     \}
1512 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 25
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 26
\mbox{\Hypertarget{_lo_ra_mac_8c_aff2188867ec43982ec7701c4815bc0ba}\label{_lo_ra_mac_8c_aff2188867ec43982ec7701c4815bc0ba}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!On\+Tx\+Delayed\+Timer\+Event@{On\+Tx\+Delayed\+Timer\+Event}}
\index{On\+Tx\+Delayed\+Timer\+Event@{On\+Tx\+Delayed\+Timer\+Event}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{On\+Tx\+Delayed\+Timer\+Event()}{OnTxDelayedTimerEvent()}}
{\footnotesize\ttfamily static void On\+Tx\+Delayed\+Timer\+Event (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Function executed on duty cycle delayed Tx timer event 



Lo\+Ra\+Mac.\+c 파일의 1457 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1458 \{
1459     \mbox{\hyperlink{time_server_8c_a8ae899c4e8a9abf49d825d6959aa6bcb}{TimerStop}}( &\mbox{\hyperlink{_lo_ra_mac_8c_aa28e0f35d9a6698802f27ea76ad955ea}{TxDelayedTimer}} );
1460     \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} &= ~\mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490aea3d825c5789497c1dd7515b26a8e8f8}{LORAMAC\_TX\_DELAYED}};
1461 
1462     \textcolor{comment}{// Schedule frame, allow delayed frame transmissions}
1463     \mbox{\hyperlink{_lo_ra_mac_8c_afac9f47df560a2c63ebe868fcf531716}{ScheduleTx}}( \textcolor{keyword}{true} );
1464 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 27
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 28
\mbox{\Hypertarget{_lo_ra_mac_8c_aeadfc508b9129926685664bc456db4f6}\label{_lo_ra_mac_8c_aeadfc508b9129926685664bc456db4f6}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Open\+Continuous\+Rx2\+Window@{Open\+Continuous\+Rx2\+Window}}
\index{Open\+Continuous\+Rx2\+Window@{Open\+Continuous\+Rx2\+Window}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Open\+Continuous\+Rx2\+Window()}{OpenContinuousRx2Window()}}
{\footnotesize\ttfamily static void Open\+Continuous\+Rx2\+Window (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Opens up a continuous RX 2 window. This is used for class c devices. 



Lo\+Ra\+Mac.\+c 파일의 2153 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2154 \{
2155     \mbox{\hyperlink{_lo_ra_mac_8c_a280d52c79c5de2428ef3f1e361043b23}{OnRxWindow2TimerEvent}}( );
2156     \mbox{\hyperlink{_lo_ra_mac_8c_a0a258bf8cfad5219bfd579257e523fc1}{RxSlot}} = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga933a5a2f7d57b1a5cb22f061e30558fea8785f8319ec8d3476f892af54a9e28fc}{RX\_SLOT\_WIN\_CLASS\_C}};
2157 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 29
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 30
\mbox{\Hypertarget{_lo_ra_mac_8c_a728bf951414ad5fdec0889f761f05962}\label{_lo_ra_mac_8c_a728bf951414ad5fdec0889f761f05962}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Parse\+Mac\+Commands\+To\+Repeat@{Parse\+Mac\+Commands\+To\+Repeat}}
\index{Parse\+Mac\+Commands\+To\+Repeat@{Parse\+Mac\+Commands\+To\+Repeat}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Parse\+Mac\+Commands\+To\+Repeat()}{ParseMacCommandsToRepeat()}}
{\footnotesize\ttfamily static uint8\+\_\+t Parse\+Mac\+Commands\+To\+Repeat (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{cmd\+Buf\+In,  }\item[{uint8\+\_\+t}]{length,  }\item[{uint8\+\_\+t $\ast$}]{cmd\+Buf\+Out }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Parses the M\+AC commands which must be repeated. 

M\+AC layer internal function


\begin{DoxyParams}{매개변수}
{\em \mbox{[}\+I\+N\mbox{]}} & cmd\+Buf\+In Buffer which stores the M\+AC commands to send \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & length Length of the input buffer to parse \\
\hline
{\em \mbox{[}\+O\+U\+T\mbox{]}} & cmd\+Buf\+Out Buffer which stores the M\+AC commands which must be repeated.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{반환값}
{\em Size} & of the M\+AC commands to repeat. \\
\hline
\end{DoxyRetVals}


Lo\+Ra\+Mac.\+c 파일의 1728 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1729 \{
1730     uint8\_t i = 0;
1731     uint8\_t cmdCount = 0;
1732 
1733     \textcolor{keywordflow}{if}( ( cmdBufIn == NULL ) || ( cmdBufOut == NULL ) )
1734     \{
1735         \textcolor{keywordflow}{return} 0;
1736     \}
1737 
1738     \textcolor{keywordflow}{for}( i = 0; i < length; i++ )
1739     \{
1740         \textcolor{keywordflow}{switch}( cmdBufIn[i] )
1741         \{
1742             \textcolor{comment}{// STICKY}
1743             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a6dfc8ca9222ce73c834a0907992cce13}{MOTE\_MAC\_DL\_CHANNEL\_ANS}}:
1744             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a155ae506492f1ddb173b99b52da4092a}{MOTE\_MAC\_RX\_PARAM\_SETUP\_ANS}}:
1745             \{ \textcolor{comment}{// 1 byte payload}
1746                 cmdBufOut[cmdCount++] = cmdBufIn[i++];
1747                 cmdBufOut[cmdCount++] = cmdBufIn[i];
1748                 \textcolor{keywordflow}{break};
1749             \}
1750             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73abd4c19102721cfb18b76136732ac2de8}{MOTE\_MAC\_RX\_TIMING\_SETUP\_ANS}}:
1751             \{ \textcolor{comment}{// 0 byte payload}
1752                 cmdBufOut[cmdCount++] = cmdBufIn[i];
1753                 \textcolor{keywordflow}{break};
1754             \}
1755             \textcolor{comment}{// NON-STICKY}
1756             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73ae3d02a70f26e3f3daf8a84408e962425}{MOTE\_MAC\_DEV\_STATUS\_ANS}}:
1757             \{ \textcolor{comment}{// 2 bytes payload}
1758                 i += 2;
1759                 \textcolor{keywordflow}{break};
1760             \}
1761             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a7e789c1aa1dfcd3ca03935dd65cf572c}{MOTE\_MAC\_LINK\_ADR\_ANS}}:
1762             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a83cdaea222c3968f69fe1c23c29a4385}{MOTE\_MAC\_NEW\_CHANNEL\_ANS}}:
1763             \{ \textcolor{comment}{// 1 byte payload}
1764                 i++;
1765                 \textcolor{keywordflow}{break};
1766             \}
1767             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a462cebd0ba7165044eeabf44c00b1f4c}{MOTE\_MAC\_TX\_PARAM\_SETUP\_ANS}}:
1768             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a258e400aeae362afff0d14b7f6153bd4}{MOTE\_MAC\_DUTY\_CYCLE\_ANS}}:
1769             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a035270648ea6d6ff24b23a953d8f969b}{MOTE\_MAC\_LINK\_CHECK\_REQ}}:
1770             \{ \textcolor{comment}{// 0 byte payload}
1771                 \textcolor{keywordflow}{break};
1772             \}
1773             \textcolor{keywordflow}{default}:
1774                 \textcolor{keywordflow}{break};
1775         \}
1776     \}
1777 
1778     \textcolor{keywordflow}{return} cmdCount;
1779 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 31
\mbox{\Hypertarget{_lo_ra_mac_8c_a1c2e41a970de949b0b59a8177cb8ef29}\label{_lo_ra_mac_8c_a1c2e41a970de949b0b59a8177cb8ef29}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Prepare\+Frame@{Prepare\+Frame}}
\index{Prepare\+Frame@{Prepare\+Frame}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Prepare\+Frame()}{PrepareFrame()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} Prepare\+Frame (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group___l_o_r_a_m_a_c_gaff5f7004a7a48d53d858e26834b53efa}{Lo\+Ra\+Mac\+Header\+\_\+t}} $\ast$}]{mac\+Hdr,  }\item[{\mbox{\hyperlink{group___l_o_r_a_m_a_c_ga12b0f3e7e6edd26cfdb9d10a1d873ab7}{Lo\+Ra\+Mac\+Frame\+Ctrl\+\_\+t}} $\ast$}]{f\+Ctrl,  }\item[{uint8\+\_\+t}]{f\+Port,  }\item[{void $\ast$}]{f\+Buffer,  }\item[{uint16\+\_\+t}]{f\+Buffer\+Size }\end{DoxyParamCaption})}



Lo\+Ra\+M\+AC layer frame buffer initialization 


\begin{DoxyParams}{매개변수}
{\em \mbox{[}\+I\+N\mbox{]}} & mac\+Hdr M\+AC header field \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & f\+Ctrl M\+AC frame control field \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & f\+Opts M\+AC commands buffer \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & f\+Port M\+AC payload port \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & f\+Buffer M\+AC data buffer to be sent \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & f\+Buffer\+Size M\+AC data buffer size \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{반환값}
{\em status} & Status of the operation. \\
\hline
\end{DoxyRetVals}


Lo\+Ra\+Mac.\+c 파일의 2159 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2160 \{
2161     \mbox{\hyperlink{structs_adr_next_params}{AdrNextParams\_t}} adrNext;
2162     uint16\_t i;
2163     uint8\_t pktHeaderLen = 0;
2164     uint32\_t mic = 0;
2165     \textcolor{keyword}{const} \textcolor{keywordtype}{void}* payload = fBuffer;
2166     uint8\_t framePort = fPort;
2167 
2168     \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} = 0;
2169 
2170     \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} = \textcolor{keyword}{false};
2171 
2172     \textcolor{keywordflow}{if}( fBuffer == NULL )
2173     \{
2174         fBufferSize = 0;
2175     \}
2176 
2177     \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{LoRaMacTxPayloadLen}} = fBufferSize;
2178 
2179     \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[pktHeaderLen++] = macHdr->\mbox{\hyperlink{unionu_lo_ra_mac_header_a88f4d00bdab99ae6f48c7ae0bc468bb4}{Value}};
2180 
2181     \textcolor{keywordflow}{switch}( macHdr->\mbox{\hyperlink{unionu_lo_ra_mac_header_a2be537c628f62bdb049e4ecd5bec8e6a}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_header_1_1s_hdr_bits_a1b16521f6356e21b690406a9aa7ce147}{MType}} )
2182     \{
2183         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga5e02f214e1a4b8578c415045367c0a11ae01d60e50804065d3564dc1e12d80811}{FRAME\_TYPE\_JOIN\_REQ}}:
2184             \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} = pktHeaderLen;
2185 
2186             \mbox{\hyperlink{utilities_8c_a0cb4146b2cc797dcabcb7b0d50c64558}{memcpyr}}( \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}} + \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_ae312edd6844ed16fe6bc8b57349476e0}{LoRaMacAppEui}}, 8 );
2187             \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} += 8;
2188             \mbox{\hyperlink{utilities_8c_a0cb4146b2cc797dcabcb7b0d50c64558}{memcpyr}}( \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}} + \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a59f455ebe7f601e837265f8f2fc7927e}{LoRaMacDevEui}}, 8 );
2189             \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} += 8;
2190 
2191             \mbox{\hyperlink{_lo_ra_mac_8c_aed31163d2ca60ba37febab0f2f53eb16}{LoRaMacDevNonce}} = \mbox{\hyperlink{sx1276mb1las_8c_acf9fe61a72c16fa29a0dc449d23e3820}{Radio}}.\mbox{\hyperlink{struct_radio__s_a334bf05b91b26c5e6faf6bbf6737eab9}{Random}}( );
2192 
2193             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}}++] = 
      \mbox{\hyperlink{_lo_ra_mac_8c_aed31163d2ca60ba37febab0f2f53eb16}{LoRaMacDevNonce}} & 0xFF;
2194             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}}++] = ( 
      \mbox{\hyperlink{_lo_ra_mac_8c_aed31163d2ca60ba37febab0f2f53eb16}{LoRaMacDevNonce}} >> 8 ) & 0xFF;
2195 
2196             \mbox{\hyperlink{group___l_o_r_a_m_a_c___c_r_y_p_t_o_gac9216af326316c9e7f207d4e73aed199}{LoRaMacJoinComputeMic}}( \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} & 0xFF, \mbox{\hyperlink{_lo_ra_mac_8c_af8e40b7ed2e2a7d631a5849e7c08cbce}{LoRaMacAppKey}}, &mic );
2197 
2198             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}}++] = mic & 0xFF;
2199             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}}++] = ( mic >> 8 ) & 0xFF;
2200             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}}++] = ( mic >> 16 ) & 0xFF;
2201             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}}++] = ( mic >> 24 ) & 0xFF;
2202 
2203             \textcolor{keywordflow}{break};
2204         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga5e02f214e1a4b8578c415045367c0a11ac64f43487ee770c216c2ee1a829b75ca}{FRAME\_TYPE\_DATA\_CONFIRMED\_UP}}:
2205             \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} = \textcolor{keyword}{true};
2206             \textcolor{comment}{//Intentional fallthrough}
2207         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga5e02f214e1a4b8578c415045367c0a11a6701b29296dc0a006f52d51f510a138f}{FRAME\_TYPE\_DATA\_UNCONFIRMED\_UP}}:
2208             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a17b05239ef8b6078a499010ede20ec54}{IsLoRaMacNetworkJoined}} == \textcolor{keyword}{false} )
2209             \{
2210                 \textcolor{keywordflow}{return} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a105228330376111d46d99d57688a20ae}{LORAMAC\_STATUS\_NO\_NETWORK\_JOINED}}; \textcolor{comment}{// No network has
       been joined yet}
2211             \}
2212 
2213             \textcolor{comment}{// Adr next request}
2214             adrNext.\mbox{\hyperlink{structs_adr_next_params_a708080da9c63d868556b2c48cb53003b}{UpdateChanMask}} = \textcolor{keyword}{true};
2215             adrNext.\mbox{\hyperlink{structs_adr_next_params_ab3e2fb44577c95786e11aacd56769703}{AdrEnabled}} = fCtrl->\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_af5bcc6a131748c79430a7ce1198e0d7f}{Adr}};
2216             adrNext.\mbox{\hyperlink{structs_adr_next_params_a24f0356a3491bf07be9ac99ffa33896a}{AdrAckCounter}} = \mbox{\hyperlink{_lo_ra_mac_8c_a24f0356a3491bf07be9ac99ffa33896a}{AdrAckCounter}};
2217             adrNext.\mbox{\hyperlink{structs_adr_next_params_ae2f6080f3aa0e9485c55513ca56bb24d}{Datarate}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}};
2218             adrNext.\mbox{\hyperlink{structs_adr_next_params_a037b4f849fa8ed4aa1d3c58aef2b28ec}{TxPower}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_ad015aefb498e98276b4102f847b05d0e}{ChannelsTxPower}};
2219             adrNext.\mbox{\hyperlink{structs_adr_next_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}};
2220 
2221             fCtrl->\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_ae07af36cd9769b8a153f393715d7eaa7}{AdrAckReq}} = \mbox{\hyperlink{group___r_e_g_i_o_n_ga08cac64beeadd0555460ca5e756a0792}{RegionAdrNext}}( 
      \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &adrNext,
2222                                                    &\mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}}, &\mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_ad015aefb498e98276b4102f847b05d0e}{ChannelsTxPower}}, &
      \mbox{\hyperlink{_lo_ra_mac_8c_a24f0356a3491bf07be9ac99ffa33896a}{AdrAckCounter}} );
2223 
2224             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_ab2844ac436592f1158ef418473f0fe85}{SrvAckRequested}} == \textcolor{keyword}{true} )
2225             \{
2226                 \mbox{\hyperlink{_lo_ra_mac_8c_ab2844ac436592f1158ef418473f0fe85}{SrvAckRequested}} = \textcolor{keyword}{false};
2227                 fCtrl->\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_a7a652a0a459bea0bd46edc2b83c3eacc}{Ack}} = 1;
2228             \}
2229 
2230             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[pktHeaderLen++] = ( \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{LoRaMacDevAddr}} ) & 0xFF;
2231             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[pktHeaderLen++] = ( \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{LoRaMacDevAddr}} >> 8 ) & 0xFF;
2232             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[pktHeaderLen++] = ( \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{LoRaMacDevAddr}} >> 16 ) & 0xFF;
2233             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[pktHeaderLen++] = ( \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{LoRaMacDevAddr}} >> 24 ) & 0xFF;
2234 
2235             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[pktHeaderLen++] = fCtrl->\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_a88f4d00bdab99ae6f48c7ae0bc468bb4}{Value}};
2236 
2237             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[pktHeaderLen++] = \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}} & 0xFF;
2238             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[pktHeaderLen++] = ( \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}} >> 8 ) & 0xFF;
2239 
2240             \textcolor{comment}{// Copy the MAC commands which must be re-send into the MAC command buffer}
2241             \mbox{\hyperlink{utilities_8c_abfbe672c7136122f16c9214bc4ba8d21}{memcpy1}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[
      \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}], \mbox{\hyperlink{_lo_ra_mac_8c_abebef1d62dd02162c5f9dd50ba478682}{MacCommandsBufferToRepeat}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a44f97c375266b0b4b2e9d5f8fc01c43f}{MacCommandsBufferToRepeatIndex}} );
2242             \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} += 
      \mbox{\hyperlink{_lo_ra_mac_8c_a44f97c375266b0b4b2e9d5f8fc01c43f}{MacCommandsBufferToRepeatIndex}};
2243 
2244             \textcolor{keywordflow}{if}( ( payload != NULL ) && ( \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{LoRaMacTxPayloadLen}} > 0 ) )
2245             \{
2246                 \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a2231642d3200b2ff5f7dba09ab9a04cc}{MacCommandsInNextTx}} == \textcolor{keyword}{true} )
2247                 \{
2248                     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} <= 
      \mbox{\hyperlink{_lo_ra_mac_8c_ae2ccbfeefb0390b3cafca4da463d245c}{LORA\_MAC\_COMMAND\_MAX\_FOPTS\_LENGTH}} )
2249                     \{
2250                         fCtrl->\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_aca65acebde222837502f6cf8e2aeeac8}{FOptsLen}} += 
      \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}};
2251 
2252                         \textcolor{comment}{// Update FCtrl field with new value of OptionsLength}
2253                         \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[0x05] = fCtrl->\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_a88f4d00bdab99ae6f48c7ae0bc468bb4}{Value}};
2254                         \textcolor{keywordflow}{for}( i = 0; i < \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}; i++ )
2255                         \{
2256                             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[pktHeaderLen++] = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}[i];
2257                         \}
2258                     \}
2259                     \textcolor{keywordflow}{else}
2260                     \{
2261                         \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{LoRaMacTxPayloadLen}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}};
2262                         payload = \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}};
2263                         framePort = 0;
2264                     \}
2265                 \}
2266             \}
2267             \textcolor{keywordflow}{else}
2268             \{
2269                 \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} > 0 ) && ( 
      \mbox{\hyperlink{_lo_ra_mac_8c_a2231642d3200b2ff5f7dba09ab9a04cc}{MacCommandsInNextTx}} == \textcolor{keyword}{true} ) )
2270                 \{
2271                     \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{LoRaMacTxPayloadLen}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}};
2272                     payload = \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}};
2273                     framePort = 0;
2274                 \}
2275             \}
2276             \mbox{\hyperlink{_lo_ra_mac_8c_a2231642d3200b2ff5f7dba09ab9a04cc}{MacCommandsInNextTx}} = \textcolor{keyword}{false};
2277             \textcolor{comment}{// Store MAC commands which must be re-send in case the device does not receive a downlink
       anymore}
2278             \mbox{\hyperlink{_lo_ra_mac_8c_a44f97c375266b0b4b2e9d5f8fc01c43f}{MacCommandsBufferToRepeatIndex}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a728bf951414ad5fdec0889f761f05962}{ParseMacCommandsToRepeat}}( \mbox{\hyperlink{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}{MacCommandsBuffer}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}}, \mbox{\hyperlink{_lo_ra_mac_8c_abebef1d62dd02162c5f9dd50ba478682}{MacCommandsBufferToRepeat}} );
2279             \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a44f97c375266b0b4b2e9d5f8fc01c43f}{MacCommandsBufferToRepeatIndex}} > 0 )
2280             \{
2281                 \mbox{\hyperlink{_lo_ra_mac_8c_a2231642d3200b2ff5f7dba09ab9a04cc}{MacCommandsInNextTx}} = \textcolor{keyword}{true};
2282             \}
2283 
2284             \textcolor{keywordflow}{if}( ( payload != NULL ) && ( \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{LoRaMacTxPayloadLen}} > 0 ) )
2285             \{
2286                 \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[pktHeaderLen++] = framePort;
2287 
2288                 \textcolor{keywordflow}{if}( framePort == 0 )
2289                 \{
2290                     \textcolor{comment}{// Reset buffer index as the mac commands are being sent on port 0}
2291                     \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} = 0;
2292                     \mbox{\hyperlink{group___l_o_r_a_m_a_c___c_r_y_p_t_o_ga50339e60abea2186ca7e584b489718b1}{LoRaMacPayloadEncrypt}}( (uint8\_t* ) payload, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{LoRaMacTxPayloadLen}}, \mbox{\hyperlink{_lo_ra_mac_8c_a9816dc9026964ce255ef940f5db374e2}{LoRaMacNwkSKey}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{LoRaMacDevAddr}}, \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga7e75f3071d6911b19a563d554038f8da}{UP\_LINK}}, \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}}, &
      \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[pktHeaderLen] );
2293                 \}
2294                 \textcolor{keywordflow}{else}
2295                 \{
2296                     \mbox{\hyperlink{group___l_o_r_a_m_a_c___c_r_y_p_t_o_ga50339e60abea2186ca7e584b489718b1}{LoRaMacPayloadEncrypt}}( (uint8\_t* ) payload, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{LoRaMacTxPayloadLen}}, \mbox{\hyperlink{_lo_ra_mac_8c_ad5e7927ea18fa50f7e31b4b77a51b7ac}{LoRaMacAppSKey}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{LoRaMacDevAddr}}, \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga7e75f3071d6911b19a563d554038f8da}{UP\_LINK}}, \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}}, &
      \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[pktHeaderLen] );
2297                 \}
2298             \}
2299             \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} = pktHeaderLen + 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{LoRaMacTxPayloadLen}};
2300 
2301             \mbox{\hyperlink{group___l_o_r_a_m_a_c___c_r_y_p_t_o_ga6ee265070494b83255e7fdc4dff985da}{LoRaMacComputeMic}}( \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}}, \mbox{\hyperlink{_lo_ra_mac_8c_a9816dc9026964ce255ef940f5db374e2}{LoRaMacNwkSKey}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}{LoRaMacDevAddr}}, \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga7e75f3071d6911b19a563d554038f8da}{UP\_LINK}}, \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}}, &mic );
2302 
2303             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} + 0] = mic & 0xFF;
2304             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} + 1] = ( mic >> 8 ) & 0xFF;
2305             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} + 2] = ( mic >> 16 ) & 0xFF;
2306             \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}[\mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} + 3] = ( mic >> 24 ) & 0xFF;
2307 
2308             \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} += \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga1727f288e9a871f1474ce61f942a08f3}{LORAMAC\_MFR\_LEN}};
2309 
2310             \textcolor{keywordflow}{break};
2311         \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga5e02f214e1a4b8578c415045367c0a11a68dbf0499a1912728cc6a6d1ab328b37}{FRAME\_TYPE\_PROPRIETARY}}:
2312             \textcolor{keywordflow}{if}( ( fBuffer != NULL ) && ( \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{LoRaMacTxPayloadLen}} > 0 ) )
2313             \{
2314                 \mbox{\hyperlink{utilities_8c_abfbe672c7136122f16c9214bc4ba8d21}{memcpy1}}( \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}} + pktHeaderLen, ( uint8\_t* ) fBuffer, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{LoRaMacTxPayloadLen}} );
2315                 \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} = pktHeaderLen + 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{LoRaMacTxPayloadLen}};
2316             \}
2317             \textcolor{keywordflow}{break};
2318         \textcolor{keywordflow}{default}:
2319             \textcolor{keywordflow}{return} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661aff502a87db22d6a9a4919e4b54c7c1cf}{LORAMAC\_STATUS\_SERVICE\_UNKNOWN}};
2320     \}
2321 
2322     \textcolor{keywordflow}{return} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
2323 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 32
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 33
\mbox{\Hypertarget{_lo_ra_mac_8c_a420f8e89407bab48414b1058d8071c97}\label{_lo_ra_mac_8c_a420f8e89407bab48414b1058d8071c97}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Prepare\+Rx\+Done\+Abort@{Prepare\+Rx\+Done\+Abort}}
\index{Prepare\+Rx\+Done\+Abort@{Prepare\+Rx\+Done\+Abort}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Prepare\+Rx\+Done\+Abort()}{PrepareRxDoneAbort()}}
{\footnotesize\ttfamily static void Prepare\+Rx\+Done\+Abort (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



This function prepares the M\+AC to abort the execution of function On\+Radio\+Rx\+Done in case of a reception error. 



Lo\+Ra\+Mac.\+c 파일의 731 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
732 \{
733     \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} |= \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a7c7d70244f468d92565a9e078d0790bf}{LORAMAC\_RX\_ABORT}};
734 
735     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} )
736     \{
737         \mbox{\hyperlink{_lo_ra_mac_8c_a519a3e861bd16b2720a427308c6addc6}{OnAckTimeoutTimerEvent}}( );
738     \}
739 
740     \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a81d24e4d487adef6c6d4f4ca0963319e}{McpsInd}} = 1;
741     \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a8b4a19cca2ba529046ea88bb13305407}{MacDone}} = 1;
742 
743     \textcolor{comment}{// Trig OnMacCheckTimerEvent call as soon as possible}
744     \mbox{\hyperlink{time_server_8c_ad56c30124de6deefb3e32bbee2a4ba46}{TimerSetValue}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}}, 1 );
745     \mbox{\hyperlink{time_server_8c_acd2c1f05aa1976f3bbedd389c8710a78}{TimerStart}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}} );
746 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 34
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 35
\mbox{\Hypertarget{_lo_ra_mac_8c_afa7e82de5358cd2d2605c888cb1860a3}\label{_lo_ra_mac_8c_afa7e82de5358cd2d2605c888cb1860a3}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Process\+Mac\+Commands@{Process\+Mac\+Commands}}
\index{Process\+Mac\+Commands@{Process\+Mac\+Commands}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Process\+Mac\+Commands()}{ProcessMacCommands()}}
{\footnotesize\ttfamily static void Process\+Mac\+Commands (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{payload,  }\item[{uint8\+\_\+t}]{mac\+Index,  }\item[{uint8\+\_\+t}]{commands\+Size,  }\item[{uint8\+\_\+t}]{snr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Decodes M\+AC commands in the f\+Opts field and in the payload 



Lo\+Ra\+Mac.\+c 파일의 1781 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1782 \{
1783     uint8\_t status = 0;
1784 
1785     \textcolor{keywordflow}{while}( macIndex < commandsSize )
1786     \{
1787         \textcolor{comment}{// Decode Frame MAC commands}
1788         \textcolor{keywordflow}{switch}( payload[macIndex++] )
1789         \{
1790             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggac91cc4dc69ad7de2426360f9f1f2d079ac9df0550be22a470d4f68681ee97191c}{SRV\_MAC\_LINK\_CHECK\_ANS}}:
1791                 \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201aa5e3d1c382c8473a1095b56067aea3f4}{LORAMAC\_EVENT\_INFO\_STATUS\_OK}};
1792                 \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_a60502ba4c33cf0435f086a1a9f1b5116}{DemodMargin}} = payload[macIndex++];
1793                 \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ac2fbb4be8e3cc46943038a1796010d71}{NbGateways}} = payload[macIndex++];
1794                 \textcolor{keywordflow}{break};
1795             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggac91cc4dc69ad7de2426360f9f1f2d079af7fc388963e2bb713062bd51960ed4cc}{SRV\_MAC\_LINK\_ADR\_REQ}}:
1796                 \{
1797                     \mbox{\hyperlink{structs_link_adr_req_params}{LinkAdrReqParams\_t}} linkAdrReq;
1798                     int8\_t linkAdrDatarate = \mbox{\hyperlink{group___r_e_g_i_o_n_ga6c4ef966b4f3d5eb7597b087f2b97095}{DR\_0}};
1799                     int8\_t linkAdrTxPower = \mbox{\hyperlink{group___r_e_g_i_o_n_gab33618449f2a573142c463ab071ef8ed}{TX\_POWER\_0}};
1800                     uint8\_t linkAdrNbRep = 0;
1801                     uint8\_t linkAdrNbBytesParsed = 0;
1802 
1803                     \textcolor{comment}{// Fill parameter structure}
1804                     linkAdrReq.\mbox{\hyperlink{structs_link_adr_req_params_a3dfbfe76c8f3bd25765750487b815147}{Payload}} = &payload[macIndex - 1];
1805                     linkAdrReq.\mbox{\hyperlink{structs_link_adr_req_params_a65009968bd973163423516e80a11c82f}{PayloadSize}} = commandsSize - ( macIndex - 1 );
1806                     linkAdrReq.\mbox{\hyperlink{structs_link_adr_req_params_ab3e2fb44577c95786e11aacd56769703}{AdrEnabled}} = \mbox{\hyperlink{_lo_ra_mac_8c_aa617d5fb9230c5f87fff20a5466863b4}{AdrCtrlOn}};
1807                     linkAdrReq.\mbox{\hyperlink{structs_link_adr_req_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}};
1808                     linkAdrReq.\mbox{\hyperlink{structs_link_adr_req_params_a928ed703cdac38d74d55ef5e8a45c558}{CurrentDatarate}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}};
1809                     linkAdrReq.\mbox{\hyperlink{structs_link_adr_req_params_ac68ea6f7b6f8708b7a5a7fbf13ee3f97}{CurrentTxPower}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_ad015aefb498e98276b4102f847b05d0e}{ChannelsTxPower}};
1810                     linkAdrReq.\mbox{\hyperlink{structs_link_adr_req_params_a2f3b24e83cdd2600dc9e4374de09f62c}{CurrentNbRep}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a50c64c3d572cd688816904f8bf2252c7}{ChannelsNbRep}};
1811 
1812                     \textcolor{comment}{// Process the ADR requests}
1813                     status = \mbox{\hyperlink{group___r_e_g_i_o_n_gae82a94e6d4141122e1a20b5ba1936c8e}{RegionLinkAdrReq}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &linkAdrReq, &
      linkAdrDatarate,
1814                                                &linkAdrTxPower, &linkAdrNbRep, &linkAdrNbBytesParsed );
1815 
1816                     \textcolor{keywordflow}{if}( ( status & 0x07 ) == 0x07 )
1817                     \{
1818                         \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}} = linkAdrDatarate;
1819                         \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_ad015aefb498e98276b4102f847b05d0e}{ChannelsTxPower}} = linkAdrTxPower;
1820                         \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a50c64c3d572cd688816904f8bf2252c7}{ChannelsNbRep}} = linkAdrNbRep;
1821                     \}
1822 
1823                     \textcolor{comment}{// Add the answers to the buffer}
1824                     \textcolor{keywordflow}{for}( uint8\_t i = 0; i < ( linkAdrNbBytesParsed / 5 ); i++ )
1825                     \{
1826                         \mbox{\hyperlink{_lo_ra_mac_8c_ab27d901e29d6f16957f783c94781ef70}{AddMacCommand}}( \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a7e789c1aa1dfcd3ca03935dd65cf572c}{MOTE\_MAC\_LINK\_ADR\_ANS}}, status, 0 )
      ;
1827                     \}
1828                     \textcolor{comment}{// Update MAC index}
1829                     macIndex += linkAdrNbBytesParsed - 1;
1830                 \}
1831                 \textcolor{keywordflow}{break};
1832             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggac91cc4dc69ad7de2426360f9f1f2d079ae1175fb1d39611d84efb70f141064fbf}{SRV\_MAC\_DUTY\_CYCLE\_REQ}}:
1833                 \mbox{\hyperlink{_lo_ra_mac_8c_af9c30f05777197d7d35dbc91353c3202}{MaxDCycle}} = payload[macIndex++];
1834                 \mbox{\hyperlink{_lo_ra_mac_8c_afe9c54c21b80f4749d4532625ba3663a}{AggregatedDCycle}} = 1 << \mbox{\hyperlink{_lo_ra_mac_8c_af9c30f05777197d7d35dbc91353c3202}{MaxDCycle}};
1835                 \mbox{\hyperlink{_lo_ra_mac_8c_ab27d901e29d6f16957f783c94781ef70}{AddMacCommand}}( \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a258e400aeae362afff0d14b7f6153bd4}{MOTE\_MAC\_DUTY\_CYCLE\_ANS}}, 0, 0 );
1836                 \textcolor{keywordflow}{break};
1837             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggac91cc4dc69ad7de2426360f9f1f2d079a534efe0aaa23bc72032a0e8b0335832b}{SRV\_MAC\_RX\_PARAM\_SETUP\_REQ}}:
1838                 \{
1839                     \mbox{\hyperlink{structs_rx_param_setup_req_params}{RxParamSetupReqParams\_t}} rxParamSetupReq;
1840                     status = 0x07;
1841 
1842                     rxParamSetupReq.\mbox{\hyperlink{structs_rx_param_setup_req_params_ad920e18a48423b1eb1fe40d1b2b082d4}{DrOffset}} = ( payload[macIndex] >> 4 ) & 0x07;
1843                     rxParamSetupReq.\mbox{\hyperlink{structs_rx_param_setup_req_params_ae2f6080f3aa0e9485c55513ca56bb24d}{Datarate}} = payload[macIndex] & 0x0F;
1844                     macIndex++;
1845 
1846                     rxParamSetupReq.\mbox{\hyperlink{structs_rx_param_setup_req_params_ade3d190636488dad9a89b19446b7acf1}{Frequency}} =  ( uint32\_t )payload[macIndex++];
1847                     rxParamSetupReq.\mbox{\hyperlink{structs_rx_param_setup_req_params_ade3d190636488dad9a89b19446b7acf1}{Frequency}} |= ( uint32\_t )payload[macIndex++] << 8;
1848                     rxParamSetupReq.\mbox{\hyperlink{structs_rx_param_setup_req_params_ade3d190636488dad9a89b19446b7acf1}{Frequency}} |= ( uint32\_t )payload[macIndex++] << 16;
1849                     rxParamSetupReq.\mbox{\hyperlink{structs_rx_param_setup_req_params_ade3d190636488dad9a89b19446b7acf1}{Frequency}} *= 100;
1850 
1851                     \textcolor{comment}{// Perform request on region}
1852                     status = \mbox{\hyperlink{group___r_e_g_i_o_n_ga485a820155fded42235a0d14d5918a7d}{RegionRxParamSetupReq}}( 
      \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &rxParamSetupReq );
1853 
1854                     \textcolor{keywordflow}{if}( ( status & 0x07 ) == 0x07 )
1855                     \{
1856                         \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_aa0fbe93ff398020c65d2431af19368e8}{Rx2Channel}}.\mbox{\hyperlink{structs_rx2_channel_params_a780280c12645b2666878162aab5d8cad}{Datarate}} = rxParamSetupReq.
      \mbox{\hyperlink{structs_rx_param_setup_req_params_ae2f6080f3aa0e9485c55513ca56bb24d}{Datarate}};
1857                         \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_aa0fbe93ff398020c65d2431af19368e8}{Rx2Channel}}.
      \mbox{\hyperlink{structs_rx2_channel_params_ade3d190636488dad9a89b19446b7acf1}{Frequency}} = rxParamSetupReq.\mbox{\hyperlink{structs_rx_param_setup_req_params_ade3d190636488dad9a89b19446b7acf1}{Frequency}};
1858                         \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a7de51959047aa36190c0a59485397244}{Rx1DrOffset}} = rxParamSetupReq.
      \mbox{\hyperlink{structs_rx_param_setup_req_params_ad920e18a48423b1eb1fe40d1b2b082d4}{DrOffset}};
1859                     \}
1860                     \mbox{\hyperlink{_lo_ra_mac_8c_ab27d901e29d6f16957f783c94781ef70}{AddMacCommand}}( \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a155ae506492f1ddb173b99b52da4092a}{MOTE\_MAC\_RX\_PARAM\_SETUP\_ANS}}, 
      status, 0 );
1861                 \}
1862                 \textcolor{keywordflow}{break};
1863             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggac91cc4dc69ad7de2426360f9f1f2d079ac98ae516df5419b24285a74da2d58d7f}{SRV\_MAC\_DEV\_STATUS\_REQ}}:
1864                 \{
1865                     uint8\_t batteryLevel = \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggac7cbd1d9dc906cf2b33e3715cdd426c3a74b9377d8f67a38ad73ce627ba610b55}{BAT\_LEVEL\_NO\_MEASURE}};
1866                     \textcolor{keywordflow}{if}( ( \mbox{\hyperlink{_lo_ra_mac_8c_a186b26684514ac88ef7306c45f96dbe3}{LoRaMacCallbacks}} != NULL ) && ( 
      \mbox{\hyperlink{_lo_ra_mac_8c_a186b26684514ac88ef7306c45f96dbe3}{LoRaMacCallbacks}}->\mbox{\hyperlink{structs_lo_ra_mac_callback_ae0f26df23b50220cf30bc5a1db6bfefa}{GetBatteryLevel}} != NULL ) )
1867                     \{
1868                         batteryLevel = \mbox{\hyperlink{_lo_ra_mac_8c_a186b26684514ac88ef7306c45f96dbe3}{LoRaMacCallbacks}}->
      \mbox{\hyperlink{structs_lo_ra_mac_callback_ae0f26df23b50220cf30bc5a1db6bfefa}{GetBatteryLevel}}( );
1869                     \}
1870                     \mbox{\hyperlink{_lo_ra_mac_8c_ab27d901e29d6f16957f783c94781ef70}{AddMacCommand}}( \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73ae3d02a70f26e3f3daf8a84408e962425}{MOTE\_MAC\_DEV\_STATUS\_ANS}}, 
      batteryLevel, snr & 0x3F);
1871                     \textcolor{keywordflow}{break};
1872                 \}
1873             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggac91cc4dc69ad7de2426360f9f1f2d079a34e94bc23cacf1ab088ae1010e55efeb}{SRV\_MAC\_NEW\_CHANNEL\_REQ}}:
1874                 \{
1875                     \mbox{\hyperlink{structs_new_channel_req_params}{NewChannelReqParams\_t}} newChannelReq;
1876                     \mbox{\hyperlink{structs_channel_params}{ChannelParams\_t}} chParam;
1877                     status = 0x03;
1878 
1879                     newChannelReq.\mbox{\hyperlink{structs_new_channel_req_params_ab072d8ed1ab01d956d5b86a9d0185c3f}{ChannelId}} = payload[macIndex++];
1880                     newChannelReq.\mbox{\hyperlink{structs_new_channel_req_params_afc31493a105479490228fd896b20b45c}{NewChannel}} = &chParam;
1881 
1882                     chParam.\mbox{\hyperlink{structs_channel_params_ade3d190636488dad9a89b19446b7acf1}{Frequency}} = ( uint32\_t )payload[macIndex++];
1883                     chParam.\mbox{\hyperlink{structs_channel_params_ade3d190636488dad9a89b19446b7acf1}{Frequency}} |= ( uint32\_t )payload[macIndex++] << 8;
1884                     chParam.\mbox{\hyperlink{structs_channel_params_ade3d190636488dad9a89b19446b7acf1}{Frequency}} |= ( uint32\_t )payload[macIndex++] << 16;
1885                     chParam.\mbox{\hyperlink{structs_channel_params_ade3d190636488dad9a89b19446b7acf1}{Frequency}} *= 100;
1886                     chParam.\mbox{\hyperlink{structs_channel_params_a8a564b8635b12d5f0f348ae177dd92e1}{Rx1Frequency}} = 0;
1887                     chParam.\mbox{\hyperlink{structs_channel_params_ad4d9b041ea740886a05fa8a1d06997a2}{DrRange}}.\mbox{\hyperlink{unionu_dr_range_ae1e3e8696366e3256e397bbdc4e34775}{Value}} = payload[macIndex++];
1888 
1889                     status = \mbox{\hyperlink{group___r_e_g_i_o_n_gadca654538335b4395c8d54642b83e2d4}{RegionNewChannelReq}}( 
      \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &newChannelReq );
1890 
1891                     \mbox{\hyperlink{_lo_ra_mac_8c_ab27d901e29d6f16957f783c94781ef70}{AddMacCommand}}( \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a83cdaea222c3968f69fe1c23c29a4385}{MOTE\_MAC\_NEW\_CHANNEL\_ANS}}, status, 0
       );
1892                 \}
1893                 \textcolor{keywordflow}{break};
1894             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggac91cc4dc69ad7de2426360f9f1f2d079aa24b1505ef48247c1d2a3d486d603686}{SRV\_MAC\_RX\_TIMING\_SETUP\_REQ}}:
1895                 \{
1896                     uint8\_t delay = payload[macIndex++] & 0x0F;
1897 
1898                     \textcolor{keywordflow}{if}( delay == 0 )
1899                     \{
1900                         delay++;
1901                     \}
1902                     \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a426f0e1108ebe3ba1b05c2853c0b0c3a}{ReceiveDelay1}} = delay * 1000;
1903                     \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a67fbe3fba2eb31f8879ea22674dd50d8}{ReceiveDelay2}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a426f0e1108ebe3ba1b05c2853c0b0c3a}{ReceiveDelay1}} + 1000;
1904                     \mbox{\hyperlink{_lo_ra_mac_8c_ab27d901e29d6f16957f783c94781ef70}{AddMacCommand}}( \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73abd4c19102721cfb18b76136732ac2de8}{MOTE\_MAC\_RX\_TIMING\_SETUP\_ANS}}, 0
      , 0 );
1905                 \}
1906                 \textcolor{keywordflow}{break};
1907             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggac91cc4dc69ad7de2426360f9f1f2d079a6b15b371027770899224e613bbe162a8}{SRV\_MAC\_TX\_PARAM\_SETUP\_REQ}}:
1908                 \{
1909                     \mbox{\hyperlink{structs_tx_param_setup_req_params}{TxParamSetupReqParams\_t}} txParamSetupReq;
1910                     uint8\_t eirpDwellTime = payload[macIndex++];
1911 
1912                     txParamSetupReq.\mbox{\hyperlink{structs_tx_param_setup_req_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}} = 0;
1913                     txParamSetupReq.\mbox{\hyperlink{structs_tx_param_setup_req_params_a63074ce7d23ff98956f5d6f4054f235f}{DownlinkDwellTime}} = 0;
1914 
1915                     \textcolor{keywordflow}{if}( ( eirpDwellTime & 0x20 ) == 0x20 )
1916                     \{
1917                         txParamSetupReq.\mbox{\hyperlink{structs_tx_param_setup_req_params_a63074ce7d23ff98956f5d6f4054f235f}{DownlinkDwellTime}} = 1;
1918                     \}
1919                     \textcolor{keywordflow}{if}( ( eirpDwellTime & 0x10 ) == 0x10 )
1920                     \{
1921                         txParamSetupReq.\mbox{\hyperlink{structs_tx_param_setup_req_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}} = 1;
1922                     \}
1923                     txParamSetupReq.\mbox{\hyperlink{structs_tx_param_setup_req_params_a6ac3be51bb6670f1617b54ec4781ca0f}{MaxEirp}} = eirpDwellTime & 0x0F;
1924 
1925                     \textcolor{comment}{// Check the status for correctness}
1926                     \textcolor{keywordflow}{if}( \mbox{\hyperlink{group___r_e_g_i_o_n_ga50dbaca7bf982330c183614302d525c4}{RegionTxParamSetupReq}}( 
      \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &txParamSetupReq ) != -1 )
1927                     \{
1928                         \textcolor{comment}{// Accept command}
1929                         \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}} = txParamSetupReq.
      \mbox{\hyperlink{structs_tx_param_setup_req_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}};
1930                         \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a63074ce7d23ff98956f5d6f4054f235f}{DownlinkDwellTime}} = txParamSetupReq.
      \mbox{\hyperlink{structs_tx_param_setup_req_params_a63074ce7d23ff98956f5d6f4054f235f}{DownlinkDwellTime}};
1931                         \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_abacf3c28f803460c8947f0b0077fcf5c}{MaxEirp}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga981ec467711a94cacf1a8bc4b88735ba}{LoRaMacMaxEirpTable}}[txParamSetupReq.\mbox{\hyperlink{structs_tx_param_setup_req_params_a6ac3be51bb6670f1617b54ec4781ca0f}{MaxEirp}}];
1932                         \textcolor{comment}{// Add command response}
1933                         \mbox{\hyperlink{_lo_ra_mac_8c_ab27d901e29d6f16957f783c94781ef70}{AddMacCommand}}( \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a462cebd0ba7165044eeabf44c00b1f4c}{MOTE\_MAC\_TX\_PARAM\_SETUP\_ANS}},
       0, 0 );
1934                     \}
1935                 \}
1936                 \textcolor{keywordflow}{break};
1937             \textcolor{keywordflow}{case} \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggac91cc4dc69ad7de2426360f9f1f2d079ae3385a6aa575b3ac756c362dbbc8c39f}{SRV\_MAC\_DL\_CHANNEL\_REQ}}:
1938                 \{
1939                     \mbox{\hyperlink{structs_dl_channel_req_params}{DlChannelReqParams\_t}} dlChannelReq;
1940                     status = 0x03;
1941 
1942                     dlChannelReq.\mbox{\hyperlink{structs_dl_channel_req_params_ae23f953dc29c360e56a3c856404a3276}{ChannelId}} = payload[macIndex++];
1943                     dlChannelReq.\mbox{\hyperlink{structs_dl_channel_req_params_a8a564b8635b12d5f0f348ae177dd92e1}{Rx1Frequency}} = ( uint32\_t )payload[macIndex++];
1944                     dlChannelReq.\mbox{\hyperlink{structs_dl_channel_req_params_a8a564b8635b12d5f0f348ae177dd92e1}{Rx1Frequency}} |= ( uint32\_t )payload[macIndex++] << 8;
1945                     dlChannelReq.\mbox{\hyperlink{structs_dl_channel_req_params_a8a564b8635b12d5f0f348ae177dd92e1}{Rx1Frequency}} |= ( uint32\_t )payload[macIndex++] << 16;
1946                     dlChannelReq.\mbox{\hyperlink{structs_dl_channel_req_params_a8a564b8635b12d5f0f348ae177dd92e1}{Rx1Frequency}} *= 100;
1947 
1948                     status = \mbox{\hyperlink{group___r_e_g_i_o_n_ga54f7c22677b2d0628e9914f53501d4b8}{RegionDlChannelReq}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &
      dlChannelReq );
1949 
1950                     \mbox{\hyperlink{_lo_ra_mac_8c_ab27d901e29d6f16957f783c94781ef70}{AddMacCommand}}( \mbox{\hyperlink{group___l_o_r_a_m_a_c_ggaa56523d6cd76c438d6bc4263b5254d73a6dfc8ca9222ce73c834a0907992cce13}{MOTE\_MAC\_DL\_CHANNEL\_ANS}}, status, 0 )
      ;
1951                 \}
1952                 \textcolor{keywordflow}{break};
1953             \textcolor{keywordflow}{default}:
1954                 \textcolor{comment}{// Unknown command. ABORT MAC commands processing}
1955                 \textcolor{keywordflow}{return};
1956         \}
1957     \}
1958 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 36
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 37
\mbox{\Hypertarget{_lo_ra_mac_8c_a43cd9df3787bdfb6062206215745e473}\label{_lo_ra_mac_8c_a43cd9df3787bdfb6062206215745e473}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Reset\+Mac\+Parameters@{Reset\+Mac\+Parameters}}
\index{Reset\+Mac\+Parameters@{Reset\+Mac\+Parameters}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Reset\+Mac\+Parameters()}{ResetMacParameters()}}
{\footnotesize\ttfamily static void Reset\+Mac\+Parameters (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Resets M\+AC specific parameters to default 



Lo\+Ra\+Mac.\+c 파일의 2092 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2093 \{
2094     \mbox{\hyperlink{_lo_ra_mac_8c_a17b05239ef8b6078a499010ede20ec54}{IsLoRaMacNetworkJoined}} = \textcolor{keyword}{false};
2095 
2096     \textcolor{comment}{// Counters}
2097     \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}} = 0;
2098     \mbox{\hyperlink{_lo_ra_mac_8c_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} = 0;
2099     \mbox{\hyperlink{_lo_ra_mac_8c_a24f0356a3491bf07be9ac99ffa33896a}{AdrAckCounter}} = 0;
2100 
2101     \mbox{\hyperlink{_lo_ra_mac_8c_adac3fa8dc924333e009083733e3e089d}{ChannelsNbRepCounter}} = 0;
2102 
2103     \mbox{\hyperlink{_lo_ra_mac_8c_a3d8e8bba7cacae102725b355fb60e039}{AckTimeoutRetries}} = 1;
2104     \mbox{\hyperlink{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}{AckTimeoutRetriesCounter}} = 1;
2105     \mbox{\hyperlink{_lo_ra_mac_8c_a2d561614b5282ba8910b6b75a7f786f7}{AckTimeoutRetry}} = \textcolor{keyword}{false};
2106 
2107     \mbox{\hyperlink{_lo_ra_mac_8c_af9c30f05777197d7d35dbc91353c3202}{MaxDCycle}} = 0;
2108     \mbox{\hyperlink{_lo_ra_mac_8c_afe9c54c21b80f4749d4532625ba3663a}{AggregatedDCycle}} = 1;
2109 
2110     \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} = 0;
2111     \mbox{\hyperlink{_lo_ra_mac_8c_a44f97c375266b0b4b2e9d5f8fc01c43f}{MacCommandsBufferToRepeatIndex}} = 0;
2112 
2113     \mbox{\hyperlink{_lo_ra_mac_8c_a60695a58f371fb7e366c4059ecbf563a}{IsRxWindowsEnabled}} = \textcolor{keyword}{true};
2114 
2115     \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_ad015aefb498e98276b4102f847b05d0e}{ChannelsTxPower}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_ade912e866cc955f089bb441a0f7d50b6}{LoRaMacParamsDefaults}}.\mbox{\hyperlink{structs_lo_ra_mac_params_ad015aefb498e98276b4102f847b05d0e}{ChannelsTxPower}};
2116     \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_ade912e866cc955f089bb441a0f7d50b6}{LoRaMacParamsDefaults}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}};
2117     \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a7de51959047aa36190c0a59485397244}{Rx1DrOffset}} = \mbox{\hyperlink{_lo_ra_mac_8c_ade912e866cc955f089bb441a0f7d50b6}{LoRaMacParamsDefaults}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a7de51959047aa36190c0a59485397244}{Rx1DrOffset}};
2118     \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_aa0fbe93ff398020c65d2431af19368e8}{Rx2Channel}} = \mbox{\hyperlink{_lo_ra_mac_8c_ade912e866cc955f089bb441a0f7d50b6}{LoRaMacParamsDefaults}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_aa0fbe93ff398020c65d2431af19368e8}{Rx2Channel}};
2119     \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_ade912e866cc955f089bb441a0f7d50b6}{LoRaMacParamsDefaults}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}};
2120     \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a63074ce7d23ff98956f5d6f4054f235f}{DownlinkDwellTime}} = 
      \mbox{\hyperlink{_lo_ra_mac_8c_ade912e866cc955f089bb441a0f7d50b6}{LoRaMacParamsDefaults}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a63074ce7d23ff98956f5d6f4054f235f}{DownlinkDwellTime}};
2121     \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_abacf3c28f803460c8947f0b0077fcf5c}{MaxEirp}} = \mbox{\hyperlink{_lo_ra_mac_8c_ade912e866cc955f089bb441a0f7d50b6}{LoRaMacParamsDefaults}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_abacf3c28f803460c8947f0b0077fcf5c}{MaxEirp}};
2122     \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a727eaefd87f898a5238118573968962c}{AntennaGain}} = \mbox{\hyperlink{_lo_ra_mac_8c_ade912e866cc955f089bb441a0f7d50b6}{LoRaMacParamsDefaults}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a727eaefd87f898a5238118573968962c}{AntennaGain}};
2123 
2124     \textcolor{comment}{// Reset to application defaults}
2125     \mbox{\hyperlink{group___r_e_g_i_o_n_ga54b1b27a8431cd146b4dc33a894ee6db}{RegionInitDefaults}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, 
      \mbox{\hyperlink{group___r_e_g_i_o_n_gga11ecad794560a3d3961bdf1c9a27d3b2a3d260b94611dd833c5243c16ca26c3f0}{INIT\_TYPE\_APP\_DEFAULTS}} );
2126 
2127     \mbox{\hyperlink{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}{NodeAckRequested}} = \textcolor{keyword}{false};
2128     \mbox{\hyperlink{_lo_ra_mac_8c_ab2844ac436592f1158ef418473f0fe85}{SrvAckRequested}} = \textcolor{keyword}{false};
2129     \mbox{\hyperlink{_lo_ra_mac_8c_a2231642d3200b2ff5f7dba09ab9a04cc}{MacCommandsInNextTx}} = \textcolor{keyword}{false};
2130 
2131     \textcolor{comment}{// Reset Multicast downlink counters}
2132     \mbox{\hyperlink{structs_multicast_params}{MulticastParams\_t}} *cur = \mbox{\hyperlink{_lo_ra_mac_8c_aca81cdf8cb24b9a7e02f40d0b9565013}{MulticastChannels}};
2133     \textcolor{keywordflow}{while}( cur != NULL )
2134     \{
2135         cur->\mbox{\hyperlink{structs_multicast_params_a7a566925baf83b1b3da9209dfa4bb79a}{DownLinkCounter}} = 0;
2136         cur = cur->\mbox{\hyperlink{structs_multicast_params_ac9765374ff15c55462baa90d1331b3b4}{Next}};
2137     \}
2138 
2139     \textcolor{comment}{// Initialize channel index.}
2140     \mbox{\hyperlink{_lo_ra_mac_8c_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}} = 0;
2141     \mbox{\hyperlink{_lo_ra_mac_8c_af488d815cc2bb2d3074ee96c317e15f5}{LastTxChannel}} = \mbox{\hyperlink{_lo_ra_mac_8c_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}};
2142 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 38
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 39
\mbox{\Hypertarget{_lo_ra_mac_8c_a665f9a0f2130f97e3a3cc3ba8c14c208}\label{_lo_ra_mac_8c_a665f9a0f2130f97e3a3cc3ba8c14c208}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Rx\+Window\+Setup@{Rx\+Window\+Setup}}
\index{Rx\+Window\+Setup@{Rx\+Window\+Setup}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Rx\+Window\+Setup()}{RxWindowSetup()}}
{\footnotesize\ttfamily static void Rx\+Window\+Setup (\begin{DoxyParamCaption}\item[{bool}]{rx\+Continuous,  }\item[{uint32\+\_\+t}]{max\+Rx\+Window }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Initializes and opens the reception window 


\begin{DoxyParams}{매개변수}
{\em \mbox{[}\+I\+N\mbox{]}} & rx\+Continuous Set to true, if the RX is in continuous mode \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & max\+Rx\+Window Maximum RX window timeout \\
\hline
\end{DoxyParams}


Lo\+Ra\+Mac.\+c 파일의 1564 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1565 \{
1566     \textcolor{keywordflow}{if}( rxContinuous == \textcolor{keyword}{false} )
1567     \{
1568         \mbox{\hyperlink{sx1276mb1las_8c_acf9fe61a72c16fa29a0dc449d23e3820}{Radio}}.\mbox{\hyperlink{struct_radio__s_a28354465b3df8db25bd766e54c96d837}{Rx}}( maxRxWindow );
1569     \}
1570     \textcolor{keywordflow}{else}
1571     \{
1572         \mbox{\hyperlink{sx1276mb1las_8c_acf9fe61a72c16fa29a0dc449d23e3820}{Radio}}.\mbox{\hyperlink{struct_radio__s_a28354465b3df8db25bd766e54c96d837}{Rx}}( 0 ); \textcolor{comment}{// Continuous mode}
1573     \}
1574 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 40
\mbox{\Hypertarget{_lo_ra_mac_8c_afac9f47df560a2c63ebe868fcf531716}\label{_lo_ra_mac_8c_afac9f47df560a2c63ebe868fcf531716}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Schedule\+Tx@{Schedule\+Tx}}
\index{Schedule\+Tx@{Schedule\+Tx}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Schedule\+Tx()}{ScheduleTx()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} Schedule\+Tx (\begin{DoxyParamCaption}\item[{bool}]{allow\+Delayed\+Tx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Lo\+Ra\+Mac.\+c 파일의 1992 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1993 \{
1994     \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{LoRaMacStatus\_t}} status = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661ad0d3119f247d00e1787dda106fcb3017}{LORAMAC\_STATUS\_PARAMETER\_INVALID}}
      ;
1995     \mbox{\hyperlink{utilities_8h_a4215ca43d3e953099ea758ce428599d0}{TimerTime\_t}} dutyCycleTimeOff = 0;
1996     \mbox{\hyperlink{structs_next_chan_params}{NextChanParams\_t}} nextChan;
1997 
1998     \textcolor{comment}{// Check if the device is off}
1999     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_af9c30f05777197d7d35dbc91353c3202}{MaxDCycle}} == 255 )
2000     \{
2001         \textcolor{keywordflow}{return} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661aff1d3a91250809d1770a74776057b8ce}{LORAMAC\_STATUS\_DEVICE\_OFF}};
2002     \}
2003     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_af9c30f05777197d7d35dbc91353c3202}{MaxDCycle}} == 0 )
2004     \{
2005         \mbox{\hyperlink{_lo_ra_mac_8c_ae0a5d717a1921f9ee79175f30c1743e9}{AggregatedTimeOff}} = 0;
2006     \}
2007 
2008     \textcolor{comment}{// Update Backoff}
2009     \mbox{\hyperlink{_lo_ra_mac_8c_ab13ebc898e6d4ecbb3deb43bf12e22cf}{CalculateBackOff}}( \mbox{\hyperlink{_lo_ra_mac_8c_af488d815cc2bb2d3074ee96c317e15f5}{LastTxChannel}} );
2010 
2011     nextChan.\mbox{\hyperlink{structs_next_chan_params_a3609676d2d3b7c00e25615324b35cb26}{AggrTimeOff}} = \mbox{\hyperlink{_lo_ra_mac_8c_ae0a5d717a1921f9ee79175f30c1743e9}{AggregatedTimeOff}};
2012     nextChan.\mbox{\hyperlink{structs_next_chan_params_ae2f6080f3aa0e9485c55513ca56bb24d}{Datarate}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}};
2013     nextChan.\mbox{\hyperlink{structs_next_chan_params_a4d755868e0e80089462286c3ba6a6f18}{DutyCycleEnabled}} = \mbox{\hyperlink{_lo_ra_mac_8c_af662c54719ba22aa5580de1fc74de2dc}{DutyCycleOn}};
2014     nextChan.\mbox{\hyperlink{structs_next_chan_params_ac2f6caa0f3b02d2ac5056c3ee7c22652}{Joined}} = \mbox{\hyperlink{_lo_ra_mac_8c_a17b05239ef8b6078a499010ede20ec54}{IsLoRaMacNetworkJoined}};
2015     nextChan.\mbox{\hyperlink{structs_next_chan_params_a381b728f60b185ecf3313e974c18768b}{LastAggrTx}} = \mbox{\hyperlink{_lo_ra_mac_8c_a63fce22a5f0870ce0cb81b36f4a1316c}{AggregatedLastTxDoneTime}};
2016 
2017     \textcolor{comment}{// Select channel}
2018     status = \mbox{\hyperlink{group___r_e_g_i_o_n_ga627b895f8bdd552639820ddfcfaa698e}{RegionNextChannel}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &nextChan, &
      \mbox{\hyperlink{_lo_ra_mac_8c_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}}, &dutyCycleTimeOff, &\mbox{\hyperlink{_lo_ra_mac_8c_ae0a5d717a1921f9ee79175f30c1743e9}{AggregatedTimeOff}} );
2019 
2020     \textcolor{keywordflow}{if}( status != \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}} )
2021     \{
2022         \textcolor{keywordflow}{if}( ( status == \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a0c982ada0769ecee2e1041fb6945ddd4}{LORAMAC\_STATUS\_DUTYCYCLE\_RESTRICTED}} ) && 
2023             ( allowDelayedTx == \textcolor{keyword}{true} ) )
2024         \{
2025             \textcolor{comment}{// Allow delayed transmissions. We have to allow it in case}
2026             \textcolor{comment}{// the MAC must retransmit a frame with the frame repetitions}
2027             \textcolor{keywordflow}{if}( dutyCycleTimeOff != 0 )
2028             \{\textcolor{comment}{// Send later - prepare timer}
2029                 \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} |= \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490aea3d825c5789497c1dd7515b26a8e8f8}{LORAMAC\_TX\_DELAYED}};
2030                 \mbox{\hyperlink{time_server_8c_ad56c30124de6deefb3e32bbee2a4ba46}{TimerSetValue}}( &\mbox{\hyperlink{_lo_ra_mac_8c_aa28e0f35d9a6698802f27ea76ad955ea}{TxDelayedTimer}}, dutyCycleTimeOff );
2031                 \mbox{\hyperlink{time_server_8c_acd2c1f05aa1976f3bbedd389c8710a78}{TimerStart}}( &\mbox{\hyperlink{_lo_ra_mac_8c_aa28e0f35d9a6698802f27ea76ad955ea}{TxDelayedTimer}} );
2032             \}
2033             \textcolor{keywordflow}{return} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
2034         \}
2035         \textcolor{keywordflow}{else}
2036         \{\textcolor{comment}{// State where the MAC cannot send a frame}
2037             \textcolor{keywordflow}{return} status;
2038         \}
2039     \}
2040 
2041     \textcolor{comment}{// Compute Rx1 windows parameters}
2042     \mbox{\hyperlink{group___r_e_g_i_o_n_gabd3eb4e7db9b7987fabb9568f733a2b9}{RegionComputeRxWindowParameters}}( 
      \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}},
2043                                      \mbox{\hyperlink{group___r_e_g_i_o_n_gab62221e1ca566a89f4b450b30bfb95a7}{RegionApplyDrOffset}}( 
      \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a63074ce7d23ff98956f5d6f4054f235f}{DownlinkDwellTime}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}}, \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a7de51959047aa36190c0a59485397244}{Rx1DrOffset}} ),
2044                                      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_ab33f97482f9af163d593cf103a2ccf1c}{MinRxSymbols}},
2045                                      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a62adc341212fe903e9995966051c5fee}{SystemMaxRxError}},
2046                                      &\mbox{\hyperlink{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}{RxWindow1Config}} );
2047     \textcolor{comment}{// Compute Rx2 windows parameters}
2048     \mbox{\hyperlink{group___r_e_g_i_o_n_gabd3eb4e7db9b7987fabb9568f733a2b9}{RegionComputeRxWindowParameters}}( 
      \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}},
2049                                      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_aa0fbe93ff398020c65d2431af19368e8}{Rx2Channel}}.
      \mbox{\hyperlink{structs_rx2_channel_params_a780280c12645b2666878162aab5d8cad}{Datarate}},
2050                                      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_ab33f97482f9af163d593cf103a2ccf1c}{MinRxSymbols}},
2051                                      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a62adc341212fe903e9995966051c5fee}{SystemMaxRxError}},
2052                                      &\mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{RxWindow2Config}} );
2053 
2054     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a17b05239ef8b6078a499010ede20ec54}{IsLoRaMacNetworkJoined}} == \textcolor{keyword}{false} )
2055     \{
2056         \mbox{\hyperlink{_lo_ra_mac_8c_a90fcc76489ac561999ed35075ccbea8e}{RxWindow1Delay}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a59ed32d2c7ce6d0b2011da8b0109b391}{JoinAcceptDelay1}} + \mbox{\hyperlink{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}{RxWindow1Config}}.\mbox{\hyperlink{structs_rx_config_params_a9d092276960345e3b06ba105cf0c8b98}{WindowOffset}};
2057         \mbox{\hyperlink{_lo_ra_mac_8c_a52008ffee9185d56a2dc9dc3c390ed22}{RxWindow2Delay}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_ae4a12f9dc83c6cedcf8afc05fb9ea06f}{JoinAcceptDelay2}} + \mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{RxWindow2Config}}.\mbox{\hyperlink{structs_rx_config_params_a9d092276960345e3b06ba105cf0c8b98}{WindowOffset}};
2058     \}
2059     \textcolor{keywordflow}{else}
2060     \{
2061         \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_ab496fc8c52b4322c7735a8a38c815c89}{ValidatePayloadLength}}( \mbox{\hyperlink{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}{LoRaMacTxPayloadLen}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}}, 
      \mbox{\hyperlink{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}{MacCommandsBufferIndex}} ) == \textcolor{keyword}{false} )
2062         \{
2063             \textcolor{keywordflow}{return} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a4ab40311dcd2eeffc77f573a919b29b1}{LORAMAC\_STATUS\_LENGTH\_ERROR}};
2064         \}
2065         \mbox{\hyperlink{_lo_ra_mac_8c_a90fcc76489ac561999ed35075ccbea8e}{RxWindow1Delay}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a426f0e1108ebe3ba1b05c2853c0b0c3a}{ReceiveDelay1}} + 
      \mbox{\hyperlink{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}{RxWindow1Config}}.\mbox{\hyperlink{structs_rx_config_params_a9d092276960345e3b06ba105cf0c8b98}{WindowOffset}};
2066         \mbox{\hyperlink{_lo_ra_mac_8c_a52008ffee9185d56a2dc9dc3c390ed22}{RxWindow2Delay}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a67fbe3fba2eb31f8879ea22674dd50d8}{ReceiveDelay2}} + 
      \mbox{\hyperlink{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}{RxWindow2Config}}.\mbox{\hyperlink{structs_rx_config_params_a9d092276960345e3b06ba105cf0c8b98}{WindowOffset}};
2067     \}
2068 
2069     \textcolor{comment}{// Try to send now}
2070     \textcolor{keywordflow}{return} \mbox{\hyperlink{_lo_ra_mac_8c_a2a974677f0401e2575148082667331de}{SendFrameOnChannel}}( \mbox{\hyperlink{_lo_ra_mac_8c_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}} );
2071 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 41
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 42
\mbox{\Hypertarget{_lo_ra_mac_8c_a1d5d30b5cbe0349bab89375480c377bf}\label{_lo_ra_mac_8c_a1d5d30b5cbe0349bab89375480c377bf}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Send@{Send}}
\index{Send@{Send}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Send()}{Send()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} Send (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{group___l_o_r_a_m_a_c_gaff5f7004a7a48d53d858e26834b53efa}{Lo\+Ra\+Mac\+Header\+\_\+t}} $\ast$}]{mac\+Hdr,  }\item[{uint8\+\_\+t}]{f\+Port,  }\item[{void $\ast$}]{f\+Buffer,  }\item[{uint16\+\_\+t}]{f\+Buffer\+Size }\end{DoxyParamCaption})}



Lo\+Ra\+M\+AC layer generic send frame 


\begin{DoxyParams}{매개변수}
{\em \mbox{[}\+I\+N\mbox{]}} & mac\+Hdr M\+AC header field \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & f\+Port M\+AC payload port \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & f\+Buffer M\+AC data buffer to be sent \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & f\+Buffer\+Size M\+AC data buffer size \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{반환값}
{\em status} & Status of the operation. \\
\hline
\end{DoxyRetVals}


Lo\+Ra\+Mac.\+c 파일의 1960 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1961 \{
1962     \mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl}{LoRaMacFrameCtrl\_t}} fCtrl;
1963     \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{LoRaMacStatus\_t}} status = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661ad0d3119f247d00e1787dda106fcb3017}{LORAMAC\_STATUS\_PARAMETER\_INVALID}}
      ;
1964 
1965     fCtrl.\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_a88f4d00bdab99ae6f48c7ae0bc468bb4}{Value}} = 0;
1966     fCtrl.\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_aca65acebde222837502f6cf8e2aeeac8}{FOptsLen}}      = 0;
1967     fCtrl.\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_a2d5d8f602343aff45f870d4c38ffa0df}{FPending}}      = 0;
1968     fCtrl.\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_a7a652a0a459bea0bd46edc2b83c3eacc}{Ack}}           = \textcolor{keyword}{false};
1969     fCtrl.\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_ae07af36cd9769b8a153f393715d7eaa7}{AdrAckReq}}     = \textcolor{keyword}{false};
1970     fCtrl.\mbox{\hyperlink{unionu_lo_ra_mac_frame_ctrl_ade2054f4acef310e1e17b10aaca43a6f}{Bits}}.\mbox{\hyperlink{structu_lo_ra_mac_frame_ctrl_1_1s_ctrl_bits_af5bcc6a131748c79430a7ce1198e0d7f}{Adr}}           = \mbox{\hyperlink{_lo_ra_mac_8c_aa617d5fb9230c5f87fff20a5466863b4}{AdrCtrlOn}};
1971 
1972     \textcolor{comment}{// Prepare the frame}
1973     status = \mbox{\hyperlink{_lo_ra_mac_8c_a1c2e41a970de949b0b59a8177cb8ef29}{PrepareFrame}}( macHdr, &fCtrl, fPort, fBuffer, fBufferSize );
1974 
1975     \textcolor{comment}{// Validate status}
1976     \textcolor{keywordflow}{if}( status != \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}} )
1977     \{
1978         \textcolor{keywordflow}{return} status;
1979     \}
1980 
1981     \textcolor{comment}{// Reset confirm parameters}
1982     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_a87c781229ed6a79169564bbed6581f29}{NbRetries}} = 0;
1983     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ac59e1bd1c9450c7d136c7f475be89ded}{AckReceived}} = \textcolor{keyword}{false};
1984     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}} = \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}};
1985 
1986     \textcolor{comment}{// Schedule frame, do not allow delayed transmissions}
1987     status = \mbox{\hyperlink{_lo_ra_mac_8c_afac9f47df560a2c63ebe868fcf531716}{ScheduleTx}}( \textcolor{keyword}{false} );
1988 
1989     \textcolor{keywordflow}{return} status;
1990 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 43
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 44
\mbox{\Hypertarget{_lo_ra_mac_8c_a2a974677f0401e2575148082667331de}\label{_lo_ra_mac_8c_a2a974677f0401e2575148082667331de}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Send\+Frame\+On\+Channel@{Send\+Frame\+On\+Channel}}
\index{Send\+Frame\+On\+Channel@{Send\+Frame\+On\+Channel}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Send\+Frame\+On\+Channel()}{SendFrameOnChannel()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} Send\+Frame\+On\+Channel (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{channel }\end{DoxyParamCaption})}



Lo\+Ra\+M\+AC layer prepared frame buffer transmission with channel specification 

\begin{DoxyRemark}{Remarks}
Prepare\+Frame must be called at least once before calling this function.
\end{DoxyRemark}

\begin{DoxyParams}{매개변수}
{\em \mbox{[}\+I\+N\mbox{]}} & channel Channel to transmit on \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{반환값}
{\em status} & Status of the operation. \\
\hline
\end{DoxyRetVals}


Lo\+Ra\+Mac.\+c 파일의 2325 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2326 \{
2327     \mbox{\hyperlink{structs_tx_config_params}{TxConfigParams\_t}} txConfig;
2328     int8\_t txPower = 0;
2329 
2330     txConfig.\mbox{\hyperlink{structs_tx_config_params_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}} = channel;
2331     txConfig.\mbox{\hyperlink{structs_tx_config_params_ae2f6080f3aa0e9485c55513ca56bb24d}{Datarate}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}};
2332     txConfig.\mbox{\hyperlink{structs_tx_config_params_a037b4f849fa8ed4aa1d3c58aef2b28ec}{TxPower}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_ad015aefb498e98276b4102f847b05d0e}{ChannelsTxPower}};
2333     txConfig.\mbox{\hyperlink{structs_tx_config_params_abacf3c28f803460c8947f0b0077fcf5c}{MaxEirp}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_abacf3c28f803460c8947f0b0077fcf5c}{MaxEirp}};
2334     txConfig.\mbox{\hyperlink{structs_tx_config_params_a727eaefd87f898a5238118573968962c}{AntennaGain}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_a727eaefd87f898a5238118573968962c}{AntennaGain}};
2335     txConfig.\mbox{\hyperlink{structs_tx_config_params_aff9de7b29c2d9ebf3fa963f2ba09c121}{PktLen}} = \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}};
2336 
2337     \mbox{\hyperlink{debug_8h_abb51675b100c68d4729acede2f0cc7b6}{DBG\_PRINTF}}( \textcolor{stringliteral}{"\(\backslash\)n\(\backslash\)r*** seqTx= %d *****\(\backslash\)n\(\backslash\)r"}, \mbox{\hyperlink{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}{UpLinkCounter}} );
2338 
2339     \mbox{\hyperlink{group___r_e_g_i_o_n_ga9a4b01301e0f6f6880dc6a651c062ad0}{RegionTxConfig}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &txConfig, &txPower, &
      \mbox{\hyperlink{_lo_ra_mac_8c_aa17a8607485db100d315e74853dd217e}{TxTimeOnAir}} );
2340 
2341     \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a613ed77c0e8416a512224fffdbfdf6c1}{LORAMAC\_EVENT\_INFO\_STATUS\_ERROR}};
2342     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ab360e499d5a7a9e0aa7b4df7239633b5}{Status}} = \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga3c4e7a774e25faf1606f577ee5e7d201a613ed77c0e8416a512224fffdbfdf6c1}{LORAMAC\_EVENT\_INFO\_STATUS\_ERROR}};
2343     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_a780280c12645b2666878162aab5d8cad}{Datarate}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}};
2344     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_a037b4f849fa8ed4aa1d3c58aef2b28ec}{TxPower}} = txPower;
2345     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_ae82bf9242a014164f9f6907f29782c44}{Channel}} = channel;
2346 
2347     \textcolor{comment}{// Store the time on air}
2348     \mbox{\hyperlink{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}{McpsConfirm}}.\mbox{\hyperlink{structs_mcps_confirm_aa17a8607485db100d315e74853dd217e}{TxTimeOnAir}} = \mbox{\hyperlink{_lo_ra_mac_8c_aa17a8607485db100d315e74853dd217e}{TxTimeOnAir}};
2349     \mbox{\hyperlink{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}{MlmeConfirm}}.\mbox{\hyperlink{structs_mlme_confirm_aa17a8607485db100d315e74853dd217e}{TxTimeOnAir}} = \mbox{\hyperlink{_lo_ra_mac_8c_aa17a8607485db100d315e74853dd217e}{TxTimeOnAir}};
2350 
2351     \textcolor{comment}{// Starts the MAC layer status check timer}
2352     \mbox{\hyperlink{time_server_8c_ad56c30124de6deefb3e32bbee2a4ba46}{TimerSetValue}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}}, 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga3468d8935b09a7191e43fecdd9a15c67}{MAC\_STATE\_CHECK\_TIMEOUT}} );
2353     \mbox{\hyperlink{time_server_8c_acd2c1f05aa1976f3bbedd389c8710a78}{TimerStart}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}} );
2354 
2355     \textcolor{comment}{// Send now}
2356     \mbox{\hyperlink{sx1276mb1las_8c_acf9fe61a72c16fa29a0dc449d23e3820}{Radio}}.\mbox{\hyperlink{struct_radio__s_a84c3ad8e921fef613c838563197adc6c}{Send}}( \mbox{\hyperlink{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}{LoRaMacBuffer}}, \mbox{\hyperlink{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}{LoRaMacBufferPktLen}} );
2357 
2358     \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} |= \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}{LORAMAC\_TX\_RUNNING}};
2359 
2360     \textcolor{keywordflow}{return} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
2361 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 45
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 46
\mbox{\Hypertarget{_lo_ra_mac_8c_ab0c0f938f7421b03f6890047f20df489}\label{_lo_ra_mac_8c_ab0c0f938f7421b03f6890047f20df489}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Set\+Mlme\+Schedule\+Uplink\+Indication@{Set\+Mlme\+Schedule\+Uplink\+Indication}}
\index{Set\+Mlme\+Schedule\+Uplink\+Indication@{Set\+Mlme\+Schedule\+Uplink\+Indication}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Set\+Mlme\+Schedule\+Uplink\+Indication()}{SetMlmeScheduleUplinkIndication()}}
{\footnotesize\ttfamily static void Set\+Mlme\+Schedule\+Uplink\+Indication (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Configures the events to trigger an M\+L\+M\+E-\/\+Indication with a M\+L\+ME type of M\+L\+M\+E\+\_\+\+S\+C\+H\+E\+D\+U\+L\+E\+\_\+\+U\+P\+L\+I\+NK. 



Lo\+Ra\+Mac.\+c 파일의 1617 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1618 \{
1619     \mbox{\hyperlink{_lo_ra_mac_8c_a666e4b5667243c4dcf2ebb931246619d}{MlmeIndication}}.\mbox{\hyperlink{structs_mlme_indication_abf88ad0f120a91f75b72334fb2d2ea75}{MlmeIndication}} = 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga320f4c08fe99747b08463689be624f7bada36c2ddbd1f26a8ff146b348dd30e96}{MLME\_SCHEDULE\_UPLINK}};
1620     \mbox{\hyperlink{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}{LoRaMacFlags}}.\mbox{\hyperlink{unione_lo_ra_mac_flags__t_aaed1c36f988521e76eaa81554e1e8e96}{Bits}}.\mbox{\hyperlink{structe_lo_ra_mac_flags__t_1_1s_mac_flag_bits_a201c052466c33d1e875325f0d0025e90}{MlmeInd}} = 1;
1621 \}
\end{DoxyCode}
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 47
\mbox{\Hypertarget{_lo_ra_mac_8c_a6a476e328faedf4544aa63adf40f931e}\label{_lo_ra_mac_8c_a6a476e328faedf4544aa63adf40f931e}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Set\+Tx\+Continuous\+Wave@{Set\+Tx\+Continuous\+Wave}}
\index{Set\+Tx\+Continuous\+Wave@{Set\+Tx\+Continuous\+Wave}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Set\+Tx\+Continuous\+Wave()}{SetTxContinuousWave()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} Set\+Tx\+Continuous\+Wave (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{timeout }\end{DoxyParamCaption})}



Sets the radio in continuous transmission mode 

\begin{DoxyRemark}{Remarks}
Uses the radio parameters set on the previous transmission.
\end{DoxyRemark}

\begin{DoxyParams}{매개변수}
{\em \mbox{[}\+I\+N\mbox{]}} & timeout Time in seconds while the radio is kept in continuous wave mode \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{반환값}
{\em status} & Status of the operation. \\
\hline
\end{DoxyRetVals}


Lo\+Ra\+Mac.\+c 파일의 2363 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2364 \{
2365     \mbox{\hyperlink{structs_continuous_wave_params}{ContinuousWaveParams\_t}} continuousWave;
2366 
2367     continuousWave.\mbox{\hyperlink{structs_continuous_wave_params_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}} = \mbox{\hyperlink{_lo_ra_mac_8c_a1ca6f01ca18afe402de51babe8c95f5e}{Channel}};
2368     continuousWave.\mbox{\hyperlink{structs_continuous_wave_params_ae2f6080f3aa0e9485c55513ca56bb24d}{Datarate}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a6c741587260d08d1b883922ce9ca345e}{ChannelsDatarate}};
2369     continuousWave.\mbox{\hyperlink{structs_continuous_wave_params_a037b4f849fa8ed4aa1d3c58aef2b28ec}{TxPower}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_ad015aefb498e98276b4102f847b05d0e}{ChannelsTxPower}};
2370     continuousWave.\mbox{\hyperlink{structs_continuous_wave_params_abacf3c28f803460c8947f0b0077fcf5c}{MaxEirp}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.\mbox{\hyperlink{structs_lo_ra_mac_params_abacf3c28f803460c8947f0b0077fcf5c}{MaxEirp}};
2371     continuousWave.\mbox{\hyperlink{structs_continuous_wave_params_a727eaefd87f898a5238118573968962c}{AntennaGain}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a727eaefd87f898a5238118573968962c}{AntennaGain}};
2372     continuousWave.\mbox{\hyperlink{structs_continuous_wave_params_ae1c58f120c7eef7bb71a5e3bfeaeb795}{Timeout}} = timeout;
2373 
2374     \mbox{\hyperlink{group___r_e_g_i_o_n_ga22327f217ed10d84c89b6785143be5b8}{RegionSetContinuousWave}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &continuousWave );
2375 
2376     \textcolor{comment}{// Starts the MAC layer status check timer}
2377     \mbox{\hyperlink{time_server_8c_ad56c30124de6deefb3e32bbee2a4ba46}{TimerSetValue}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}}, 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga3468d8935b09a7191e43fecdd9a15c67}{MAC\_STATE\_CHECK\_TIMEOUT}} );
2378     \mbox{\hyperlink{time_server_8c_acd2c1f05aa1976f3bbedd389c8710a78}{TimerStart}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}} );
2379 
2380     \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} |= \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}{LORAMAC\_TX\_RUNNING}};
2381 
2382     \textcolor{keywordflow}{return} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
2383 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 48
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 49
\mbox{\Hypertarget{_lo_ra_mac_8c_a1974034d3a6ef2a0c38f4f853cfb62fb}\label{_lo_ra_mac_8c_a1974034d3a6ef2a0c38f4f853cfb62fb}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Set\+Tx\+Continuous\+Wave1@{Set\+Tx\+Continuous\+Wave1}}
\index{Set\+Tx\+Continuous\+Wave1@{Set\+Tx\+Continuous\+Wave1}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Set\+Tx\+Continuous\+Wave1()}{SetTxContinuousWave1()}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga30bd25657e10480f8605ee951b0ecfbd}{Lo\+Ra\+Mac\+Status\+\_\+t}} Set\+Tx\+Continuous\+Wave1 (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{timeout,  }\item[{uint32\+\_\+t}]{frequency,  }\item[{uint8\+\_\+t}]{power }\end{DoxyParamCaption})}



Sets the radio in continuous transmission mode 

\begin{DoxyRemark}{Remarks}
Uses the radio parameters set on the previous transmission.
\end{DoxyRemark}

\begin{DoxyParams}{매개변수}
{\em \mbox{[}\+I\+N\mbox{]}} & timeout Time in seconds while the radio is kept in continuous wave mode \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & frequency RF frequency to be set. \\
\hline
{\em \mbox{[}\+I\+N\mbox{]}} & power RF output power to be set. \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{반환값}
{\em status} & Status of the operation. \\
\hline
\end{DoxyRetVals}


Lo\+Ra\+Mac.\+c 파일의 2385 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
2386 \{
2387     \mbox{\hyperlink{sx1276mb1las_8c_acf9fe61a72c16fa29a0dc449d23e3820}{Radio}}.\mbox{\hyperlink{struct_radio__s_a33dccb0bc830d9a68ec0c2e75b74e541}{SetTxContinuousWave}}( frequency, power, timeout );
2388 
2389     \textcolor{comment}{// Starts the MAC layer status check timer}
2390     \mbox{\hyperlink{time_server_8c_ad56c30124de6deefb3e32bbee2a4ba46}{TimerSetValue}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}}, 
      \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga3468d8935b09a7191e43fecdd9a15c67}{MAC\_STATE\_CHECK\_TIMEOUT}} );
2391     \mbox{\hyperlink{time_server_8c_acd2c1f05aa1976f3bbedd389c8710a78}{TimerStart}}( &\mbox{\hyperlink{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}{MacStateCheckTimer}} );
2392 
2393     \mbox{\hyperlink{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}{LoRaMacState}} |= \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a5b4a3679d3966d49741f0aec6b15d731}{LORAMAC\_TX\_RUNNING}};
2394 
2395     \textcolor{keywordflow}{return} \mbox{\hyperlink{group___l_o_r_a_m_a_c_gga1d18f26b344040b3ec5c3db662919661a03db5fca052313edb3823c014b653a74}{LORAMAC\_STATUS\_OK}};
2396 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 50
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 51
\mbox{\Hypertarget{_lo_ra_mac_8c_ab496fc8c52b4322c7735a8a38c815c89}\label{_lo_ra_mac_8c_ab496fc8c52b4322c7735a8a38c815c89}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Validate\+Payload\+Length@{Validate\+Payload\+Length}}
\index{Validate\+Payload\+Length@{Validate\+Payload\+Length}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Validate\+Payload\+Length()}{ValidatePayloadLength()}}
{\footnotesize\ttfamily static bool Validate\+Payload\+Length (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{lenN,  }\item[{int8\+\_\+t}]{datarate,  }\item[{uint8\+\_\+t}]{f\+Opts\+Len }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Validates if the payload fits into the frame, taking the datarate into account. 

Refer to chapter 4.\+3.\+2 of the Lo\+Ra\+W\+AN specification, v1.\+0


\begin{DoxyParams}{매개변수}
{\em lenN} & Length of the application payload. The length depends on the datarate and is region specific\\
\hline
{\em datarate} & Current datarate\\
\hline
{\em f\+Opts\+Len} & Length of the f\+Opts field\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{반환값}
{\em \mbox{[}false} & payload does not fit into the frame, true\+: payload fits into the frame\mbox{]} \\
\hline
\end{DoxyRetVals}


Lo\+Ra\+Mac.\+c 파일의 1576 번째 라인에서 정의되었습니다.


\begin{DoxyCode}
1577 \{
1578     \mbox{\hyperlink{structs_get_phy_params}{GetPhyParams\_t}} getPhy;
1579     \mbox{\hyperlink{unionu_phy_param}{PhyParam\_t}} phyParam;
1580     uint16\_t maxN = 0;
1581     uint16\_t payloadSize = 0;
1582 
1583     \textcolor{comment}{// Setup PHY request}
1584     getPhy.\mbox{\hyperlink{structs_get_phy_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}} = \mbox{\hyperlink{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}{LoRaMacParams}}.
      \mbox{\hyperlink{structs_lo_ra_mac_params_a0e6663762d6f9173bc8d8cb018f8f17a}{UplinkDwellTime}};
1585     getPhy.\mbox{\hyperlink{structs_get_phy_params_ae2f6080f3aa0e9485c55513ca56bb24d}{Datarate}} = datarate;
1586     getPhy.\mbox{\hyperlink{structs_get_phy_params_abdcb168ffd6913b85e2f635d7a475f2d}{Attribute}} = \mbox{\hyperlink{group___r_e_g_i_o_n_gga51cbe8f5433d914fe9cf81b451de2c2dad671e2651e42de26927910282c6b2781}{PHY\_MAX\_PAYLOAD}};
1587 
1588     \textcolor{comment}{// Get the maximum payload length}
1589     \textcolor{keywordflow}{if}( \mbox{\hyperlink{_lo_ra_mac_8c_a037bdbc41e8b3deeaab3684cf4b23f66}{RepeaterSupport}} == \textcolor{keyword}{true} )
1590     \{
1591         getPhy.\mbox{\hyperlink{structs_get_phy_params_abdcb168ffd6913b85e2f635d7a475f2d}{Attribute}} = \mbox{\hyperlink{group___r_e_g_i_o_n_gga51cbe8f5433d914fe9cf81b451de2c2da8a3b9e5ad2604232fd1f8781658452f3}{PHY\_MAX\_PAYLOAD\_REPEATER}};
1592     \}
1593     phyParam = \mbox{\hyperlink{group___r_e_g_i_o_n_gafbd084611ba512035a6cbe7f3aa5857b}{RegionGetPhyParam}}( \mbox{\hyperlink{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}{LoRaMacRegion}}, &getPhy );
1594     maxN = phyParam.\mbox{\hyperlink{unionu_phy_param_a8e0dcce3428a8051614e852b8836d0d1}{Value}};
1595 
1596     \textcolor{comment}{// Calculate the resulting payload size}
1597     payloadSize = ( lenN + fOptsLen );
1598 
1599     \textcolor{comment}{// Validation of the application payload size}
1600     \textcolor{keywordflow}{if}( ( payloadSize <= maxN ) && ( payloadSize <= \mbox{\hyperlink{_lo_ra_mac_8c_a54769799fcc79d1d3fd1f19f123cc57b}{LORAMAC\_PHY\_MAXPAYLOAD}} ) )
1601     \{
1602         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
1603     \}
1604     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
1605 \}
\end{DoxyCode}
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 52
이 함수를 호출하는 함수들에 대한 그래프입니다.\+:
% FIG 53


\subsection{변수 문서화}
\mbox{\Hypertarget{_lo_ra_mac_8c_a3d8e8bba7cacae102725b355fb60e039}\label{_lo_ra_mac_8c_a3d8e8bba7cacae102725b355fb60e039}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Ack\+Timeout\+Retries@{Ack\+Timeout\+Retries}}
\index{Ack\+Timeout\+Retries@{Ack\+Timeout\+Retries}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Ack\+Timeout\+Retries}{AckTimeoutRetries}}
{\footnotesize\ttfamily uint8\+\_\+t Ack\+Timeout\+Retries = 1\hspace{0.3cm}{\ttfamily [static]}}

Number of trials to get a frame acknowledged 

Lo\+Ra\+Mac.\+c 파일의 372 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}\label{_lo_ra_mac_8c_a58204fb51185bac418e22cbc582c1bf6}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Ack\+Timeout\+Retries\+Counter@{Ack\+Timeout\+Retries\+Counter}}
\index{Ack\+Timeout\+Retries\+Counter@{Ack\+Timeout\+Retries\+Counter}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Ack\+Timeout\+Retries\+Counter}{AckTimeoutRetriesCounter}}
{\footnotesize\ttfamily uint8\+\_\+t Ack\+Timeout\+Retries\+Counter = 1\hspace{0.3cm}{\ttfamily [static]}}

Number of trials to get a frame acknowledged 

Lo\+Ra\+Mac.\+c 파일의 377 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a2d561614b5282ba8910b6b75a7f786f7}\label{_lo_ra_mac_8c_a2d561614b5282ba8910b6b75a7f786f7}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Ack\+Timeout\+Retry@{Ack\+Timeout\+Retry}}
\index{Ack\+Timeout\+Retry@{Ack\+Timeout\+Retry}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Ack\+Timeout\+Retry}{AckTimeoutRetry}}
{\footnotesize\ttfamily bool Ack\+Timeout\+Retry = false\hspace{0.3cm}{\ttfamily [static]}}

Indicates if the Ack\+Timeout timer has expired or not 

Lo\+Ra\+Mac.\+c 파일의 382 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_afab06ef771ba34680a8b1f36cd3e3d77}\label{_lo_ra_mac_8c_afab06ef771ba34680a8b1f36cd3e3d77}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Ack\+Timeout\+Timer@{Ack\+Timeout\+Timer}}
\index{Ack\+Timeout\+Timer@{Ack\+Timeout\+Timer}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Ack\+Timeout\+Timer}{AckTimeoutTimer}}
{\footnotesize\ttfamily \mbox{\hyperlink{time_server_8h_ae706369dabb8aa6c6075f25119b052a5}{Timer\+Event\+\_\+t}} Ack\+Timeout\+Timer\hspace{0.3cm}{\ttfamily [static]}}

Acknowledge timeout timer. Used for packet retransmissions. 

Lo\+Ra\+Mac.\+c 파일의 367 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a24f0356a3491bf07be9ac99ffa33896a}\label{_lo_ra_mac_8c_a24f0356a3491bf07be9ac99ffa33896a}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Adr\+Ack\+Counter@{Adr\+Ack\+Counter}}
\index{Adr\+Ack\+Counter@{Adr\+Ack\+Counter}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Adr\+Ack\+Counter}{AdrAckCounter}}
{\footnotesize\ttfamily uint32\+\_\+t Adr\+Ack\+Counter = 0\hspace{0.3cm}{\ttfamily [static]}}

Counts the number of missed A\+DR acknowledgements 

Lo\+Ra\+Mac.\+c 파일의 205 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_aa617d5fb9230c5f87fff20a5466863b4}\label{_lo_ra_mac_8c_aa617d5fb9230c5f87fff20a5466863b4}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Adr\+Ctrl\+On@{Adr\+Ctrl\+On}}
\index{Adr\+Ctrl\+On@{Adr\+Ctrl\+On}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Adr\+Ctrl\+On}{AdrCtrlOn}}
{\footnotesize\ttfamily bool Adr\+Ctrl\+On = false\hspace{0.3cm}{\ttfamily [static]}}

Lo\+Ra\+Mac A\+DR control status 

Lo\+Ra\+Mac.\+c 파일의 200 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_afe9c54c21b80f4749d4532625ba3663a}\label{_lo_ra_mac_8c_afe9c54c21b80f4749d4532625ba3663a}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Aggregated\+D\+Cycle@{Aggregated\+D\+Cycle}}
\index{Aggregated\+D\+Cycle@{Aggregated\+D\+Cycle}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Aggregated\+D\+Cycle}{AggregatedDCycle}}
{\footnotesize\ttfamily uint16\+\_\+t Aggregated\+D\+Cycle\hspace{0.3cm}{\ttfamily [static]}}

Aggregated duty cycle management 

Lo\+Ra\+Mac.\+c 파일의 268 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a63fce22a5f0870ce0cb81b36f4a1316c}\label{_lo_ra_mac_8c_a63fce22a5f0870ce0cb81b36f4a1316c}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Aggregated\+Last\+Tx\+Done\+Time@{Aggregated\+Last\+Tx\+Done\+Time}}
\index{Aggregated\+Last\+Tx\+Done\+Time@{Aggregated\+Last\+Tx\+Done\+Time}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Aggregated\+Last\+Tx\+Done\+Time}{AggregatedLastTxDoneTime}}
{\footnotesize\ttfamily \mbox{\hyperlink{utilities_8h_a4215ca43d3e953099ea758ce428599d0}{Timer\+Time\+\_\+t}} Aggregated\+Last\+Tx\+Done\+Time\hspace{0.3cm}{\ttfamily [static]}}



Lo\+Ra\+Mac.\+c 파일의 269 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ae0a5d717a1921f9ee79175f30c1743e9}\label{_lo_ra_mac_8c_ae0a5d717a1921f9ee79175f30c1743e9}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Aggregated\+Time\+Off@{Aggregated\+Time\+Off}}
\index{Aggregated\+Time\+Off@{Aggregated\+Time\+Off}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Aggregated\+Time\+Off}{AggregatedTimeOff}}
{\footnotesize\ttfamily \mbox{\hyperlink{utilities_8h_a4215ca43d3e953099ea758ce428599d0}{Timer\+Time\+\_\+t}} Aggregated\+Time\+Off\hspace{0.3cm}{\ttfamily [static]}}



Lo\+Ra\+Mac.\+c 파일의 270 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a1ca6f01ca18afe402de51babe8c95f5e}\label{_lo_ra_mac_8c_a1ca6f01ca18afe402de51babe8c95f5e}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Channel@{Channel}}
\index{Channel@{Channel}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Channel}{Channel}}
{\footnotesize\ttfamily uint8\+\_\+t Channel\hspace{0.3cm}{\ttfamily [static]}}

Current channel index 

Lo\+Ra\+Mac.\+c 파일의 280 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_adac3fa8dc924333e009083733e3e089d}\label{_lo_ra_mac_8c_adac3fa8dc924333e009083733e3e089d}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Channels\+Nb\+Rep\+Counter@{Channels\+Nb\+Rep\+Counter}}
\index{Channels\+Nb\+Rep\+Counter@{Channels\+Nb\+Rep\+Counter}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Channels\+Nb\+Rep\+Counter}{ChannelsNbRepCounter}}
{\footnotesize\ttfamily uint8\+\_\+t Channels\+Nb\+Rep\+Counter = 0\hspace{0.3cm}{\ttfamily [static]}}

Uplink messages repetitions counter 

Lo\+Ra\+Mac.\+c 파일의 257 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a7a566925baf83b1b3da9209dfa4bb79a}\label{_lo_ra_mac_8c_a7a566925baf83b1b3da9209dfa4bb79a}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Down\+Link\+Counter@{Down\+Link\+Counter}}
\index{Down\+Link\+Counter@{Down\+Link\+Counter}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Down\+Link\+Counter}{DownLinkCounter}}
{\footnotesize\ttfamily uint32\+\_\+t Down\+Link\+Counter = 0\hspace{0.3cm}{\ttfamily [static]}}

Lo\+Ra\+M\+AC frame counter. Each time a packet is received the counter is incremented. Only the 16 L\+SB bits are received 

Lo\+Ra\+Mac.\+c 파일의 179 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_af662c54719ba22aa5580de1fc74de2dc}\label{_lo_ra_mac_8c_af662c54719ba22aa5580de1fc74de2dc}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Duty\+Cycle\+On@{Duty\+Cycle\+On}}
\index{Duty\+Cycle\+On@{Duty\+Cycle\+On}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Duty\+Cycle\+On}{DutyCycleOn}}
{\footnotesize\ttfamily bool Duty\+Cycle\+On\hspace{0.3cm}{\ttfamily [static]}}

Enables/\+Disables duty cycle management (Test only) 

Lo\+Ra\+Mac.\+c 파일의 275 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a17b05239ef8b6078a499010ede20ec54}\label{_lo_ra_mac_8c_a17b05239ef8b6078a499010ede20ec54}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Is\+Lo\+Ra\+Mac\+Network\+Joined@{Is\+Lo\+Ra\+Mac\+Network\+Joined}}
\index{Is\+Lo\+Ra\+Mac\+Network\+Joined@{Is\+Lo\+Ra\+Mac\+Network\+Joined}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Is\+Lo\+Ra\+Mac\+Network\+Joined}{IsLoRaMacNetworkJoined}}
{\footnotesize\ttfamily bool Is\+Lo\+Ra\+Mac\+Network\+Joined = false\hspace{0.3cm}{\ttfamily [static]}}

Indicates if the M\+AC layer has already joined a network. 

Lo\+Ra\+Mac.\+c 파일의 195 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a60695a58f371fb7e366c4059ecbf563a}\label{_lo_ra_mac_8c_a60695a58f371fb7e366c4059ecbf563a}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Is\+Rx\+Windows\+Enabled@{Is\+Rx\+Windows\+Enabled}}
\index{Is\+Rx\+Windows\+Enabled@{Is\+Rx\+Windows\+Enabled}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Is\+Rx\+Windows\+Enabled}{IsRxWindowsEnabled}}
{\footnotesize\ttfamily bool Is\+Rx\+Windows\+Enabled = true\hspace{0.3cm}{\ttfamily [static]}}

Used for test purposes. Disables the opening of the reception windows. 

Lo\+Ra\+Mac.\+c 파일의 190 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a65360317f68eee4d85b01ed379037fc9}\label{_lo_ra_mac_8c_a65360317f68eee4d85b01ed379037fc9}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Is\+Up\+Link\+Counter\+Fixed@{Is\+Up\+Link\+Counter\+Fixed}}
\index{Is\+Up\+Link\+Counter\+Fixed@{Is\+Up\+Link\+Counter\+Fixed}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Is\+Up\+Link\+Counter\+Fixed}{IsUpLinkCounterFixed}}
{\footnotesize\ttfamily bool Is\+Up\+Link\+Counter\+Fixed = false\hspace{0.3cm}{\ttfamily [static]}}

Is\+Packet\+Counter\+Fixed enables the M\+IC field tests by fixing the Up\+Link\+Counter value 

Lo\+Ra\+Mac.\+c 파일의 185 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_af488d815cc2bb2d3074ee96c317e15f5}\label{_lo_ra_mac_8c_af488d815cc2bb2d3074ee96c317e15f5}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Last\+Tx\+Channel@{Last\+Tx\+Channel}}
\index{Last\+Tx\+Channel@{Last\+Tx\+Channel}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Last\+Tx\+Channel}{LastTxChannel}}
{\footnotesize\ttfamily uint8\+\_\+t Last\+Tx\+Channel\hspace{0.3cm}{\ttfamily [static]}}

Current channel index 

Lo\+Ra\+Mac.\+c 파일의 285 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a4088d0ca2ff21fd5cdc110e14816dd53}\label{_lo_ra_mac_8c_a4088d0ca2ff21fd5cdc110e14816dd53}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Last\+Tx\+Is\+Join\+Request@{Last\+Tx\+Is\+Join\+Request}}
\index{Last\+Tx\+Is\+Join\+Request@{Last\+Tx\+Is\+Join\+Request}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Last\+Tx\+Is\+Join\+Request}{LastTxIsJoinRequest}}
{\footnotesize\ttfamily bool Last\+Tx\+Is\+Join\+Request\hspace{0.3cm}{\ttfamily [static]}}

Set to true, if the last uplink was a join request 

Lo\+Ra\+Mac.\+c 파일의 290 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ae312edd6844ed16fe6bc8b57349476e0}\label{_lo_ra_mac_8c_ae312edd6844ed16fe6bc8b57349476e0}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+App\+Eui@{Lo\+Ra\+Mac\+App\+Eui}}
\index{Lo\+Ra\+Mac\+App\+Eui@{Lo\+Ra\+Mac\+App\+Eui}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+App\+Eui}{LoRaMacAppEui}}
{\footnotesize\ttfamily uint8\+\_\+t$\ast$ Lo\+Ra\+Mac\+App\+Eui\hspace{0.3cm}{\ttfamily [static]}}

Application I\+E\+EE E\+UI 

Lo\+Ra\+Mac.\+c 파일의 88 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_af8e40b7ed2e2a7d631a5849e7c08cbce}\label{_lo_ra_mac_8c_af8e40b7ed2e2a7d631a5849e7c08cbce}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+App\+Key@{Lo\+Ra\+Mac\+App\+Key}}
\index{Lo\+Ra\+Mac\+App\+Key@{Lo\+Ra\+Mac\+App\+Key}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+App\+Key}{LoRaMacAppKey}}
{\footnotesize\ttfamily uint8\+\_\+t$\ast$ Lo\+Ra\+Mac\+App\+Key\hspace{0.3cm}{\ttfamily [static]}}

A\+ES encryption/decryption cipher application key 

Lo\+Ra\+Mac.\+c 파일의 93 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ad5e7927ea18fa50f7e31b4b77a51b7ac}\label{_lo_ra_mac_8c_ad5e7927ea18fa50f7e31b4b77a51b7ac}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+App\+S\+Key@{Lo\+Ra\+Mac\+App\+S\+Key}}
\index{Lo\+Ra\+Mac\+App\+S\+Key@{Lo\+Ra\+Mac\+App\+S\+Key}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+App\+S\+Key}{LoRaMacAppSKey}}
{\footnotesize\ttfamily uint8\+\_\+t Lo\+Ra\+Mac\+App\+S\+Key\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries 초기값\+:}
\begin{DoxyCode}
=
\{
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
\}
\end{DoxyCode}
A\+ES encryption/decryption cipher application session key 

Lo\+Ra\+Mac.\+c 파일의 107 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}\label{_lo_ra_mac_8c_a981319ade79b7eda094a2cd1033199d5}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Buffer@{Lo\+Ra\+Mac\+Buffer}}
\index{Lo\+Ra\+Mac\+Buffer@{Lo\+Ra\+Mac\+Buffer}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Buffer}{LoRaMacBuffer}}
{\footnotesize\ttfamily uint8\+\_\+t Lo\+Ra\+Mac\+Buffer\mbox{[}\mbox{\hyperlink{_lo_ra_mac_8c_a54769799fcc79d1d3fd1f19f123cc57b}{L\+O\+R\+A\+M\+A\+C\+\_\+\+P\+H\+Y\+\_\+\+M\+A\+X\+P\+A\+Y\+L\+O\+AD}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

Buffer containing the data to be sent or received. 

Lo\+Ra\+Mac.\+c 파일의 152 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}\label{_lo_ra_mac_8c_a3462c8556bb6271168de5fbe6ffbd066}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Buffer\+Pkt\+Len@{Lo\+Ra\+Mac\+Buffer\+Pkt\+Len}}
\index{Lo\+Ra\+Mac\+Buffer\+Pkt\+Len@{Lo\+Ra\+Mac\+Buffer\+Pkt\+Len}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Buffer\+Pkt\+Len}{LoRaMacBufferPktLen}}
{\footnotesize\ttfamily uint16\+\_\+t Lo\+Ra\+Mac\+Buffer\+Pkt\+Len = 0\hspace{0.3cm}{\ttfamily [static]}}

Length of packet in Lo\+Ra\+Mac\+Buffer 

Lo\+Ra\+Mac.\+c 파일의 157 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a186b26684514ac88ef7306c45f96dbe3}\label{_lo_ra_mac_8c_a186b26684514ac88ef7306c45f96dbe3}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Callbacks@{Lo\+Ra\+Mac\+Callbacks}}
\index{Lo\+Ra\+Mac\+Callbacks@{Lo\+Ra\+Mac\+Callbacks}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Callbacks}{LoRaMacCallbacks}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga2899a8ebbefe08452ddf89e14159a160}{Lo\+Ra\+Mac\+Callback\+\_\+t}}$\ast$ Lo\+Ra\+Mac\+Callbacks\hspace{0.3cm}{\ttfamily [static]}}

Lo\+Ra\+Mac upper layer callback functions 

Lo\+Ra\+Mac.\+c 파일의 332 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}\label{_lo_ra_mac_8c_ae4f54ed8a6d908c6604d65fc38cbb85e}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Dev\+Addr@{Lo\+Ra\+Mac\+Dev\+Addr}}
\index{Lo\+Ra\+Mac\+Dev\+Addr@{Lo\+Ra\+Mac\+Dev\+Addr}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Dev\+Addr}{LoRaMacDevAddr}}
{\footnotesize\ttfamily uint32\+\_\+t Lo\+Ra\+Mac\+Dev\+Addr\hspace{0.3cm}{\ttfamily [static]}}

Mote Address 

Lo\+Ra\+Mac.\+c 파일의 127 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a59f455ebe7f601e837265f8f2fc7927e}\label{_lo_ra_mac_8c_a59f455ebe7f601e837265f8f2fc7927e}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Dev\+Eui@{Lo\+Ra\+Mac\+Dev\+Eui}}
\index{Lo\+Ra\+Mac\+Dev\+Eui@{Lo\+Ra\+Mac\+Dev\+Eui}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Dev\+Eui}{LoRaMacDevEui}}
{\footnotesize\ttfamily uint8\+\_\+t$\ast$ Lo\+Ra\+Mac\+Dev\+Eui\hspace{0.3cm}{\ttfamily [static]}}

Device I\+E\+EE E\+UI 

Lo\+Ra\+Mac.\+c 파일의 83 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}\label{_lo_ra_mac_8c_a8c598791e366e3d4eacea1b945391f83}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Device\+Class@{Lo\+Ra\+Mac\+Device\+Class}}
\index{Lo\+Ra\+Mac\+Device\+Class@{Lo\+Ra\+Mac\+Device\+Class}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Device\+Class}{LoRaMacDeviceClass}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga29dc2e097802faaf8fbd0e18ff99695f}{Device\+Class\+\_\+t}} Lo\+Ra\+Mac\+Device\+Class\hspace{0.3cm}{\ttfamily [static]}}

Actual device class 

Lo\+Ra\+Mac.\+c 파일의 137 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_aed31163d2ca60ba37febab0f2f53eb16}\label{_lo_ra_mac_8c_aed31163d2ca60ba37febab0f2f53eb16}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Dev\+Nonce@{Lo\+Ra\+Mac\+Dev\+Nonce}}
\index{Lo\+Ra\+Mac\+Dev\+Nonce@{Lo\+Ra\+Mac\+Dev\+Nonce}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Dev\+Nonce}{LoRaMacDevNonce}}
{\footnotesize\ttfamily uint16\+\_\+t Lo\+Ra\+Mac\+Dev\+Nonce\hspace{0.3cm}{\ttfamily [static]}}

Device nonce is a random value extracted by issuing a sequence of R\+S\+SI measurements 

Lo\+Ra\+Mac.\+c 파일의 117 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}\label{_lo_ra_mac_8c_ae3a39c60e22c9458dd8536a1b2b773e3}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Flags@{Lo\+Ra\+Mac\+Flags}}
\index{Lo\+Ra\+Mac\+Flags@{Lo\+Ra\+Mac\+Flags}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Flags}{LoRaMacFlags}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga4044e22ced14e9517d7a21663c577c30}{Lo\+Ra\+Mac\+Flags\+\_\+t}} Lo\+Ra\+Mac\+Flags}

Lo\+Ra\+Mac tx/rx operation state 

Lo\+Ra\+Mac.\+c 파일의 417 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a9f1317151d5bee85c310b5aa2d38725a}\label{_lo_ra_mac_8c_a9f1317151d5bee85c310b5aa2d38725a}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Initialization\+Time@{Lo\+Ra\+Mac\+Initialization\+Time}}
\index{Lo\+Ra\+Mac\+Initialization\+Time@{Lo\+Ra\+Mac\+Initialization\+Time}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Initialization\+Time}{LoRaMacInitializationTime}}
{\footnotesize\ttfamily \mbox{\hyperlink{utilities_8h_a4215ca43d3e953099ea758ce428599d0}{Timer\+Time\+\_\+t}} Lo\+Ra\+Mac\+Initialization\+Time = 0\hspace{0.3cm}{\ttfamily [static]}}

Stores the time at Lo\+Ra\+Mac initialization.

\begin{DoxyRemark}{Remarks}
Used for the B\+A\+C\+K\+O\+F\+F\+\_\+\+DC computation. 
\end{DoxyRemark}


Lo\+Ra\+Mac.\+c 파일의 297 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a7ca09f5a9430aecb3c21727f4aee5bf0}\label{_lo_ra_mac_8c_a7ca09f5a9430aecb3c21727f4aee5bf0}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Net\+ID@{Lo\+Ra\+Mac\+Net\+ID}}
\index{Lo\+Ra\+Mac\+Net\+ID@{Lo\+Ra\+Mac\+Net\+ID}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Net\+ID}{LoRaMacNetID}}
{\footnotesize\ttfamily uint32\+\_\+t Lo\+Ra\+Mac\+Net\+ID\hspace{0.3cm}{\ttfamily [static]}}

Network ID ( 3 bytes ) 

Lo\+Ra\+Mac.\+c 파일의 122 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a9816dc9026964ce255ef940f5db374e2}\label{_lo_ra_mac_8c_a9816dc9026964ce255ef940f5db374e2}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Nwk\+S\+Key@{Lo\+Ra\+Mac\+Nwk\+S\+Key}}
\index{Lo\+Ra\+Mac\+Nwk\+S\+Key@{Lo\+Ra\+Mac\+Nwk\+S\+Key}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Nwk\+S\+Key}{LoRaMacNwkSKey}}
{\footnotesize\ttfamily uint8\+\_\+t Lo\+Ra\+Mac\+Nwk\+S\+Key\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries 초기값\+:}
\begin{DoxyCode}
=
\{
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
\}
\end{DoxyCode}
A\+ES encryption/decryption cipher network session key 

Lo\+Ra\+Mac.\+c 파일의 98 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}\label{_lo_ra_mac_8c_a4ae7d4019f8156167d8bcb97dff69a41}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Params@{Lo\+Ra\+Mac\+Params}}
\index{Lo\+Ra\+Mac\+Params@{Lo\+Ra\+Mac\+Params}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Params}{LoRaMacParams}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_gad9c979008eadcd47b4d0f90bdae38b44}{Lo\+Ra\+Mac\+Params\+\_\+t}} Lo\+Ra\+Mac\+Params}

Lo\+Ra\+Mac parameters 

Lo\+Ra\+Mac.\+c 파일의 247 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ade912e866cc955f089bb441a0f7d50b6}\label{_lo_ra_mac_8c_ade912e866cc955f089bb441a0f7d50b6}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Params\+Defaults@{Lo\+Ra\+Mac\+Params\+Defaults}}
\index{Lo\+Ra\+Mac\+Params\+Defaults@{Lo\+Ra\+Mac\+Params\+Defaults}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Params\+Defaults}{LoRaMacParamsDefaults}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_gad9c979008eadcd47b4d0f90bdae38b44}{Lo\+Ra\+Mac\+Params\+\_\+t}} Lo\+Ra\+Mac\+Params\+Defaults}

Lo\+Ra\+Mac default parameters 

Lo\+Ra\+Mac.\+c 파일의 252 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a18bac241dfa18d510ea2e53f0c740bd3}\label{_lo_ra_mac_8c_a18bac241dfa18d510ea2e53f0c740bd3}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Primitives@{Lo\+Ra\+Mac\+Primitives}}
\index{Lo\+Ra\+Mac\+Primitives@{Lo\+Ra\+Mac\+Primitives}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Primitives}{LoRaMacPrimitives}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_gafc0443f59f49d8597c0accb5e6074c44}{Lo\+Ra\+Mac\+Primitives\+\_\+t}}$\ast$ Lo\+Ra\+Mac\+Primitives\hspace{0.3cm}{\ttfamily [static]}}

Lo\+Ra\+Mac upper layer event functions 

Lo\+Ra\+Mac.\+c 파일의 327 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}\label{_lo_ra_mac_8c_ab3e53bd4a0f4e547c9dbf450406acfe5}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Region@{Lo\+Ra\+Mac\+Region}}
\index{Lo\+Ra\+Mac\+Region@{Lo\+Ra\+Mac\+Region}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Region}{LoRaMacRegion}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga80c48efda9ae02e14b58160d34a798dd}{Lo\+Ra\+Mac\+Region\+\_\+t}} Lo\+Ra\+Mac\+Region\hspace{0.3cm}{\ttfamily [static]}}

Lo\+Ra\+Mac region. 

Lo\+Ra\+Mac.\+c 파일의 63 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}\label{_lo_ra_mac_8c_a28178f91676f21531dfe16034396da77}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Rx\+Payload@{Lo\+Ra\+Mac\+Rx\+Payload}}
\index{Lo\+Ra\+Mac\+Rx\+Payload@{Lo\+Ra\+Mac\+Rx\+Payload}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Rx\+Payload}{LoRaMacRxPayload}}
{\footnotesize\ttfamily uint8\+\_\+t Lo\+Ra\+Mac\+Rx\+Payload\mbox{[}\mbox{\hyperlink{_lo_ra_mac_8c_a54769799fcc79d1d3fd1f19f123cc57b}{L\+O\+R\+A\+M\+A\+C\+\_\+\+P\+H\+Y\+\_\+\+M\+A\+X\+P\+A\+Y\+L\+O\+AD}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

Buffer containing the upper layer data. 

Lo\+Ra\+Mac.\+c 파일의 167 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}\label{_lo_ra_mac_8c_a53bc4ca09907ed24a1be62fa76c310ca}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+State@{Lo\+Ra\+Mac\+State}}
\index{Lo\+Ra\+Mac\+State@{Lo\+Ra\+Mac\+State}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+State}{LoRaMacState}}
{\footnotesize\ttfamily uint32\+\_\+t Lo\+Ra\+Mac\+State = \mbox{\hyperlink{_lo_ra_mac_8c_ada0bdc03d52b5bf536f021dcea7c4490a3af5105c630ff1cfa443789cfa2f318c}{L\+O\+R\+A\+M\+A\+C\+\_\+\+I\+D\+LE}}}

Lo\+Ra\+Mac internal state 

Lo\+Ra\+Mac.\+c 파일의 317 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}\label{_lo_ra_mac_8c_a4d804b18131c6a241dd41197e68f9f0c}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Lo\+Ra\+Mac\+Tx\+Payload\+Len@{Lo\+Ra\+Mac\+Tx\+Payload\+Len}}
\index{Lo\+Ra\+Mac\+Tx\+Payload\+Len@{Lo\+Ra\+Mac\+Tx\+Payload\+Len}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Lo\+Ra\+Mac\+Tx\+Payload\+Len}{LoRaMacTxPayloadLen}}
{\footnotesize\ttfamily uint8\+\_\+t Lo\+Ra\+Mac\+Tx\+Payload\+Len = 0\hspace{0.3cm}{\ttfamily [static]}}

Length of the payload in Lo\+Ra\+Mac\+Buffer 

Lo\+Ra\+Mac.\+c 파일의 162 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}\label{_lo_ra_mac_8c_a23a9c455822907765136faa2239b13c3}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Mac\+Commands\+Buffer@{Mac\+Commands\+Buffer}}
\index{Mac\+Commands\+Buffer@{Mac\+Commands\+Buffer}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Mac\+Commands\+Buffer}{MacCommandsBuffer}}
{\footnotesize\ttfamily uint8\+\_\+t Mac\+Commands\+Buffer\mbox{[}\mbox{\hyperlink{_lo_ra_mac_8c_a4ac517018d0390785daf8d90bf99df8f}{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

Buffer containing the M\+AC layer commands 

Lo\+Ra\+Mac.\+c 파일의 237 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}\label{_lo_ra_mac_8c_aef33b9ec32d4536ae8d838ecc03372e3}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Mac\+Commands\+Buffer\+Index@{Mac\+Commands\+Buffer\+Index}}
\index{Mac\+Commands\+Buffer\+Index@{Mac\+Commands\+Buffer\+Index}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Mac\+Commands\+Buffer\+Index}{MacCommandsBufferIndex}}
{\footnotesize\ttfamily uint8\+\_\+t Mac\+Commands\+Buffer\+Index = 0\hspace{0.3cm}{\ttfamily [static]}}

Contains the current Mac\+Commands\+Buffer index 

Lo\+Ra\+Mac.\+c 파일의 227 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_abebef1d62dd02162c5f9dd50ba478682}\label{_lo_ra_mac_8c_abebef1d62dd02162c5f9dd50ba478682}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Mac\+Commands\+Buffer\+To\+Repeat@{Mac\+Commands\+Buffer\+To\+Repeat}}
\index{Mac\+Commands\+Buffer\+To\+Repeat@{Mac\+Commands\+Buffer\+To\+Repeat}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Mac\+Commands\+Buffer\+To\+Repeat}{MacCommandsBufferToRepeat}}
{\footnotesize\ttfamily uint8\+\_\+t Mac\+Commands\+Buffer\+To\+Repeat\mbox{[}\mbox{\hyperlink{_lo_ra_mac_8c_a4ac517018d0390785daf8d90bf99df8f}{L\+O\+R\+A\+\_\+\+M\+A\+C\+\_\+\+C\+O\+M\+M\+A\+N\+D\+\_\+\+M\+A\+X\+\_\+\+L\+E\+N\+G\+TH}}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}

Buffer containing the M\+AC layer commands which must be repeated 

Lo\+Ra\+Mac.\+c 파일의 242 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a44f97c375266b0b4b2e9d5f8fc01c43f}\label{_lo_ra_mac_8c_a44f97c375266b0b4b2e9d5f8fc01c43f}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Mac\+Commands\+Buffer\+To\+Repeat\+Index@{Mac\+Commands\+Buffer\+To\+Repeat\+Index}}
\index{Mac\+Commands\+Buffer\+To\+Repeat\+Index@{Mac\+Commands\+Buffer\+To\+Repeat\+Index}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Mac\+Commands\+Buffer\+To\+Repeat\+Index}{MacCommandsBufferToRepeatIndex}}
{\footnotesize\ttfamily uint8\+\_\+t Mac\+Commands\+Buffer\+To\+Repeat\+Index = 0\hspace{0.3cm}{\ttfamily [static]}}

Contains the current Mac\+Commands\+Buffer index for M\+AC commands to repeat 

Lo\+Ra\+Mac.\+c 파일의 232 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a2231642d3200b2ff5f7dba09ab9a04cc}\label{_lo_ra_mac_8c_a2231642d3200b2ff5f7dba09ab9a04cc}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Mac\+Commands\+In\+Next\+Tx@{Mac\+Commands\+In\+Next\+Tx}}
\index{Mac\+Commands\+In\+Next\+Tx@{Mac\+Commands\+In\+Next\+Tx}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Mac\+Commands\+In\+Next\+Tx}{MacCommandsInNextTx}}
{\footnotesize\ttfamily bool Mac\+Commands\+In\+Next\+Tx = false\hspace{0.3cm}{\ttfamily [static]}}

Indicates if the M\+AC layer wants to send M\+AC commands 

Lo\+Ra\+Mac.\+c 파일의 222 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}\label{_lo_ra_mac_8c_a614fc563eb06d333c0cb5df1a13c62d7}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Mac\+State\+Check\+Timer@{Mac\+State\+Check\+Timer}}
\index{Mac\+State\+Check\+Timer@{Mac\+State\+Check\+Timer}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Mac\+State\+Check\+Timer}{MacStateCheckTimer}}
{\footnotesize\ttfamily \mbox{\hyperlink{time_server_8h_ae706369dabb8aa6c6075f25119b052a5}{Timer\+Event\+\_\+t}} Mac\+State\+Check\+Timer\hspace{0.3cm}{\ttfamily [static]}}

Lo\+Ra\+Mac timer used to check the Lo\+Ra\+Mac\+State (runs every second) 

Lo\+Ra\+Mac.\+c 파일의 322 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_af9c30f05777197d7d35dbc91353c3202}\label{_lo_ra_mac_8c_af9c30f05777197d7d35dbc91353c3202}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Max\+D\+Cycle@{Max\+D\+Cycle}}
\index{Max\+D\+Cycle@{Max\+D\+Cycle}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Max\+D\+Cycle}{MaxDCycle}}
{\footnotesize\ttfamily uint8\+\_\+t Max\+D\+Cycle = 0\hspace{0.3cm}{\ttfamily [static]}}

Maximum duty cycle \begin{DoxyRemark}{Remarks}
Possibility to shutdown the device. 
\end{DoxyRemark}


Lo\+Ra\+Mac.\+c 파일의 263 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}\label{_lo_ra_mac_8c_a4d002492bf36a1dbb2a117e502bf7976}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Mcps\+Confirm@{Mcps\+Confirm}}
\index{Mcps\+Confirm@{Mcps\+Confirm}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Mcps\+Confirm}{McpsConfirm}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga925536babf8abe83918a19f5ae88bd44}{Mcps\+Confirm\+\_\+t}} Mcps\+Confirm\hspace{0.3cm}{\ttfamily [static]}}

Structure to hold M\+C\+PS confirm data. 

Lo\+Ra\+Mac.\+c 파일의 397 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}\label{_lo_ra_mac_8c_ae570ce7eea4a723d19e137009d74d7e1}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Mcps\+Indication@{Mcps\+Indication}}
\index{Mcps\+Indication@{Mcps\+Indication}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Mcps\+Indication}{McpsIndication}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga202591b6553d63fae89bd42787496616}{Mcps\+Indication\+\_\+t}} Mcps\+Indication\hspace{0.3cm}{\ttfamily [static]}}

Structure to hold M\+C\+PS indication data. 

Lo\+Ra\+Mac.\+c 파일의 392 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}\label{_lo_ra_mac_8c_af90ea3f9a8e5e492aa19bdf38831b07e}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Mlme\+Confirm@{Mlme\+Confirm}}
\index{Mlme\+Confirm@{Mlme\+Confirm}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Mlme\+Confirm}{MlmeConfirm}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga73d9d9e11e282a6c258c4d22865fe824}{Mlme\+Confirm\+\_\+t}} Mlme\+Confirm\hspace{0.3cm}{\ttfamily [static]}}

Structure to hold M\+L\+ME confirm data. 

Lo\+Ra\+Mac.\+c 파일의 407 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a666e4b5667243c4dcf2ebb931246619d}\label{_lo_ra_mac_8c_a666e4b5667243c4dcf2ebb931246619d}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Mlme\+Indication@{Mlme\+Indication}}
\index{Mlme\+Indication@{Mlme\+Indication}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Mlme\+Indication}{MlmeIndication}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga3003d863a5b49c5f3371ffa5cabb1a0b}{Mlme\+Indication\+\_\+t}} Mlme\+Indication\hspace{0.3cm}{\ttfamily [static]}}

Structure to hold M\+L\+ME indication data. 

Lo\+Ra\+Mac.\+c 파일의 402 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_aca81cdf8cb24b9a7e02f40d0b9565013}\label{_lo_ra_mac_8c_aca81cdf8cb24b9a7e02f40d0b9565013}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Multicast\+Channels@{Multicast\+Channels}}
\index{Multicast\+Channels@{Multicast\+Channels}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Multicast\+Channels}{MulticastChannels}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga02d2523505cac70954c043074087ea65}{Multicast\+Params\+\_\+t}}$\ast$ Multicast\+Channels = N\+U\+LL\hspace{0.3cm}{\ttfamily [static]}}

Multicast channels linked list 

Lo\+Ra\+Mac.\+c 파일의 132 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}\label{_lo_ra_mac_8c_aa8b1d676119798345f588d3ab525e83f}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Node\+Ack\+Requested@{Node\+Ack\+Requested}}
\index{Node\+Ack\+Requested@{Node\+Ack\+Requested}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Node\+Ack\+Requested}{NodeAckRequested}}
{\footnotesize\ttfamily bool Node\+Ack\+Requested = false\hspace{0.3cm}{\ttfamily [static]}}

If the node has sent a F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+D\+A\+T\+A\+\_\+\+C\+O\+N\+F\+I\+R\+M\+E\+D\+\_\+\+UP this variable indicates if the nodes needs to manage the server acknowledgement. 

Lo\+Ra\+Mac.\+c 파일의 211 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ad5c7c76904042bd86508425be3b91a05}\label{_lo_ra_mac_8c_ad5c7c76904042bd86508425be3b91a05}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Public\+Network@{Public\+Network}}
\index{Public\+Network@{Public\+Network}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Public\+Network}{PublicNetwork}}
{\footnotesize\ttfamily bool Public\+Network\hspace{0.3cm}{\ttfamily [static]}}

Indicates if the node is connected to a private or public network 

Lo\+Ra\+Mac.\+c 파일의 142 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ab2d43d0043628b27fcec8e64b0e86086}\label{_lo_ra_mac_8c_ab2d43d0043628b27fcec8e64b0e86086}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Radio\+Events@{Radio\+Events}}
\index{Radio\+Events@{Radio\+Events}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Radio\+Events}{RadioEvents}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_radio_events__t}{Radio\+Events\+\_\+t}} Radio\+Events\hspace{0.3cm}{\ttfamily [static]}}

Radio events function pointer 

Lo\+Ra\+Mac.\+c 파일의 337 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a037bdbc41e8b3deeaab3684cf4b23f66}\label{_lo_ra_mac_8c_a037bdbc41e8b3deeaab3684cf4b23f66}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Repeater\+Support@{Repeater\+Support}}
\index{Repeater\+Support@{Repeater\+Support}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Repeater\+Support}{RepeaterSupport}}
{\footnotesize\ttfamily bool Repeater\+Support\hspace{0.3cm}{\ttfamily [static]}}

Indicates if the node supports repeaters 

Lo\+Ra\+Mac.\+c 파일의 147 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a0a258bf8cfad5219bfd579257e523fc1}\label{_lo_ra_mac_8c_a0a258bf8cfad5219bfd579257e523fc1}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Rx\+Slot@{Rx\+Slot}}
\index{Rx\+Slot@{Rx\+Slot}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Rx\+Slot}{RxSlot}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___l_o_r_a_m_a_c_ga082bd3322087fa2f42c902a0b360ff4f}{Lo\+Ra\+Mac\+Rx\+Slot\+\_\+t}} Rx\+Slot\hspace{0.3cm}{\ttfamily [static]}}

Holds the current rx window slot 

Lo\+Ra\+Mac.\+c 파일의 412 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}\label{_lo_ra_mac_8c_a4b5a51566f5c93aa5835393158c21460}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Rx\+Window1\+Config@{Rx\+Window1\+Config}}
\index{Rx\+Window1\+Config@{Rx\+Window1\+Config}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Rx\+Window1\+Config}{RxWindow1Config}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___r_e_g_i_o_n_ga375c038078dfcfc7ef14280021db719e}{Rx\+Config\+Params\+\_\+t}} Rx\+Window1\+Config\hspace{0.3cm}{\ttfamily [static]}}

Lo\+Ra\+Mac Rx windows configuration 

Lo\+Ra\+Mac.\+c 파일의 361 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a90fcc76489ac561999ed35075ccbea8e}\label{_lo_ra_mac_8c_a90fcc76489ac561999ed35075ccbea8e}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Rx\+Window1\+Delay@{Rx\+Window1\+Delay}}
\index{Rx\+Window1\+Delay@{Rx\+Window1\+Delay}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Rx\+Window1\+Delay}{RxWindow1Delay}}
{\footnotesize\ttfamily uint32\+\_\+t Rx\+Window1\+Delay\hspace{0.3cm}{\ttfamily [static]}}

Lo\+Ra\+Mac reception windows delay \begin{DoxyRemark}{Remarks}
normal frame\+: Rx\+Window\+X\+Delay = Receive\+DelayX -\/ R\+A\+D\+I\+O\+\_\+\+W\+A\+K\+E\+U\+P\+\_\+\+T\+I\+ME join frame \+: Rx\+Window\+X\+Delay = Join\+Accept\+DelayX -\/ R\+A\+D\+I\+O\+\_\+\+W\+A\+K\+E\+U\+P\+\_\+\+T\+I\+ME 
\end{DoxyRemark}


Lo\+Ra\+Mac.\+c 파일의 355 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}\label{_lo_ra_mac_8c_abd43c1e7b17ac25a77382637f8a64cad}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Rx\+Window2\+Config@{Rx\+Window2\+Config}}
\index{Rx\+Window2\+Config@{Rx\+Window2\+Config}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Rx\+Window2\+Config}{RxWindow2Config}}
{\footnotesize\ttfamily \mbox{\hyperlink{group___r_e_g_i_o_n_ga375c038078dfcfc7ef14280021db719e}{Rx\+Config\+Params\+\_\+t}} Rx\+Window2\+Config\hspace{0.3cm}{\ttfamily [static]}}



Lo\+Ra\+Mac.\+c 파일의 362 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a52008ffee9185d56a2dc9dc3c390ed22}\label{_lo_ra_mac_8c_a52008ffee9185d56a2dc9dc3c390ed22}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Rx\+Window2\+Delay@{Rx\+Window2\+Delay}}
\index{Rx\+Window2\+Delay@{Rx\+Window2\+Delay}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Rx\+Window2\+Delay}{RxWindow2Delay}}
{\footnotesize\ttfamily uint32\+\_\+t Rx\+Window2\+Delay\hspace{0.3cm}{\ttfamily [static]}}



Lo\+Ra\+Mac.\+c 파일의 356 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_a22b50acc163059d07ebaea70180be11e}\label{_lo_ra_mac_8c_a22b50acc163059d07ebaea70180be11e}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Rx\+Window\+Timer1@{Rx\+Window\+Timer1}}
\index{Rx\+Window\+Timer1@{Rx\+Window\+Timer1}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Rx\+Window\+Timer1}{RxWindowTimer1}}
{\footnotesize\ttfamily \mbox{\hyperlink{time_server_8h_ae706369dabb8aa6c6075f25119b052a5}{Timer\+Event\+\_\+t}} Rx\+Window\+Timer1\hspace{0.3cm}{\ttfamily [static]}}

Lo\+Ra\+Mac reception windows timers 

Lo\+Ra\+Mac.\+c 파일의 347 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ad7a9d17000e9b3575a2ec1ae5c45d145}\label{_lo_ra_mac_8c_ad7a9d17000e9b3575a2ec1ae5c45d145}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Rx\+Window\+Timer2@{Rx\+Window\+Timer2}}
\index{Rx\+Window\+Timer2@{Rx\+Window\+Timer2}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Rx\+Window\+Timer2}{RxWindowTimer2}}
{\footnotesize\ttfamily \mbox{\hyperlink{time_server_8h_ae706369dabb8aa6c6075f25119b052a5}{Timer\+Event\+\_\+t}} Rx\+Window\+Timer2\hspace{0.3cm}{\ttfamily [static]}}



Lo\+Ra\+Mac.\+c 파일의 348 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ab2844ac436592f1158ef418473f0fe85}\label{_lo_ra_mac_8c_ab2844ac436592f1158ef418473f0fe85}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Srv\+Ack\+Requested@{Srv\+Ack\+Requested}}
\index{Srv\+Ack\+Requested@{Srv\+Ack\+Requested}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Srv\+Ack\+Requested}{SrvAckRequested}}
{\footnotesize\ttfamily bool Srv\+Ack\+Requested = false\hspace{0.3cm}{\ttfamily [static]}}

If the server has sent a F\+R\+A\+M\+E\+\_\+\+T\+Y\+P\+E\+\_\+\+D\+A\+T\+A\+\_\+\+C\+O\+N\+F\+I\+R\+M\+E\+D\+\_\+\+D\+O\+WN this variable indicates if the A\+CK bit must be set for the next transmission 

Lo\+Ra\+Mac.\+c 파일의 217 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_aa28e0f35d9a6698802f27ea76ad955ea}\label{_lo_ra_mac_8c_aa28e0f35d9a6698802f27ea76ad955ea}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Tx\+Delayed\+Timer@{Tx\+Delayed\+Timer}}
\index{Tx\+Delayed\+Timer@{Tx\+Delayed\+Timer}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Tx\+Delayed\+Timer}{TxDelayedTimer}}
{\footnotesize\ttfamily \mbox{\hyperlink{time_server_8h_ae706369dabb8aa6c6075f25119b052a5}{Timer\+Event\+\_\+t}} Tx\+Delayed\+Timer\hspace{0.3cm}{\ttfamily [static]}}

Lo\+Ra\+Mac duty cycle delayed Tx timer 

Lo\+Ra\+Mac.\+c 파일의 342 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_aa17a8607485db100d315e74853dd217e}\label{_lo_ra_mac_8c_aa17a8607485db100d315e74853dd217e}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Tx\+Time\+On\+Air@{Tx\+Time\+On\+Air}}
\index{Tx\+Time\+On\+Air@{Tx\+Time\+On\+Air}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Tx\+Time\+On\+Air}{TxTimeOnAir}}
{\footnotesize\ttfamily \mbox{\hyperlink{utilities_8h_a4215ca43d3e953099ea758ce428599d0}{Timer\+Time\+\_\+t}} Tx\+Time\+On\+Air = 0}

Last transmission time on air 

Lo\+Ra\+Mac.\+c 파일의 387 번째 라인에서 정의되었습니다.

\mbox{\Hypertarget{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}\label{_lo_ra_mac_8c_ae8c54ca277e4d7295dfd498889e42fdd}} 
\index{Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}!Up\+Link\+Counter@{Up\+Link\+Counter}}
\index{Up\+Link\+Counter@{Up\+Link\+Counter}!Lo\+Ra\+Mac.\+c@{Lo\+Ra\+Mac.\+c}}
\subsubsection{\texorpdfstring{Up\+Link\+Counter}{UpLinkCounter}}
{\footnotesize\ttfamily uint32\+\_\+t Up\+Link\+Counter = 0\hspace{0.3cm}{\ttfamily [static]}}

Lo\+Ra\+M\+AC frame counter. Each time a packet is sent the counter is incremented. Only the 16 L\+SB bits are sent 

Lo\+Ra\+Mac.\+c 파일의 173 번째 라인에서 정의되었습니다.

